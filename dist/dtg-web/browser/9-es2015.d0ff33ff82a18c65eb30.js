(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{jkDv:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return dn}));var i=n("tyNb"),o=n("3Pt+"),r=n("ofXK"),a=n("fXoL"),s=n("LRne"),c=n("lJxs"),b=n("JIr8"),l=n("8PDw");let d=(()=>{class e{constructor(e,t,n){this.authService=e,this.router=t,this.platformId=n}canActivate(e,t){return!!Object(r.p)(this.platformId)||this.checkAdmin()}canLoad(e){return this.authService.checkAuthenticationStatusForGuard().pipe(Object(c.a)(e=>{if(e)return!0}),Object(b.a)(()=>(this.router.navigate(["/"]),Object(s.a)(!1))))}checkAdmin(){return!!this.authService.currentUser.isAdmin||(this.router.navigateByUrl("/"),!1)}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(l.a),a.Tb(i.f),a.Tb(a.B))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n("tk/3"),u=n("z6cu");let h=(()=>{class e{constructor(e,t){this.http=e,this.authService=t,this.baseTeamUrl="https://www.discussthegame.com/api/admin/teams",this.baseTriviaUrl="https://www.discussthegame.com/api/admin/trivias",this.baseUsersUrl="https://www.discussthegame.com/api/admin/users",this.baseGameUrl="https://www.discussthegame.com/api/admin/games",this.baseBadgeUrl="https://www.discussthegame.com/api/admin/badges",this.basePollUrl="https://www.discussthegame.com/api/admin/polls",this.baseReportUrl="https://www.discussthegame.com/api/admin/reports",this.basUserPostsUrl="https://www.discussthegame.com/api/admin/posts",this.basUserDiscussionsUrl="https://www.discussthegame.com/api/admin/discussions",this.basUserRepliesUrl="https://www.discussthegame.com/api/admin/replies"}deleteGame(e){let t=new m.d;return t=t.append("Content-Type","application/json"),t=t.append("Authorization",this.authService.token),this.http.post(this.baseGameUrl+"/i/delete-game",e,{headers:t}).pipe(Object(c.a)(e=>e.succeded),Object(b.a)(this.handleError))}addTeam(e){let t=new m.d;return t=t.append("Content-Type","application/json"),t=t.append("Authorization",this.authService.token),this.http.post(this.baseTeamUrl,e,{headers:t}).pipe(Object(b.a)(this.handleError))}getTrivias(e){let t=new m.d;return t=t.append("Content-Type","application/json"),t=t.append("Authorization",this.authService.token),this.http.get(this.baseTriviaUrl+"?skip="+e,{headers:t}).pipe(Object(b.a)(this.handleError))}updateTrivia(e,t){let n=new m.d;return n=n.append("Content-Type","application/json"),n=n.append("Authorization",this.authService.token),this.http.put(this.baseTriviaUrl+"/"+t,e,{headers:n}).pipe(Object(b.a)(this.handleError))}addTrivia(e){let t=new m.d;return t=t.append("Content-Type","application/json"),t=t.append("Authorization",this.authService.token),this.http.post(this.baseTriviaUrl,e,{headers:t}).pipe(Object(b.a)(this.handleError))}addGame(e){let t=new m.d;return t=t.append("Content-Type","application/json"),t=t.append("Authorization",this.authService.token),this.http.post(this.baseGameUrl,e,{headers:t}).pipe(Object(b.a)(this.handleError))}addBadge(e){let t=new m.d;return t=t.append("Content-Type","application/json"),t=t.append("Authorization",this.authService.token),this.http.post(this.baseBadgeUrl,e,{headers:t}).pipe(Object(b.a)(this.handleError))}getBadges(){let e=new m.d;return e=e.append("Content-Type","application/json"),e=e.append("Authorization",this.authService.token),this.http.get(this.baseBadgeUrl,{headers:e}).pipe(Object(b.a)(this.handleError))}getUsers(e){let t=e.username,n=new m.d;return n=n.append("Content-Type","application/json"),n=n.append("Authorization",this.authService.token),this.http.get(this.baseUsersUrl+"/"+t,{headers:n}).pipe(Object(b.a)(this.handleError))}getReports(){let e=new m.d;return e=e.append("Content-Type","application/json"),e=e.append("Authorization",this.authService.token),this.http.get(this.baseReportUrl,{headers:e}).pipe(Object(b.a)(this.handleError))}updateBadge(e,t){let n=new m.d;return n=n.append("Content-Type","application/json"),n=n.append("Authorization",this.authService.token),this.http.put(this.baseBadgeUrl+"/"+t,e,{headers:n}).pipe(Object(b.a)(this.handleError))}updateReport(e,t){let n=new m.d;return n=n.append("Content-Type","application/json"),n=n.append("Authorization",this.authService.token),this.http.put(this.baseReportUrl+"/"+t,e,{headers:n}).pipe(Object(b.a)(this.handleError))}blockUserAccount(e){let t=new m.d;return t=t.append("Content-Type","application/json"),t=t.append("Authorization",this.authService.token),this.http.put(this.baseUsersUrl+"/"+e.id,e,{headers:t}).pipe(Object(b.a)(this.handleError))}getTeams(){let e=new m.d;return e=e.append("Authorization",this.authService.token),this.http.get(this.baseTeamUrl,{headers:e}).pipe(Object(b.a)(this.handleError))}getUserPosts(e,t){let n=new m.d;return n=n.append("Authorization",this.authService.token),this.http.get(this.basUserPostsUrl+"/"+e+"?skip="+t,{headers:n}).pipe(Object(b.a)(this.handleError))}getUserDiscussions(e,t){let n=new m.d;return n=n.append("Authorization",this.authService.token),this.http.get(this.basUserDiscussionsUrl+"/"+e+"?skip="+t,{headers:n}).pipe(Object(b.a)(this.handleError))}getUserReplies(e,t){let n=new m.d;return n=n.append("Content-Type","application/json"),n=n.append("Authorization",this.authService.token),this.http.get(this.basUserRepliesUrl+"/"+e+"?skip="+t,{headers:n}).pipe(Object(b.a)(this.handleError))}getGames(e,t){let n=new m.d;return n=n.append("Authorization",this.authService.token),this.http.get(this.baseGameUrl+"?skip="+e+"&league="+t,{headers:n}).pipe(Object(b.a)(this.handleError))}updateTeam(e,t){let n=new m.d;return n=n.append("Content-Type","application/json"),n=n.append("Authorization",this.authService.token),this.http.put(this.baseTeamUrl+"/"+t,e,{headers:n}).pipe(Object(b.a)(this.handleError))}updateGame(e,t){let n=new m.d;return n=n.append("Content-Type","application/json"),n=n.append("Authorization",this.authService.token),this.http.put(this.baseGameUrl+"/"+t,e,{headers:n}).pipe(Object(b.a)(this.handleError))}handleError(e){console.error("server error:",e);let t="Something went wrong";return t=e instanceof m.c?"Something went wrong":`Error Code: ${e.status}\nMessage: ${e.message}`,Object(u.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(m.a),a.Tb(l.a))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function p(e,t){1&e&&a.Nb(0,"i",5)}function g(e,t){1&e&&a.Nb(0,"i",6)}function f(e,t){1&e&&(a.Pb(0,"div",9),a.Pb(1,"label",17),a.sc(2,"Stadium:"),a.Ob(),a.Nb(3,"input",18),a.Ob())}function P(e,t){if(1&e&&(a.Pb(0,"option",22),a.sc(1),a.Ob()),2&e){const e=t.$implicit;a.hc("value",e),a.Bb(1),a.tc(e)}}function O(e,t){if(1&e&&(a.Pb(0,"div",9),a.Pb(1,"label",19),a.sc(2,"Wins:"),a.Ob(),a.Pb(3,"select",20),a.rc(4,P,2,2,"option",21),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.Bb(4),a.hc("ngForOf",e.wins)}}function v(e,t){if(1&e&&(a.Pb(0,"option",22),a.sc(1),a.Ob()),2&e){const e=t.$implicit;a.hc("value",e),a.Bb(1),a.tc(e)}}function y(e,t){if(1&e&&(a.Pb(0,"div",9),a.Pb(1,"label",23),a.sc(2,"Loses:"),a.Ob(),a.Pb(3,"select",24),a.rc(4,v,2,2,"option",21),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.Bb(4),a.hc("ngForOf",e.loses)}}function w(e,t){if(1&e&&(a.Pb(0,"option",22),a.sc(1),a.Ob()),2&e){const e=t.$implicit;a.hc("value",e),a.Bb(1),a.tc(e)}}function T(e,t){if(1&e&&(a.Pb(0,"div",9),a.Pb(1,"label",25),a.sc(2,"OTL:"),a.Ob(),a.Pb(3,"select",26),a.rc(4,w,2,2,"option",21),a.Ob(),a.Ob()),2&e){const e=a.bc(2);a.Bb(4),a.hc("ngForOf",e.loses)}}function x(e,t){if(1&e&&(a.Pb(0,"div",27),a.sc(1),a.Ob()),2&e){const e=a.bc(2);a.Bb(1),a.uc(" ",null==e.team?null:e.team.teamName," has been updated. ")}}function B(e,t){1&e&&(a.Pb(0,"div",28),a.sc(1," There was a problem in the server. "),a.Ob())}function C(e,t){1&e&&a.Nb(0,"i",29)}function M(e,t){if(1&e&&(a.Pb(0,"button",30),a.sc(1,"Update Team"),a.Ob()),2&e){const e=a.bc(2);a.hc("disabled",!e.teamForm.valid)}}function k(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",7),a.Pb(1,"form",8),a.Xb("ngSubmit",(function(){a.mc(e);const t=a.bc();return t.submit(t.teamForm.value)})),a.Pb(2,"div",9),a.Pb(3,"label",10),a.sc(4,"Background Color:"),a.Ob(),a.Nb(5,"input",11),a.Ob(),a.rc(6,f,4,0,"div",12),a.rc(7,O,5,1,"div",12),a.rc(8,y,5,1,"div",12),a.rc(9,T,5,1,"div",12),a.rc(10,x,2,1,"div",13),a.rc(11,B,2,0,"div",14),a.rc(12,C,1,0,"i",15),a.rc(13,M,2,1,"button",16),a.Ob(),a.Ob()}if(2&e){const e=a.bc();a.Bb(1),a.hc("formGroup",e.teamForm),a.Bb(5),a.hc("ngIf","Soccer"!==e.team.league),a.Bb(1),a.hc("ngIf","Soccer"!=e.team.league),a.Bb(1),a.hc("ngIf","Soccer"!=e.team.league),a.Bb(1),a.hc("ngIf","NHL"==e.team.league),a.Bb(1),a.hc("ngIf",e.updated),a.Bb(1),a.hc("ngIf",e.error),a.Bb(1),a.hc("ngIf",e.loading),a.Bb(1),a.hc("ngIf",!e.loading)}}let _=(()=>{class e{constructor(e,t){this.formBuilder=e,this.adminService=t,this.showDetail=!1,this.loading=!1,this.updated=!1,this.error=!1,this.possibleWinsAndLoses=150,this.wins=[],this.loses=[]}ngOnInit(){this.buildForm(),this.populateWinsAndLoses()}buildForm(){this.teamForm=this.formBuilder.group({stadium:[this.team.stadium||""],wins:[this.team.wins||0],loses:[this.team.loses||0],otl:[this.team.otl||0],background:[this.team.background||"",o.q.required]})}populateWinsAndLoses(){for(let e=0;e<this.possibleWinsAndLoses;e++)this.wins.push(e),this.loses.push(e)}submit(e){"NHL"!=this.team.league&&(e.otl=void 0),"Soccer"==this.team.league&&(e.wins=void 0,e.loses=void 0),this.loading=!0,this.adminService.updateTeam(e,this.team._id).subscribe(()=>{this.updated=!0,this.loading=!1,setTimeout(()=>{this.updated=!1},5e3)},e=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.c),a.Mb(h))},e.\u0275cmp=a.Gb({type:e,selectors:[["team-detail"]],inputs:{team:"team"},decls:8,vars:5,consts:[[1,"main",3,"click"],["alt","Logo",1,"team-pic",3,"src"],["class","fa fa-angle-down","aria-hidden","true",4,"ngIf"],["class","fa fa-angle-up","aria-hidden","true",4,"ngIf"],["class","team-form",4,"ngIf"],["aria-hidden","true",1,"fa","fa-angle-down"],["aria-hidden","true",1,"fa","fa-angle-up"],[1,"team-form"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-form-label"],["type","text","id","","formControlName","background",1,"form-control"],["class","form-group",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","fa fa-spinner fa-pulse fa-fw",4,"ngIf"],["type","submit","class","btn btn-primary block",3,"disabled",4,"ngIf"],["for","stadium"],["id","stadium","type","text","formControlName","stadium",1,"form-control"],["for","league"],["id","wins","formControlName","wins",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","loses"],["id","loses","formControlName","loses",1,"form-control"],["for","otl"],["id","otl","formControlName","otl",1,"form-control"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-danger"],[1,"fa","fa-spinner","fa-pulse","fa-fw"],["type","submit",1,"btn","btn-primary","block",3,"disabled"]],template:function(e,t){1&e&&(a.Pb(0,"li"),a.Pb(1,"div",0),a.Xb("click",(function(){return t.showDetail=!t.showDetail})),a.Nb(2,"img",1),a.Pb(3,"b"),a.sc(4),a.Ob(),a.rc(5,p,1,0,"i",2),a.rc(6,g,1,0,"i",3),a.Ob(),a.rc(7,k,14,9,"div",4),a.Ob()),2&e&&(a.Bb(2),a.hc("src",null==t.team?null:t.team.logo,a.oc),a.Bb(2),a.tc(null==t.team?null:t.team.teamName),a.Bb(1),a.hc("ngIf",!t.showDetail),a.Bb(1),a.hc("ngIf",t.showDetail),a.Bb(1),a.hc("ngIf",t.showDetail))},directives:[r.j,o.s,o.k,o.e,o.a,o.j,o.d,o.p,r.i,o.m,o.r],styles:["li[_ngcontent-%COMP%] {\n        background: white;\n        margin-bottom: 15px;\n        \n    }\n\n    .team-form[_ngcontent-%COMP%] {\n        padding: 20px;\n    }\n\n    .main[_ngcontent-%COMP%] {\n        position: relative;\n        cursor: pointer;\n\n    }\n    \n    li[_ngcontent-%COMP%]:hover {\n        -moz-box-shadow: 0 2px 0  #18399B;\n        -webkit-box-shadow: 0 2px 0 #18399B;\n        box-shadow: 0 2px 0px  #18399B;\n    }\n    \n    .team-pic[_ngcontent-%COMP%] {\n        height: 60px;\n        width: 60px;\n        object-fit: contain;\n        margin: 5px 20px 5px 8px;\n    }\n    \n    .fa-angle-down[_ngcontent-%COMP%], .fa-angle-up[_ngcontent-%COMP%] {\n        position: absolute;\n        right: 20px;\n        top: 22px;\n        font-size: 25px;\n        color: #949494;\n        \n    }"]}),e})();function N(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",7),a.Xb("click",(function(){return a.mc(e),a.bc().add=!0})),a.sc(1," Add team"),a.Ob()}}function I(e,t){if(1&e){const e=a.Qb();a.Pb(0,"i",8),a.Xb("click",(function(){return a.mc(e),a.bc().add=!1})),a.Ob()}}function S(e,t){1&e&&(a.Pb(0,"div",32),a.sc(1," The team has been added to the DB. "),a.Ob())}function F(e,t){if(1&e&&(a.Pb(0,"button",33),a.sc(1,"Add Team"),a.Ob()),2&e){const e=a.bc(2);a.hc("disabled",!e.addForm.valid)}}function G(e,t){1&e&&a.Nb(0,"i",34)}function A(e,t){if(1&e){const e=a.Qb();a.Pb(0,"form",9),a.Xb("ngSubmit",(function(){a.mc(e);const t=a.bc();return t.submit(t.addForm.value)})),a.Pb(1,"div",10),a.Pb(2,"label",11),a.sc(3,"Logo:"),a.Ob(),a.Nb(4,"input",12),a.Ob(),a.Pb(5,"div",10),a.Pb(6,"label",13),a.sc(7,"Team Name:"),a.Ob(),a.Nb(8,"input",14),a.Ob(),a.Pb(9,"div",10),a.Pb(10,"label",15),a.sc(11,"Team Abbreviation:"),a.Ob(),a.Nb(12,"input",16),a.Ob(),a.Pb(13,"div",10),a.Pb(14,"label",17),a.sc(15,"Soccer League:"),a.Ob(),a.Pb(16,"select",18),a.Pb(17,"option",19),a.sc(18,"English Premier League"),a.Ob(),a.Pb(19,"option",20),a.sc(20,"Serie A"),a.Ob(),a.Pb(21,"option",21),a.sc(22,"MLS"),a.Ob(),a.Pb(23,"option",22),a.sc(24,"Bundesliga"),a.Ob(),a.Pb(25,"option",23),a.sc(26,"Eredivise"),a.Ob(),a.Pb(27,"option",24),a.sc(28,"La Liga"),a.Ob(),a.Pb(29,"option",25),a.sc(30,"Primeira Liga"),a.Ob(),a.Pb(31,"option",26),a.sc(32,"Ligue 1"),a.Ob(),a.Ob(),a.Ob(),a.Pb(33,"div",10),a.Pb(34,"label",27),a.sc(35,"League:"),a.Ob(),a.Pb(36,"select",28),a.Pb(37,"option"),a.sc(38,"NBA"),a.Ob(),a.Pb(39,"option"),a.sc(40,"NFL"),a.Ob(),a.Pb(41,"option"),a.sc(42,"Soccer"),a.Ob(),a.Pb(43,"option"),a.sc(44,"NHL"),a.Ob(),a.Pb(45,"option"),a.sc(46,"MLB"),a.Ob(),a.Pb(47,"option"),a.sc(48,"NCAAB"),a.Ob(),a.Pb(49,"option"),a.sc(50,"NCAAF"),a.Ob(),a.Ob(),a.Ob(),a.rc(51,S,2,0,"div",29),a.rc(52,F,2,1,"button",30),a.rc(53,G,1,0,"i",31),a.Ob()}if(2&e){const e=a.bc();a.hc("formGroup",e.addForm),a.Bb(51),a.hc("ngIf",e.updated),a.Bb(1),a.hc("ngIf",!e.loading),a.Bb(1),a.hc("ngIf",e.loading)}}function D(e,t){1&e&&a.Nb(0,"team-detail",37),2&e&&a.hc("team",t.$implicit)}function j(e,t){if(1&e&&(a.Pb(0,"ul",35),a.rc(1,D,1,1,"team-detail",36),a.Ob()),2&e){const e=a.bc();a.Bb(1),a.hc("ngForOf",e.visibleTeams)}}let q=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.adminService=t,this.authService=n,this.updated=!1,this.teams=[],this.add=!1,this.showDetail=!1,this.loading=!1,this.filterBy="NFL"}ngOnInit(){this.getTeams(),this.buildForm()}getTeams(){this.adminService.getTeams().subscribe(e=>{this.teams=e,this.filterGames(this.filterBy)},e=>{this.authService.errorMessage=e})}buildForm(){this.addForm=this.formBuilder.group({logo:["",o.q.required],teamName:["",o.q.required],abbreviation:["",o.q.required],league:["NFL",o.q.required],soccerLeague:[""]})}filterGames(e){this.filterBy=e,this.visibleTeams=this.teams.filter(t=>t.league==e)}submit(e){this.loading=!0,this.adminService.addTeam(e).subscribe(e=>{this.loading=!1,this.addForm.reset(),this.updated=!0,this.teams.push(e),setTimeout(()=>{this.updated=!1},5e3)},e=>{this.loading=!1,this.authService.errorMessage=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.c),a.Mb(h),a.Mb(l.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:22,vars:18,consts:[[1,"teams-container","min-height"],["class","btn btn-primary ml-5",3,"click",4,"ngIf"],["id","close-add","class","fa fa-times-circle",3,"click",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"links"],[3,"click"],["class","t-detail",4,"ngIf"],[1,"btn","btn-primary","ml-5",3,"click"],["id","close-add",1,"fa","fa-times-circle",3,"click"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","logo"],["id","logo","type","text","placeholder","Enter logo source (aws)","formControlName","logo",1,"form-control"],["for","teamName"],["id","teamName","type","text","placeholder","Enter team name","formControlName","teamName",1,"form-control"],["for","abbreviation"],["id","abbreviation","type","text","placeholder","Enter team abbreviation","formControlName","abbreviation",1,"form-control"],["for","soccerLeague"],["id","league","formControlName","soccerLeague",1,"form-control"],["value","English Premier League"],["value","Serie A"],["value","MLS"],["value","Bundesliga"],["value","Eredivise"],["value","La Liga"],["value","Primeira Liga"],["value","Ligue 1"],["for","league"],["id","league","formControlName","league",1,"form-control"],["class","alert alert-success","role","alert",4,"ngIf"],["type","submit","class","btn btn-primary block",3,"disabled",4,"ngIf"],["class","fa fa-spinner fa-pulse fa-fw",4,"ngIf"],["role","alert",1,"alert","alert-success"],["type","submit",1,"btn","btn-primary","block",3,"disabled"],[1,"fa","fa-spinner","fa-pulse","fa-fw"],[1,"t-detail"],[3,"team",4,"ngFor","ngForOf"],[3,"team"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"h4"),a.sc(2,"TEAMS"),a.Ob(),a.rc(3,N,2,0,"button",1),a.rc(4,I,1,0,"i",2),a.rc(5,A,54,4,"form",3),a.Pb(6,"ul",4),a.Pb(7,"li",5),a.Xb("click",(function(){return t.filterGames("NFL")})),a.sc(8," NFL "),a.Ob(),a.Pb(9,"li",5),a.Xb("click",(function(){return t.filterGames("NBA")})),a.sc(10," NBA "),a.Ob(),a.Pb(11,"li",5),a.Xb("click",(function(){return t.filterGames("NHL")})),a.sc(12," NHL "),a.Ob(),a.Pb(13,"li",5),a.Xb("click",(function(){return t.filterGames("Soccer")})),a.sc(14," Soccer "),a.Ob(),a.Pb(15,"li",5),a.Xb("click",(function(){return t.filterGames("MLB")})),a.sc(16," MLB "),a.Ob(),a.Pb(17,"li",5),a.Xb("click",(function(){return t.filterGames("NCAAB")})),a.sc(18," NCAAB "),a.Ob(),a.Pb(19,"li",5),a.Xb("click",(function(){return t.filterGames("NCAAF")})),a.sc(20," NCAAF "),a.Ob(),a.Ob(),a.rc(21,j,2,1,"ul",6),a.Ob()),2&e&&(a.Bb(3),a.hc("ngIf",!t.add),a.Bb(1),a.hc("ngIf",t.add),a.Bb(1),a.hc("ngIf",t.add),a.Bb(2),a.Db("active","NFL"===t.filterBy),a.Bb(2),a.Db("active","NBA"===t.filterBy),a.Bb(2),a.Db("active","NHL"===t.filterBy),a.Bb(2),a.Db("active","Soccer"===t.filterBy),a.Bb(2),a.Db("active","MLB"===t.filterBy),a.Bb(2),a.Db("active","NCAAB"===t.filterBy),a.Bb(2),a.Db("active","NCAAF"===t.filterBy),a.Bb(2),a.hc("ngIf",!t.add))},directives:[r.j,o.s,o.k,o.e,o.a,o.j,o.d,o.p,o.m,o.r,r.i,_],styles:[".teams-container[_ngcontent-%COMP%]{width:70%;margin:0 auto;padding-top:50px}h4[_ngcontent-%COMP%]{border-bottom:2px solid #000;display:inline-block;padding-bottom:5px;font-size:1.8rem}ul.t-detail[_ngcontent-%COMP%]{list-style-type:none;margin-top:25px}#close-add[_ngcontent-%COMP%]{font-size:25px;margin-left:75px;cursor:pointer}#close-add[_ngcontent-%COMP%]:hover{color:#505050}form[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-top:10px}ul.links[_ngcontent-%COMP%]{width:100%;background:#fdfdff;list-style:none;padding:0;display:flex;justify-content:space-around;border:1px solid #e0e3f0;margin-top:30px;border-radius:5px}ul.links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:18px;width:100%;text-align:center;padding:15px 0;cursor:pointer;color:#424b5c}ul.links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:rgba(237,238,246,.9)}.active[_ngcontent-%COMP%]{background:rgba(225,227,239,.9)}"]}),e})();function L(e,t){if(1&e&&(a.Pb(0,"div",8),a.Pb(1,"h4"),a.sc(2),a.Ob(),a.Pb(3,"h4"),a.sc(4,"-"),a.Ob(),a.Pb(5,"h4"),a.sc(6),a.Ob(),a.Ob()),2&e){const e=a.bc();a.Bb(2),a.tc(e.game.awayTeamScore),a.Bb(4),a.tc(e.game.homeTeamScore)}}function E(e,t){1&e&&a.Nb(0,"i",9)}function R(e,t){1&e&&a.Nb(0,"i",10)}function X(e,t){1&e&&(a.Pb(0,"div",32),a.sc(1," The Game has been updated. "),a.Ob())}function z(e,t){1&e&&(a.Pb(0,"div",33),a.sc(1," There was a problem in the server. "),a.Ob())}function U(e,t){1&e&&a.Nb(0,"i",34)}function H(e,t){if(1&e&&(a.Pb(0,"button",35),a.sc(1,"Update Game"),a.Ob()),2&e){const e=a.bc(2);a.hc("disabled",!e.gameSoccerForm.dirty)}}function Q(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",36),a.Xb("click",(function(){return a.mc(e),a.bc(2).delete()})),a.sc(1,"Delete Game"),a.Ob()}}function $(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",11),a.Pb(1,"form",12),a.Xb("ngSubmit",(function(){a.mc(e);const t=a.bc();return t.submitSoccer(t.gameSoccerForm.value)})),a.Pb(2,"table",13),a.Pb(3,"thead"),a.Pb(4,"tr"),a.Nb(5,"th"),a.Pb(6,"th"),a.sc(7,"RT"),a.Ob(),a.Pb(8,"th"),a.sc(9,"P"),a.Ob(),a.Ob(),a.Ob(),a.Pb(10,"tbody"),a.Pb(11,"tr"),a.Pb(12,"th",14),a.sc(13),a.Ob(),a.Pb(14,"td"),a.Nb(15,"input",15),a.Ob(),a.Pb(16,"td"),a.Nb(17,"input",16),a.Ob(),a.Ob(),a.Pb(18,"tr"),a.Pb(19,"th",14),a.sc(20),a.Ob(),a.Pb(21,"td"),a.Nb(22,"input",17),a.Ob(),a.Pb(23,"td"),a.Nb(24,"input",18),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Nb(25,"br"),a.Pb(26,"span",19),a.sc(27,"Goals"),a.Ob(),a.Pb(28,"div",20),a.Pb(29,"label",21),a.sc(30,"Player:"),a.Ob(),a.Pb(31,"input",22),a.Xb("ngModelChange",(function(t){return a.mc(e),a.bc().player=t})),a.Ob(),a.Ob(),a.Pb(32,"div",20),a.Pb(33,"label",21),a.sc(34,"Minute:"),a.Ob(),a.Pb(35,"input",23),a.Xb("ngModelChange",(function(t){return a.mc(e),a.bc().minute=t})),a.Ob(),a.Ob(),a.Pb(36,"div",20),a.Pb(37,"label",24),a.sc(38,"Team:"),a.Ob(),a.Pb(39,"select",25),a.Xb("ngModelChange",(function(t){return a.mc(e),a.bc().team=t})),a.Pb(40,"option"),a.sc(41),a.Ob(),a.Pb(42,"option"),a.sc(43),a.Ob(),a.Ob(),a.Ob(),a.Pb(44,"span",26),a.Xb("click",(function(){return a.mc(e),a.bc().addGoal()})),a.sc(45,"Add goal"),a.Ob(),a.Nb(46,"br"),a.Nb(47,"br"),a.Nb(48,"hr"),a.rc(49,X,2,0,"div",27),a.rc(50,z,2,0,"div",28),a.rc(51,U,1,0,"i",29),a.rc(52,H,2,1,"button",30),a.Nb(53,"br"),a.Ob(),a.rc(54,Q,2,0,"button",31),a.Ob()}if(2&e){const e=a.bc();a.Bb(1),a.hc("formGroup",e.gameSoccerForm),a.Bb(12),a.tc(null==e.game||null==e.game.awayTeam?null:e.game.awayTeam.abbreviation),a.Bb(7),a.tc(null==e.game||null==e.game.homeTeam?null:e.game.homeTeam.abbreviation),a.Bb(11),a.hc("ngModel",e.player),a.Bb(4),a.hc("ngModel",e.minute),a.Bb(4),a.hc("ngModel",e.team),a.Bb(2),a.tc(null==e.game||null==e.game.awayTeam?null:e.game.awayTeam.abbreviation),a.Bb(2),a.tc(null==e.game||null==e.game.homeTeam?null:e.game.homeTeam.abbreviation),a.Bb(6),a.hc("ngIf",e.updated),a.Bb(1),a.hc("ngIf",e.error),a.Bb(1),a.hc("ngIf",e.loading),a.Bb(1),a.hc("ngIf",!e.loading),a.Bb(2),a.hc("ngIf",!e.loading)}}function W(e,t){1&e&&(a.Pb(0,"th"),a.sc(1,"OT"),a.Ob())}function Y(e,t){1&e&&(a.Pb(0,"th"),a.sc(1,"SO"),a.Ob())}function J(e,t){1&e&&(a.Pb(0,"td"),a.Nb(1,"input",47),a.Ob())}function K(e,t){1&e&&(a.Pb(0,"td"),a.Nb(1,"input",48),a.Ob())}function V(e,t){1&e&&(a.Pb(0,"td"),a.Nb(1,"input",49),a.Ob())}function Z(e,t){1&e&&(a.Pb(0,"td"),a.Nb(1,"input",50),a.Ob())}function ee(e,t){1&e&&(a.Pb(0,"div",32),a.sc(1," The Game has been updated. "),a.Ob())}function te(e,t){1&e&&(a.Pb(0,"div",33),a.sc(1," There was a problem in the server. "),a.Ob())}function ne(e,t){1&e&&a.Nb(0,"i",34)}function ie(e,t){if(1&e&&(a.Pb(0,"button",35),a.sc(1,"Update Game"),a.Ob()),2&e){const e=a.bc(2);a.hc("disabled",!e.gameNHLForm.dirty)}}function oe(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",36),a.Xb("click",(function(){return a.mc(e),a.bc(2).delete()})),a.sc(1,"Delete Game"),a.Ob()}}function re(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",11),a.Pb(1,"form",12),a.Xb("ngSubmit",(function(){a.mc(e);const t=a.bc();return t.submitNHL(t.gameNHLForm.value)})),a.Pb(2,"label",37),a.sc(3,"OT/SO:"),a.Ob(),a.Pb(4,"span",38),a.Xb("click",(function(){return a.mc(e),a.bc().updateScoreboard()})),a.sc(5),a.Ob(),a.Nb(6,"br"),a.Nb(7,"br"),a.Pb(8,"table",13),a.Pb(9,"thead"),a.Pb(10,"tr"),a.Nb(11,"th"),a.Pb(12,"th"),a.sc(13,"1"),a.Ob(),a.Pb(14,"th"),a.sc(15,"2"),a.Ob(),a.Pb(16,"th"),a.sc(17,"3"),a.Ob(),a.rc(18,W,2,0,"th",39),a.rc(19,Y,2,0,"th",39),a.Ob(),a.Ob(),a.Pb(20,"tbody"),a.Pb(21,"tr"),a.Pb(22,"th",14),a.sc(23),a.Ob(),a.Pb(24,"td"),a.Nb(25,"input",40),a.Ob(),a.Pb(26,"td"),a.Nb(27,"input",41),a.Ob(),a.Pb(28,"td"),a.Nb(29,"input",42),a.Ob(),a.rc(30,J,2,0,"td",39),a.rc(31,K,2,0,"td",39),a.Ob(),a.Pb(32,"tr"),a.Pb(33,"th",14),a.sc(34),a.Ob(),a.Pb(35,"td"),a.Nb(36,"input",43),a.Ob(),a.Pb(37,"td"),a.Nb(38,"input",44),a.Ob(),a.Pb(39,"td"),a.Nb(40,"input",45),a.Ob(),a.rc(41,V,2,0,"td",39),a.rc(42,Z,2,0,"td",39),a.Ob(),a.Ob(),a.Ob(),a.Pb(43,"label",37),a.sc(44,"Update Record:"),a.Ob(),a.Pb(45,"span",38),a.Xb("click",(function(){return a.mc(e),a.bc().updateTeamRecord()})),a.sc(46),a.Ob(),a.Nb(47,"br"),a.Nb(48,"br"),a.Pb(49,"label",37),a.sc(50,"Win/Lose Mistake:"),a.Ob(),a.Pb(51,"span",46),a.Xb("click",(function(){return a.mc(e),a.bc().updateMistake()})),a.sc(52),a.Ob(),a.Nb(53,"br"),a.rc(54,ee,2,0,"div",27),a.rc(55,te,2,0,"div",28),a.rc(56,ne,1,0,"i",29),a.rc(57,ie,2,1,"button",30),a.Nb(58,"br"),a.Ob(),a.rc(59,oe,2,0,"button",31),a.Ob()}if(2&e){const e=a.bc();a.Bb(1),a.hc("formGroup",e.gameNHLForm),a.Bb(4),a.tc(e.updateScoreboardText),a.Bb(13),a.hc("ngIf",e.theGameWentToOTSO),a.Bb(1),a.hc("ngIf",e.theGameWentToOTSO),a.Bb(4),a.tc(null==e.game||null==e.game.awayTeam?null:e.game.awayTeam.abbreviation),a.Bb(7),a.hc("ngIf",e.theGameWentToOTSO),a.Bb(1),a.hc("ngIf",e.theGameWentToOTSO),a.Bb(3),a.tc(null==e.game||null==e.game.homeTeam?null:e.game.homeTeam.abbreviation),a.Bb(7),a.hc("ngIf",e.theGameWentToOTSO),a.Bb(1),a.hc("ngIf",e.theGameWentToOTSO),a.Bb(4),a.tc(e.updateRecordText),a.Bb(6),a.tc(e.mistakeText),a.Bb(2),a.hc("ngIf",e.updated),a.Bb(1),a.hc("ngIf",e.error),a.Bb(1),a.hc("ngIf",e.loading),a.Bb(1),a.hc("ngIf",!e.loading),a.Bb(2),a.hc("ngIf",!e.loading)}}function ae(e,t){if(1&e&&(a.Pb(0,"th"),a.sc(1),a.Ob()),2&e){const e=t.index;a.Bb(1),a.uc(" ",e+1," ")}}const se=function(){return{standalone:!0}};function ce(e,t){if(1&e){const e=a.Qb();a.Pb(0,"td"),a.Pb(1,"input",57),a.Xb("ngModelChange",(function(n){a.mc(e);const i=t.index;return a.bc(2).awayInnings[i]=n})),a.Ob(),a.Ob()}if(2&e){const e=t.index,n=a.bc(2);a.Bb(1),a.hc("name","input-"+e)("ngModelOptions",a.ic(3,se))("ngModel",n.awayInnings[e])}}function be(e,t){if(1&e){const e=a.Qb();a.Pb(0,"td"),a.Pb(1,"input",57),a.Xb("ngModelChange",(function(n){a.mc(e);const i=t.index;return a.bc(2).homeInnings[i]=n})),a.Ob(),a.Ob()}if(2&e){const e=t.index,n=a.bc(2);a.Bb(1),a.hc("name","inputh-"+e)("ngModelOptions",a.ic(3,se))("ngModel",n.homeInnings[e])}}function le(e,t){1&e&&(a.Pb(0,"div",32),a.sc(1," The Game has been updated. "),a.Ob())}function de(e,t){1&e&&(a.Pb(0,"div",33),a.sc(1," There was a problem in the server. "),a.Ob())}function me(e,t){1&e&&a.Nb(0,"i",34)}function ue(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",58),a.Xb("click",(function(){return a.mc(e),a.bc(2).submitMLB()})),a.sc(1,"Update Game"),a.Ob()}}function he(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",36),a.Xb("click",(function(){return a.mc(e),a.bc(2).delete()})),a.sc(1,"Delete Game"),a.Ob()}}function pe(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",11),a.Pb(1,"table",13),a.Pb(2,"thead"),a.Pb(3,"tr"),a.Nb(4,"th"),a.rc(5,ae,2,1,"th",51),a.Pb(6,"th"),a.sc(7,"R"),a.Ob(),a.Pb(8,"th"),a.sc(9,"H"),a.Ob(),a.Pb(10,"th"),a.sc(11,"E"),a.Ob(),a.Ob(),a.Ob(),a.Pb(12,"tbody"),a.Pb(13,"tr"),a.Pb(14,"th",14),a.sc(15),a.Ob(),a.rc(16,ce,2,4,"td",52),a.Pb(17,"td"),a.Pb(18,"input",53),a.Xb("ngModelChange",(function(t){return a.mc(e),a.bc().awayTeamPointsR=t})),a.Ob(),a.Ob(),a.Pb(19,"td"),a.Pb(20,"input",53),a.Xb("ngModelChange",(function(t){return a.mc(e),a.bc().awayTeamPointsH=t})),a.Ob(),a.Ob(),a.Pb(21,"td"),a.Pb(22,"input",53),a.Xb("ngModelChange",(function(t){return a.mc(e),a.bc().awayTeamPointsE=t})),a.Ob(),a.Ob(),a.Ob(),a.Pb(23,"tr"),a.Pb(24,"th",14),a.sc(25),a.Ob(),a.rc(26,be,2,4,"td",52),a.Pb(27,"td"),a.Pb(28,"input",53),a.Xb("ngModelChange",(function(t){return a.mc(e),a.bc().homeTeamPointsR=t})),a.Ob(),a.Ob(),a.Pb(29,"td"),a.Pb(30,"input",53),a.Xb("ngModelChange",(function(t){return a.mc(e),a.bc().homeTeamPointsH=t})),a.Ob(),a.Ob(),a.Pb(31,"td"),a.Pb(32,"input",53),a.Xb("ngModelChange",(function(t){return a.mc(e),a.bc().homeTeamPointsE=t})),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(33,"button",54),a.Xb("click",(function(){return a.mc(e),a.bc().addInning()})),a.sc(34,"+"),a.Ob(),a.Pb(35,"button",55),a.Xb("click",(function(){return a.mc(e),a.bc().deleteInning()})),a.sc(36,"-"),a.Ob(),a.Nb(37,"br"),a.Nb(38,"br"),a.rc(39,le,2,0,"div",27),a.rc(40,de,2,0,"div",28),a.rc(41,me,1,0,"i",29),a.rc(42,ue,2,0,"button",56),a.Nb(43,"br"),a.rc(44,he,2,0,"button",31),a.Ob()}if(2&e){const e=a.bc();a.Bb(5),a.hc("ngForOf",e.awayInnings),a.Bb(10),a.tc(null==e.game||null==e.game.awayTeam?null:e.game.awayTeam.abbreviation),a.Bb(1),a.hc("ngForOf",e.awayInnings)("ngForTrackBy",e.customTrackBy),a.Bb(2),a.hc("ngModel",e.awayTeamPointsR),a.Bb(2),a.hc("ngModel",e.awayTeamPointsH),a.Bb(2),a.hc("ngModel",e.awayTeamPointsE),a.Bb(3),a.tc(null==e.game||null==e.game.homeTeam?null:e.game.homeTeam.abbreviation),a.Bb(1),a.hc("ngForOf",e.homeInnings)("ngForTrackBy",e.customTrackBy),a.Bb(2),a.hc("ngModel",e.homeTeamPointsR),a.Bb(2),a.hc("ngModel",e.homeTeamPointsH),a.Bb(2),a.hc("ngModel",e.homeTeamPointsE),a.Bb(7),a.hc("ngIf",e.updated),a.Bb(1),a.hc("ngIf",e.error),a.Bb(1),a.hc("ngIf",e.loading),a.Bb(1),a.hc("ngIf",!e.loading),a.Bb(2),a.hc("ngIf",!e.loading)}}function ge(e,t){1&e&&(a.Pb(0,"div",32),a.sc(1," The Game has been updated. "),a.Ob())}function fe(e,t){1&e&&(a.Pb(0,"div",33),a.sc(1," There was a problem in the server. "),a.Ob())}function Pe(e,t){1&e&&a.Nb(0,"i",34)}function Oe(e,t){if(1&e&&(a.Pb(0,"button",35),a.sc(1,"Update Game"),a.Ob()),2&e){const e=a.bc(2);a.hc("disabled",!e.gameForm.dirty)}}function ve(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",36),a.Xb("click",(function(){return a.mc(e),a.bc(2).delete()})),a.sc(1,"Delete Game"),a.Ob()}}function ye(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",11),a.Pb(1,"form",12),a.Xb("ngSubmit",(function(){a.mc(e);const t=a.bc();return t.submit(t.gameForm.value)})),a.Pb(2,"table",13),a.Pb(3,"thead"),a.Pb(4,"tr"),a.Nb(5,"th"),a.Pb(6,"th"),a.sc(7,"1"),a.Ob(),a.Pb(8,"th"),a.sc(9,"2"),a.Ob(),a.Pb(10,"th"),a.sc(11,"3"),a.Ob(),a.Pb(12,"th"),a.sc(13,"4"),a.Ob(),a.Pb(14,"th"),a.sc(15,"OT"),a.Ob(),a.Ob(),a.Ob(),a.Pb(16,"tbody"),a.Pb(17,"tr"),a.Pb(18,"th",14),a.sc(19),a.Ob(),a.Pb(20,"td"),a.Nb(21,"input",40),a.Ob(),a.Pb(22,"td"),a.Nb(23,"input",41),a.Ob(),a.Pb(24,"td"),a.Nb(25,"input",42),a.Ob(),a.Pb(26,"td"),a.Nb(27,"input",59),a.Ob(),a.Pb(28,"td"),a.Nb(29,"input",47),a.Ob(),a.Ob(),a.Pb(30,"tr"),a.Pb(31,"th",14),a.sc(32),a.Ob(),a.Pb(33,"td"),a.Nb(34,"input",43),a.Ob(),a.Pb(35,"td"),a.Nb(36,"input",44),a.Ob(),a.Pb(37,"td"),a.Nb(38,"input",45),a.Ob(),a.Pb(39,"td"),a.Nb(40,"input",60),a.Ob(),a.Pb(41,"td"),a.Nb(42,"input",49),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(43,"label",37),a.sc(44,"Update Record:"),a.Ob(),a.Pb(45,"span",38),a.Xb("click",(function(){return a.mc(e),a.bc().updateTeamRecord()})),a.sc(46),a.Ob(),a.Nb(47,"br"),a.Nb(48,"br"),a.Pb(49,"label",37),a.sc(50,"Win/Lose Mistake:"),a.Ob(),a.Pb(51,"span",46),a.Xb("click",(function(){return a.mc(e),a.bc().updateMistake()})),a.sc(52),a.Ob(),a.Nb(53,"br"),a.rc(54,ge,2,0,"div",27),a.rc(55,fe,2,0,"div",28),a.rc(56,Pe,1,0,"i",29),a.rc(57,Oe,2,1,"button",30),a.Nb(58,"br"),a.Ob(),a.rc(59,ve,2,0,"button",31),a.Ob()}if(2&e){const e=a.bc();a.Bb(1),a.hc("formGroup",e.gameForm),a.Bb(18),a.tc(null==e.game||null==e.game.awayTeam?null:e.game.awayTeam.abbreviation),a.Bb(13),a.tc(null==e.game||null==e.game.homeTeam?null:e.game.homeTeam.abbreviation),a.Bb(14),a.tc(e.updateRecordText),a.Bb(6),a.tc(e.mistakeText),a.Bb(2),a.hc("ngIf",e.updated),a.Bb(1),a.hc("ngIf",e.error),a.Bb(1),a.hc("ngIf",e.loading),a.Bb(1),a.hc("ngIf",!e.loading),a.Bb(2),a.hc("ngIf",!e.loading)}}let we=(()=>{class e{constructor(e,t){this.formBuilder=e,this.adminService=t,this.removeGame=new a.n,this.showDetail=!1,this.loading=!1,this.updated=!1,this.error=!1,this.updateRecord=!0,this.mistake=!1,this.updateRecordText="YES",this.updateScoreboardText="NO",this.theGameWentToOTSO=!1,this.mistakeText="NO",this.homeTeamGoals=[],this.awayTeamGoals=[],this.awayInnings=[],this.awayTeamPointsR=0,this.awayTeamPointsH=0,this.awayTeamPointsE=0,this.homeInnings=[],this.homeTeamPointsR=0,this.homeTeamPointsH=0,this.homeTeamPointsE=0}ngOnInit(){this.buildForm(),this.buildSoccerForm(),this.buildNHLForm(),this.populateInnings()}populateInnings(){this.awayInnings=this.game.awayRuns.length>0?this.game.awayRuns:[0,0,0,0,0,0,0,0,0],this.homeInnings=this.game.homeRuns.length>0?this.game.homeRuns:[0,0,0,0,0,0,0,0,0],this.homeTeamPointsR=this.game.homeTeamPointsR?this.game.homeTeamPointsR:0,this.homeTeamPointsH=this.game.homeTeamPointsH?this.game.homeTeamPointsH:0,this.homeTeamPointsE=this.game.homeTeamPointsE?this.game.homeTeamPointsE:0,this.awayTeamPointsR=this.game.awayTeamPointsR?this.game.awayTeamPointsR:0,this.awayTeamPointsH=this.game.awayTeamPointsH?this.game.awayTeamPointsH:0,this.awayTeamPointsE=this.game.awayTeamPointsE?this.game.awayTeamPointsE:0}addInning(){this.awayInnings.push(0),this.homeInnings.push(0)}deleteInning(){this.awayInnings.pop(),this.homeInnings.pop()}customTrackBy(e,t){return e}updateScoreboard(){this.theGameWentToOTSO=!this.theGameWentToOTSO,this.updateScoreboardText=this.theGameWentToOTSO?"YES":"NO"}updateTeamRecord(){this.updateRecord=!this.updateRecord,this.updateRecordText=this.updateRecord?"YES":"NO"}updateMistake(){this.mistake=!this.mistake,this.mistakeText=this.mistake?"YES":"NO"}addGoal(){if(!this.player||!this.team||!this.minute)return alert("One or more fields are empty");this.team==this.game.homeTeam.abbreviation?confirm("Player: "+this.player+"\nMinute: "+this.minute+"\nTeam: "+this.team)&&(this.homeTeamGoals.push({player:this.player,minute:this.minute}),this.player="",this.team="",this.minute=0):confirm("Player: "+this.player+"\nMinute:b"+this.minute+"\nTeam: "+this.team)&&(this.awayTeamGoals.push({player:this.player,minute:this.minute}),this.player="",this.team="",this.minute=0)}buildForm(){this.gameForm=this.formBuilder.group({awayTeamPoints1:[this.game.awayTeamPoints1||0,o.q.required],awayTeamPoints2:[this.game.awayTeamPoints2||0,o.q.required],awayTeamPoints3:[this.game.awayTeamPoints3||0,o.q.required],awayTeamPoints4:[this.game.awayTeamPoints4||0,o.q.required],awayTeamPointsOT:[this.game.awayTeamPointsOT||0,o.q.required],homeTeamPoints1:[this.game.homeTeamPoints1||0,o.q.required],homeTeamPoints2:[this.game.homeTeamPoints2||0,o.q.required],homeTeamPoints3:[this.game.homeTeamPoints3||0,o.q.required],homeTeamPoints4:[this.game.homeTeamPoints4||0,o.q.required],homeTeamPointsOT:[this.game.homeTeamPointsOT||0,o.q.required]})}initItemRows(){return this.formBuilder.group({itemname:[""]})}buildSoccerForm(){this.gameSoccerForm=this.formBuilder.group({awayTeamScore:[this.game.awayTeamScore||0,o.q.required],homeTeamScore:[this.game.homeTeamScore||0,o.q.required],player:[0,o.q.required],minute:[0,o.q.required],team:[this.game.awayTeam.abbreviation||0,o.q.required],awayTeamScorePenalties:[0],homeTeamScorePenalties:[0]})}buildNHLForm(){this.gameNHLForm=this.formBuilder.group({awayTeamPoints1:[this.game.awayTeamPoints1||0,o.q.required],awayTeamPoints2:[this.game.awayTeamPoints2||0,o.q.required],awayTeamPoints3:[this.game.awayTeamPoints3||0,o.q.required],awayTeamPointsOT:[this.game.awayTeamPointsOT||0,o.q.required],awayTeamPointsSO:[this.game.awayTeamPointsSO||0,o.q.required],homeTeamPoints1:[this.game.homeTeamPoints1||0,o.q.required],homeTeamPoints2:[this.game.homeTeamPoints2||0,o.q.required],homeTeamPoints3:[this.game.homeTeamPoints3||0,o.q.required],homeTeamPointsOT:[this.game.homeTeamPointsOT||0,o.q.required],homeTeamPointsSO:[this.game.homeTeamPointsSO||0,o.q.required]})}submit(e){this.loading=!0,e.updateRecord=this.updateRecord,e.mistake=this.mistake,e.awayTeamScore=e.awayTeamPoints1+e.awayTeamPoints2+e.awayTeamPoints3+e.awayTeamPoints4+e.awayTeamPointsOT,e.homeTeamScore=e.homeTeamPoints1+e.homeTeamPoints2+e.homeTeamPoints3+e.homeTeamPoints4+e.homeTeamPointsOT,this.adminService.updateGame(e,this.game._id).subscribe(()=>{this.game.awayTeamScore=e.awayTeamScore,this.game.homeTeamScore=e.homeTeamScore,this.loading=!1,this.updated=!0,setTimeout(()=>{this.updated=!1},5e3)},e=>{console.log(e),this.loading=!1})}submitSoccer(e){this.loading=!0,e.homeTeamGoals=this.homeTeamGoals,e.awayTeamGoals=this.awayTeamGoals,this.adminService.updateGame(e,this.game._id).subscribe(()=>{this.game.awayTeamScore=e.awayTeamScore,this.game.homeTeamScore=e.homeTeamScore,this.loading=!1,this.updated=!0,setTimeout(()=>{this.updated=!1},5e3)},e=>{console.log(e),this.loading=!1})}submitMLB(){if(this.awayInnings.length>=9&&this.homeInnings.length>=9){this.loading=!0;let e={awayRuns:this.awayInnings,homeRuns:this.homeInnings,homeTeamScore:this.homeTeamPointsR,awayTeamScore:this.awayTeamPointsR,awayTeamR:this.awayTeamPointsR,awayTeamH:this.awayTeamPointsH,awayTeamE:this.awayTeamPointsE,homeTeamR:this.homeTeamPointsR,homeTeamH:this.homeTeamPointsH,homeTeamE:this.homeTeamPointsE};this.adminService.updateGame(e,this.game._id).subscribe(()=>{this.game.awayTeamScore=e.awayTeamScore,this.game.homeTeamScore=e.homeTeamScore,this.loading=!1,this.updated=!0,setTimeout(()=>{this.updated=!1},5e3)},e=>{console.log(e),this.loading=!1})}else alert("Baseball matches have at least 9 innings")}submitNHL(e){this.loading=!0,e.updateRecord=this.updateRecord,e.mistake=this.mistake;let t=e.homeTeamPointsSO>e.awayTeamPointsSO?1:0;if(e.awayTeamScore=e.awayTeamPoints1+e.awayTeamPoints2+e.awayTeamPoints3+e.awayTeamPointsOT+(e.homeTeamPointsSO<e.awayTeamPointsSO?1:0),e.homeTeamScore=e.homeTeamPoints1+e.homeTeamPoints2+e.homeTeamPoints3+e.homeTeamPointsOT+t,e.homeTeamScore==e.awayTeamScore)return this.loading=!1,alert("It can't end as a draw");this.adminService.updateGame(e,this.game._id).subscribe(()=>{this.game.awayTeamScore=e.awayTeamScore,this.game.homeTeamScore=e.homeTeamScore,this.loading=!1,this.updated=!0,setTimeout(()=>{this.updated=!1},5e3)},e=>{console.log(e),this.loading=!1})}delete(){confirm("Do you want to delete this game?")&&(this.loading=!0,this.adminService.deleteGame({gameId:this.game._id}).subscribe(e=>{e&&(this.showDetail=!1,this.loading=!1,this.removeGame.emit(this.game._id))},e=>{console.log(e),this.loading=!1}))}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.c),a.Mb(h))},e.\u0275cmp=a.Gb({type:e,selectors:[["game-detail"]],inputs:{game:"game"},outputs:{removeGame:"removeGame"},decls:19,vars:11,consts:[[1,"main-game",3,"click"],[1,"a-teamName-logo"],["alt","Logo",1,"team-pic",3,"src"],[1,"h-teamName-logo"],["class","score",4,"ngIf"],["class","fa fa-angle-down","aria-hidden","true",4,"ngIf"],["class","fa fa-angle-up","aria-hidden","true",4,"ngIf"],["class","team-form",4,"ngIf"],[1,"score"],["aria-hidden","true",1,"fa","fa-angle-down"],["aria-hidden","true",1,"fa","fa-angle-up"],[1,"team-form"],["novalidate","",3,"formGroup","ngSubmit"],[1,"table","table-bordered","table-sm"],["scope","row"],["type","number","formControlName","awayTeamScore",1,"form-control"],["type","number","formControlName","awayTeamScorePenalties",1,"form-control"],["type","number","formControlName","homeTeamScore",1,"form-control"],["type","number","formControlName","homeTeamScorePenalties",1,"form-control"],[1,"goals"],[1,"form-group"],[1,"col-form-label"],["type","text","id","","formControlName","player",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","","formControlName","minute",1,"form-control",3,"ngModel","ngModelChange"],["for","seasonType"],["id","seasonType","formControlName","team",1,"form-control",3,"ngModel","ngModelChange"],[1,"add-goal",3,"click"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","fa fa-spinner fa-pulse fa-fw",4,"ngIf"],["type","submit","class","btn btn-primary block",3,"disabled",4,"ngIf"],["class","btn btn-danger block mt-3",3,"click",4,"ngIf"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-danger"],[1,"fa","fa-spinner","fa-pulse","fa-fw"],["type","submit",1,"btn","btn-primary","block",3,"disabled"],[1,"btn","btn-danger","block","mt-3",3,"click"],[1,"upd"],[1,"record","rounded-circle",3,"click"],[4,"ngIf"],["type","number","formControlName","awayTeamPoints1",1,"form-control"],["type","number","formControlName","awayTeamPoints2",1,"form-control"],["type","number","formControlName","awayTeamPoints3",1,"form-control"],["type","number","formControlName","homeTeamPoints1",1,"form-control"],["type","number","formControlName","homeTeamPoints2",1,"form-control"],["type","number","formControlName","homeTeamPoints3",1,"form-control"],[1,"record-m","rounded-circle",3,"click"],["type","number","formControlName","awayTeamPointsOT",1,"form-control"],["type","number","formControlName","awayTeamPointsSO",1,"form-control"],["type","number","formControlName","homeTeamPointsOT",1,"form-control"],["type","number","formControlName","homeTeamPointsSO",1,"form-control"],[4,"ngFor","ngForOf"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-info","block",3,"click"],[1,"btn","btn-warning","block",3,"click"],["class","btn btn-primary block",3,"click",4,"ngIf"],["type","number",1,"form-control",3,"name","ngModelOptions","ngModel","ngModelChange"],[1,"btn","btn-primary","block",3,"click"],["type","number","formControlName","awayTeamPoints4",1,"form-control"],["type","number","formControlName","homeTeamPoints4",1,"form-control"]],template:function(e,t){1&e&&(a.Pb(0,"li"),a.Pb(1,"div",0),a.Xb("click",(function(){return t.showDetail=!t.showDetail})),a.Pb(2,"div",1),a.Pb(3,"b"),a.sc(4),a.Ob(),a.Nb(5,"img",2),a.Ob(),a.Pb(6,"h3"),a.sc(7,"@"),a.Ob(),a.Pb(8,"div",3),a.Nb(9,"img",2),a.Pb(10,"b"),a.sc(11),a.Ob(),a.Ob(),a.rc(12,L,7,2,"div",4),a.rc(13,E,1,0,"i",5),a.rc(14,R,1,0,"i",6),a.Ob(),a.rc(15,$,55,13,"div",7),a.rc(16,re,60,17,"div",7),a.rc(17,pe,45,18,"div",7),a.rc(18,ye,60,10,"div",7),a.Ob()),2&e&&(a.Bb(4),a.tc(null==t.game||null==t.game.awayTeam?null:t.game.awayTeam.teamName),a.Bb(1),a.hc("src",null==t.game||null==t.game.awayTeam?null:t.game.awayTeam.logo,a.oc),a.Bb(4),a.hc("src",null==t.game||null==t.game.homeTeam?null:t.game.homeTeam.logo,a.oc),a.Bb(2),a.tc(null==t.game||null==t.game.homeTeam?null:t.game.homeTeam.teamName),a.Bb(1),a.hc("ngIf",t.game.homeTeamScore>=0),a.Bb(1),a.hc("ngIf",!t.showDetail),a.Bb(1),a.hc("ngIf",t.showDetail),a.Bb(1),a.hc("ngIf",t.showDetail&&"Soccer"==t.game.league),a.Bb(1),a.hc("ngIf",t.showDetail&&"NHL"==t.game.league),a.Bb(1),a.hc("ngIf",t.showDetail&&"MLB"==t.game.league),a.Bb(1),a.hc("ngIf",t.showDetail&&("NBA"==t.game.league||"NFL"==t.game.league||"NCAAB"==t.game.league)))},directives:[r.j,o.s,o.k,o.e,o.n,o.a,o.j,o.d,o.p,o.m,o.r,r.i,o.l],styles:["li[_ngcontent-%COMP%]{background:#fff;margin-bottom:15px}.score[_ngcontent-%COMP%]{padding:0 20px;width:150px;font-size:.9rem}.score[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{display:inline-block}h3[_ngcontent-%COMP%]{color:grey;margin:0 10px}.goals[_ngcontent-%COMP%]{font-weight:600;font-size:22px;text-decoration:underline}.add-goal[_ngcontent-%COMP%]{display:inline-block;background:#2abf5b;color:#fff;padding:6px 20px;border-radius:20px;cursor:pointer;margin-bottom:15px}.add-goal[_ngcontent-%COMP%]:hover{background:#238042}h4[_ngcontent-%COMP%]{display:inline-block}.team-form[_ngcontent-%COMP%]{padding:20px;overflow:scroll;white-space:nowrap}.a-teamName-logo[_ngcontent-%COMP%], .h-teamName-logo[_ngcontent-%COMP%]{width:200px;display:inline-block;padding:5px 0}.a-teamName-logo[_ngcontent-%COMP%]{text-align:right}.h-teamName-logo[_ngcontent-%COMP%]{text-align:left}.main-game[_ngcontent-%COMP%]{position:relative}.main-game[_ngcontent-%COMP%], .record[_ngcontent-%COMP%]{cursor:pointer;text-align:center}.record[_ngcontent-%COMP%]{display:inline-block;height:40px;width:40px;padding-top:11px;background:#2efeda;margin-left:20px;font-size:.8rem;font-weight:700}.record[_ngcontent-%COMP%]:hover{background:#2ad0b3}.record-m[_ngcontent-%COMP%]{display:inline-block;text-align:center;height:40px;width:40px;padding-top:11px;background:#f5525a;margin-left:20px;font-size:.8rem;font-weight:700;cursor:pointer}.record-m[_ngcontent-%COMP%]:hover{background:#b94147}.upd[_ngcontent-%COMP%]{width:140px}li[_ngcontent-%COMP%]:hover{box-shadow:0 2px 0 #f5525a}.team-pic[_ngcontent-%COMP%]{height:60px;width:60px;-o-object-fit:contain;object-fit:contain;margin:0 10px}.fa-angle-down[_ngcontent-%COMP%], .fa-angle-up[_ngcontent-%COMP%]{position:absolute;right:20px;top:22px;font-size:25px;color:#949494}input[type=number][_ngcontent-%COMP%]{width:70px;margin:0}@media screen and (max-width:767px){input[type=number][_ngcontent-%COMP%]{width:32px;margin:0;padding:2px}b[_ngcontent-%COMP%]{display:none}.a-teamName-logo[_ngcontent-%COMP%], .h-teamName-logo[_ngcontent-%COMP%]{width:100px;display:inline-block;padding:5px 0}}"]}),e})(),Te=(()=>{class e{transform(e,t){return(t=t||null)?e.filter(e=>-1!==e.league.indexOf(t)):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Lb({name:"teamFilter",type:e,pure:!0}),e})();function xe(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",10),a.Xb("click",(function(){return a.mc(e),a.bc().add=!0})),a.sc(1," Add game"),a.Ob()}}function Be(e,t){if(1&e){const e=a.Qb();a.Pb(0,"i",11),a.Xb("click",(function(){return a.mc(e),a.bc().add=!1})),a.Ob()}}function Ce(e,t){if(1&e&&(a.Pb(0,"option",37),a.sc(1),a.Ob()),2&e){const e=t.$implicit;a.hc("value",e._id),a.Bb(1),a.tc(e.teamName)}}function Me(e,t){if(1&e&&(a.Pb(0,"option",37),a.sc(1),a.Ob()),2&e){const e=t.$implicit;a.hc("value",e._id),a.Bb(1),a.tc(e.teamName)}}function ke(e,t){1&e&&(a.Pb(0,"div",18),a.Pb(1,"label",38),a.sc(2,"Week:"),a.Ob(),a.Nb(3,"input",39),a.Ob())}function _e(e,t){1&e&&(a.Pb(0,"div",40),a.sc(1," The game has been added to the DB. "),a.Ob())}function Ne(e,t){if(1&e&&(a.Pb(0,"button",41),a.sc(1,"Add Game"),a.Ob()),2&e){const e=a.bc(2);a.hc("disabled",!e.addTeamForm.valid)}}function Ie(e,t){1&e&&a.Nb(0,"i",42)}function Se(e,t){if(1&e){const e=a.Qb();a.Pb(0,"form",12),a.Xb("ngSubmit",(function(){a.mc(e);const t=a.bc();return t.submit(t.addTeamForm.value)})),a.Pb(1,"div",13),a.Pb(2,"label",14),a.sc(3,"Game:"),a.Ob(),a.Pb(4,"select",15),a.rc(5,Ce,2,2,"option",16),a.cc(6,"teamFilter"),a.Ob(),a.Pb(7,"h3"),a.sc(8,"@"),a.Ob(),a.Pb(9,"select",17),a.rc(10,Me,2,2,"option",16),a.cc(11,"teamFilter"),a.Ob(),a.Ob(),a.Pb(12,"div",18),a.Pb(13,"label",19),a.sc(14,"Date:"),a.Ob(),a.Nb(15,"input",20),a.Ob(),a.Pb(16,"div",18),a.Pb(17,"label",21),a.sc(18,"League:"),a.Ob(),a.Pb(19,"select",22),a.Xb("ngModelChange",(function(t){return a.mc(e),a.bc().league=t})),a.Pb(20,"option",23),a.sc(21,"NBA"),a.Ob(),a.Pb(22,"option",24),a.sc(23,"NFL"),a.Ob(),a.Pb(24,"option",25),a.sc(25,"NHL"),a.Ob(),a.Pb(26,"option",26),a.sc(27,"Soccer"),a.Ob(),a.Pb(28,"option",27),a.sc(29,"MLB"),a.Ob(),a.Pb(30,"option",28),a.sc(31,"NCAAB"),a.Ob(),a.Ob(),a.Ob(),a.Pb(32,"div",18),a.Pb(33,"label",29),a.sc(34,"Season:"),a.Ob(),a.Pb(35,"select",30),a.Pb(36,"option"),a.sc(37,"2017"),a.Ob(),a.Pb(38,"option"),a.sc(39,"2018"),a.Ob(),a.Pb(40,"option"),a.sc(41,"2019"),a.Ob(),a.Ob(),a.Ob(),a.rc(42,ke,4,0,"div",31),a.Pb(43,"div",18),a.Pb(44,"label",32),a.sc(45,"Type:"),a.Ob(),a.Pb(46,"select",33),a.Pb(47,"option"),a.sc(48,"Regular"),a.Ob(),a.Pb(49,"option"),a.sc(50,"Pre"),a.Ob(),a.Ob(),a.Ob(),a.rc(51,_e,2,0,"div",34),a.rc(52,Ne,2,1,"button",35),a.rc(53,Ie,1,0,"i",36),a.Ob()}if(2&e){const e=a.bc();a.hc("formGroup",e.addTeamForm),a.Bb(5),a.hc("ngForOf",a.ec(6,8,e.teams,e.league)),a.Bb(5),a.hc("ngForOf",a.ec(11,11,e.teams,e.league)),a.Bb(9),a.hc("ngModel",e.league),a.Bb(23),a.hc("ngIf","NFL"==e.league),a.Bb(9),a.hc("ngIf",e.updated),a.Bb(1),a.hc("ngIf",!e.loading),a.Bb(1),a.hc("ngIf",e.loading)}}function Fe(e,t){if(1&e){const e=a.Qb();a.Pb(0,"ul",43),a.Pb(1,"li",44),a.Xb("click",(function(){return a.mc(e),a.bc().filterGames("NBA")})),a.sc(2," NBA "),a.Ob(),a.Pb(3,"li",44),a.Xb("click",(function(){return a.mc(e),a.bc().getNflGames()})),a.sc(4," NFL "),a.Ob(),a.Pb(5,"li",44),a.Xb("click",(function(){return a.mc(e),a.bc().getNhlGames()})),a.sc(6," NHL "),a.Ob(),a.Pb(7,"li",44),a.Xb("click",(function(){return a.mc(e),a.bc().getSoccerGames()})),a.sc(8," Soccer "),a.Ob(),a.Pb(9,"li",44),a.Xb("click",(function(){return a.mc(e),a.bc().getMLBGames()})),a.sc(10," MLB "),a.Ob(),a.Pb(11,"li",44),a.Xb("click",(function(){return a.mc(e),a.bc().getNCAABGames()})),a.sc(12," NCAAB "),a.Ob(),a.Ob()}if(2&e){const e=a.bc();a.Bb(1),a.Db("active","NBA"===e.filterBy),a.Bb(2),a.Db("active","NFL"===e.filterBy),a.Bb(2),a.Db("active","NHL"===e.filterBy),a.Bb(2),a.Db("active","Soccer"===e.filterBy),a.Bb(2),a.Db("active","MLB"===e.filterBy),a.Bb(2),a.Db("active","NCAAB"===e.filterBy)}}function Ge(e,t){if(1&e){const e=a.Qb();a.Pb(0,"game-detail",46),a.Xb("removeGame",(function(t){return a.mc(e),a.bc(2).deleteGame(t)})),a.Ob()}2&e&&a.hc("game",t.$implicit)}function Ae(e,t){if(1&e&&(a.Pb(0,"ul"),a.rc(1,Ge,1,1,"game-detail",45),a.Ob()),2&e){const e=a.bc();a.Bb(1),a.hc("ngForOf",e.visibleGames)}}function De(e,t){1&e&&a.Nb(0,"i",47)}function je(e,t){1&e&&(a.Pb(0,"span",48),a.sc(1,"Load more"),a.Ob())}let qe=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.adminService=t,this.authService=n,this.skipNBA=0,this.skipNFL=0,this.skipNHL=0,this.skipSoccer=0,this.updated=!1,this.fetchingDiscussions=!1,this.loading=!1,this.add=!1,this.league="NFL",this.filterBy="NBA",this.teams=[],this.games=[],this.clickedNflDirty=!1,this.clickedSoccerDirty=!1,this.clickedNHLDirty=!1,this.clickedMLBDirty=!1,this.clickedNCAABDirty=!1}ngOnInit(){this.buildForm(),this.getTeams(),this.getGames()}deleteGame(e){this.games=this.games.filter(t=>t._id!==e),this.filterGames(this.filterBy)}filterGames(e){this.filterBy=e,this.visibleGames=this.games.filter(t=>t.league==e)}getNflGames(){this.filterBy="NFL",this.clickedNflDirty?this.filterGames(this.filterBy):this.adminService.getGames(0,this.filterBy).subscribe(e=>{this.clickedNflDirty=!0,this.fetchingDiscussions=!1;let t=this.games.concat(e);this.games=t,this.filterGames(this.filterBy)},e=>{this.fetchingDiscussions=!1})}getNhlGames(){this.filterBy="NHL",this.clickedNHLDirty?this.filterGames(this.filterBy):this.adminService.getGames(0,this.filterBy).subscribe(e=>{this.clickedNHLDirty=!0,this.fetchingDiscussions=!1;let t=this.games.concat(e);this.games=t,this.filterGames(this.filterBy)},e=>{this.fetchingDiscussions=!1})}getNCAABGames(){this.filterBy="NCAAB",this.clickedMLBDirty?this.filterGames(this.filterBy):this.adminService.getGames(0,this.filterBy).subscribe(e=>{this.clickedNCAABDirty=!0,this.fetchingDiscussions=!1;let t=this.games.concat(e);this.games=t,this.filterGames(this.filterBy)},e=>{this.fetchingDiscussions=!1})}getMLBGames(){this.filterBy="MLB",this.clickedMLBDirty?this.filterGames(this.filterBy):this.adminService.getGames(0,this.filterBy).subscribe(e=>{this.clickedMLBDirty=!0,this.fetchingDiscussions=!1;let t=this.games.concat(e);this.games=t,this.filterGames(this.filterBy)},e=>{this.fetchingDiscussions=!1})}getSoccerGames(){this.filterBy="Soccer",this.clickedSoccerDirty?this.filterGames(this.filterBy):this.adminService.getGames(0,this.filterBy).subscribe(e=>{this.clickedSoccerDirty=!0,this.fetchingDiscussions=!1;let t=this.games.concat(e);this.games=t,this.filterGames(this.filterBy)},e=>{this.fetchingDiscussions=!1})}buildForm(){this.addTeamForm=this.formBuilder.group({league:["NFL",o.q.required],awayTeam:["",o.q.required],homeTeam:["",o.q.required],seasonYear:["2017",o.q.required],seasonType:["Regular",o.q.required],gameDate:[,o.q.required],week:[""]})}getTeams(){this.adminService.getTeams().subscribe(e=>{this.teams=e})}getGames(){this.adminService.getGames(0,this.filterBy).subscribe(e=>{this.games=e,this.filterGames(this.filterBy)},e=>{})}fetchMoreGames(){this.fetchingDiscussions=!0,"NBA"==this.filterBy?(this.skipNBA+=20,this.skip=this.skipNBA):"NFL"==this.filterBy?(this.skipNFL+=20,this.skip=this.skipNFL):"NHL"==this.filterBy?(this.skipNHL+=20,this.skip=this.skipNHL):"Soccer"==this.filterBy&&(this.skipSoccer+=20,this.skip=this.skipSoccer),this.adminService.getGames(this.skip,this.filterBy).subscribe(e=>{this.fetchingDiscussions=!1;let t=this.games.concat(e);this.games=t,this.filterGames(this.filterBy)},e=>{this.fetchingDiscussions=!1})}submit(e){"NFL"!=this.league&&(e.week=void 0);var t=e.gameDate.split(/[-:T]/),n=new Date(t[0],t[1]-1,t[2],t[3],t[4]);e.gameDate=n;var i=this.teams.find((function(t){return t._id.toString()==e.awayTeam.toString()})),o=this.teams.find((function(t){return t._id.toString()==e.homeTeam.toString()}));e.pollValues=[o.teamName,i.teamName],this.loading=!0,this.adminService.addGame(e).subscribe(e=>{this.loading=!1,this.addTeamForm.controls.awayTeam.reset(),this.addTeamForm.controls.homeTeam.reset(),this.updated=!0,this.games.unshift(e),this.filterGames(e.league),setTimeout(()=>{this.updated=!1},5e3)},e=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.c),a.Mb(h),a.Mb(l.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:12,vars:7,consts:[[1,"teams-container","min-height"],["class","btn btn-primary ml-5",3,"click",4,"ngIf"],["id","close-add","class","fa fa-times-circle",3,"click",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["class","links",4,"ngIf"],[4,"ngIf"],[1,"button-wrapper"],[1,"btn","btn-primary",3,"click"],["id","fetching-discussions","class","fa fa-circle-o-notch fa-spin fa-fw fa-lg",4,"ngIf"],["id","button-text",4,"ngIf"],[1,"btn","btn-primary","ml-5",3,"click"],["id","close-add",1,"fa","fa-times-circle",3,"click"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","form-inline","game","mt-3"],[1,"mr-3"],["id","awayTeam","formControlName","awayTeam",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["id","homeTeam","formControlName","homeTeam",1,"form-control"],[1,"form-group"],["for","gameDate",1,"col-form-label"],["type","datetime-local","id","gameDate","formControlName","gameDate",1,"form-control"],["for","league"],["id","league","formControlName","league",1,"form-control",3,"ngModel","ngModelChange"],["value","NBA"],["value","NFL"],["value","NHL"],["value","Soccer"],["value","MLB"],["value","NCAAB"],["for","seasonYear"],["id","seasonYear","formControlName","seasonYear",1,"form-control"],["class","form-group",4,"ngIf"],["for","seasonType"],["id","seasonType","formControlName","seasonType",1,"form-control"],["class","alert alert-success","role","alert",4,"ngIf"],["type","submit","class","btn btn-primary block",3,"disabled",4,"ngIf"],["class","fa fa-spinner fa-pulse fa-fw",4,"ngIf"],[3,"value"],["for","week",1,"col-form-label"],["type","number","id","week","formControlName","week",1,"form-control"],["role","alert",1,"alert","alert-success"],["type","submit",1,"btn","btn-primary","block",3,"disabled"],[1,"fa","fa-spinner","fa-pulse","fa-fw"],[1,"links"],[3,"click"],[3,"game","removeGame",4,"ngFor","ngForOf"],[3,"game","removeGame"],["id","fetching-discussions",1,"fa","fa-circle-o-notch","fa-spin","fa-fw","fa-lg"],["id","button-text"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"h4"),a.sc(2,"GAMES"),a.Ob(),a.rc(3,xe,2,0,"button",1),a.rc(4,Be,1,0,"i",2),a.rc(5,Se,54,14,"form",3),a.rc(6,Fe,13,12,"ul",4),a.rc(7,Ae,2,1,"ul",5),a.Pb(8,"div",6),a.Pb(9,"a",7),a.Xb("click",(function(){return t.fetchMoreGames()})),a.rc(10,De,1,0,"i",8),a.rc(11,je,2,0,"span",9),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.Bb(3),a.hc("ngIf",!t.add),a.Bb(1),a.hc("ngIf",t.add),a.Bb(1),a.hc("ngIf",t.add),a.Bb(1),a.hc("ngIf",!t.add),a.Bb(1),a.hc("ngIf",!t.add),a.Bb(3),a.hc("ngIf",t.fetchingDiscussions),a.Bb(1),a.hc("ngIf",!t.fetchingDiscussions))},directives:[r.j,o.s,o.k,o.e,o.p,o.j,o.d,r.i,o.a,o.m,o.r,o.n,we],pipes:[Te],styles:[".teams-container[_ngcontent-%COMP%]{width:70%;margin:0 auto;padding-top:50px}h4[_ngcontent-%COMP%]{border-bottom:2px solid #000;display:inline-block;padding-bottom:5px;font-size:1.8rem}h3[_ngcontent-%COMP%]{margin:0 20px}#close-add[_ngcontent-%COMP%]{font-size:25px;margin-left:75px;cursor:pointer}#close-add[_ngcontent-%COMP%]:hover{color:#505050}form[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-top:10px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:25px}.game[_ngcontent-%COMP%]{border-bottom:2px solid #d3d3d3;padding-bottom:15px}.button-wrapper[_ngcontent-%COMP%]{color:#fff;text-align:center;padding:30px}.btn[_ngcontent-%COMP%]{cursor:pointer}ul.links[_ngcontent-%COMP%]{width:100%;background:#fdfdff;list-style:none;padding:0;display:flex;justify-content:space-around;border:1px solid #e0e3f0;margin-top:30px;border-radius:5px}ul.links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:18px;width:100%;text-align:center;padding:15px 0;cursor:pointer;color:#424b5c}ul.links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:rgba(237,238,246,.9)}.active[_ngcontent-%COMP%]{background:rgba(225,227,239,.9)}@media screen and (max-width:600px){.teams-container[_ngcontent-%COMP%]{width:95%;margin:0 auto;padding-top:50px}}"]}),e})();function Le(e,t){1&e&&a.Nb(0,"i",5)}function Ee(e,t){1&e&&a.Nb(0,"i",6)}function Re(e,t){1&e&&(a.Pb(0,"div",28),a.sc(1," The badge has been updated. "),a.Ob())}function Xe(e,t){1&e&&(a.Pb(0,"div",29),a.sc(1," There was a problem when updating the badge. "),a.Ob())}function ze(e,t){if(1&e&&(a.Pb(0,"button",30),a.sc(1,"Update Badge"),a.Ob()),2&e){const e=a.bc(2);a.hc("disabled",!e.badgeForm.valid)}}function Ue(e,t){1&e&&a.Nb(0,"i",31)}function He(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",7),a.Pb(1,"form",8),a.Xb("ngSubmit",(function(){a.mc(e);const t=a.bc();return t.submit(t.badgeForm.value)})),a.Pb(2,"div",9),a.Pb(3,"label",10),a.sc(4,"Picture:"),a.Ob(),a.Nb(5,"input",11),a.Ob(),a.Pb(6,"div",9),a.Pb(7,"label",12),a.sc(8,"Next Picture:"),a.Ob(),a.Nb(9,"input",13),a.Ob(),a.Pb(10,"div",9),a.Pb(11,"label",14),a.sc(12,"Name:"),a.Ob(),a.Nb(13,"input",15),a.Ob(),a.Pb(14,"div",9),a.Pb(15,"label",16),a.sc(16,"Next level name:"),a.Ob(),a.Nb(17,"input",17),a.Ob(),a.Pb(18,"div",9),a.Pb(19,"label",18),a.sc(20,"Next level points:"),a.Ob(),a.Nb(21,"input",19),a.Ob(),a.Pb(22,"div",9),a.Pb(23,"label",20),a.sc(24,"Previous level points:"),a.Ob(),a.Nb(25,"input",21),a.Ob(),a.Pb(26,"div",9),a.Pb(27,"label",22),a.sc(28,"Level:"),a.Ob(),a.Pb(29,"select",23),a.Pb(30,"option"),a.sc(31,"1"),a.Ob(),a.Pb(32,"option"),a.sc(33,"2"),a.Ob(),a.Pb(34,"option"),a.sc(35,"3"),a.Ob(),a.Pb(36,"option"),a.sc(37,"4"),a.Ob(),a.Pb(38,"option"),a.sc(39,"5"),a.Ob(),a.Pb(40,"option"),a.sc(41,"6"),a.Ob(),a.Pb(42,"option"),a.sc(43,"7"),a.Ob(),a.Pb(44,"option"),a.sc(45,"8"),a.Ob(),a.Pb(46,"option"),a.sc(47,"9"),a.Ob(),a.Pb(48,"option"),a.sc(49,"10"),a.Ob(),a.Pb(50,"option"),a.sc(51,"11"),a.Ob(),a.Pb(52,"option"),a.sc(53,"12"),a.Ob(),a.Pb(54,"option"),a.sc(55,"13"),a.Ob(),a.Pb(56,"option"),a.sc(57,"14"),a.Ob(),a.Pb(58,"option"),a.sc(59,"15"),a.Ob(),a.Pb(60,"option"),a.sc(61,"16"),a.Ob(),a.Pb(62,"option"),a.sc(63,"17"),a.Ob(),a.Pb(64,"option"),a.sc(65,"18"),a.Ob(),a.Pb(66,"option"),a.sc(67,"19"),a.Ob(),a.Pb(68,"option"),a.sc(69,"20"),a.Ob(),a.Ob(),a.Ob(),a.rc(70,Re,2,0,"div",24),a.rc(71,Xe,2,0,"div",25),a.rc(72,ze,2,1,"button",26),a.rc(73,Ue,1,0,"i",27),a.Ob(),a.Ob()}if(2&e){const e=a.bc();a.Bb(1),a.hc("formGroup",e.badgeForm),a.Bb(69),a.hc("ngIf",e.updated),a.Bb(1),a.hc("ngIf",e.error),a.Bb(1),a.hc("ngIf",!e.loading),a.Bb(1),a.hc("ngIf",e.loading)}}let Qe=(()=>{class e{constructor(e,t){this.formBuilder=e,this.adminService=t,this.showDetail=!1,this.loading=!1,this.updated=!1,this.error=!1}ngOnInit(){this.buildForm()}buildForm(){this.badgeForm=this.formBuilder.group({picture:[this.badge.picture,o.q.required],nextPicture:[this.badge.nextPicture,o.q.required],level:[this.badge.level,o.q.required],name:[this.badge.name,o.q.required],nextPoints:[this.badge.nextPoints,o.q.required],previousPoints:[this.badge.previousPoints,o.q.required],nextName:[this.badge.nextName,o.q.required]})}submit(e){this.loading=!0,1==this.badge.level&&(e.previousPoints=void 0),this.adminService.updateBadge(e,this.badge._id).subscribe(()=>{this.updated=!0,this.loading=!1,setTimeout(()=>{this.updated=!1},5e3)},e=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.c),a.Mb(h))},e.\u0275cmp=a.Gb({type:e,selectors:[["badge-detail"]],inputs:{badge:"badge"},decls:8,vars:5,consts:[[1,"main",3,"click"],["alt","Logo",1,"team-pic",3,"src"],["class","fa fa-angle-down","aria-hidden","true",4,"ngIf"],["class","fa fa-angle-up","aria-hidden","true",4,"ngIf"],["class","team-form",4,"ngIf"],["aria-hidden","true",1,"fa","fa-angle-down"],["aria-hidden","true",1,"fa","fa-angle-up"],[1,"team-form"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","picture"],["id","picture","type","text","placeholder","Enter url picture","formControlName","picture",1,"form-control"],["for","nextPicture"],["id","nextPicture","type","text","placeholder","Enter next picture","formControlName","nextPicture",1,"form-control"],["for","name"],["id","name","type","text","placeholder","Enter name","formControlName","name",1,"form-control"],["for","nextName"],["id","nextName","type","text","placeholder","Enter next level name","formControlName","nextName",1,"form-control"],["for","nextPoints"],["id","nextPoints","type","number","placeholder","Enter next level points","formControlName","nextPoints",1,"form-control"],["for","previousPoints"],["id","previousPoints","type","number","placeholder","Enter previous level points","formControlName","previousPoints",1,"form-control"],["for","level"],["id","level","formControlName","level",1,"form-control"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["type","submit","class","btn btn-primary block",3,"disabled",4,"ngIf"],["class","fa fa-spinner fa-pulse fa-fw",4,"ngIf"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-danger"],["type","submit",1,"btn","btn-primary","block",3,"disabled"],[1,"fa","fa-spinner","fa-pulse","fa-fw"]],template:function(e,t){1&e&&(a.Pb(0,"li"),a.Pb(1,"div",0),a.Xb("click",(function(){return t.showDetail=!t.showDetail})),a.Nb(2,"img",1),a.Pb(3,"b"),a.sc(4),a.Ob(),a.rc(5,Le,1,0,"i",2),a.rc(6,Ee,1,0,"i",3),a.Ob(),a.rc(7,He,74,5,"div",4),a.Ob()),2&e&&(a.Bb(2),a.hc("src",null==t.badge?null:t.badge.picture,a.oc),a.Bb(2),a.tc(null==t.badge?null:t.badge.name),a.Bb(1),a.hc("ngIf",!t.showDetail),a.Bb(1),a.hc("ngIf",t.showDetail),a.Bb(1),a.hc("ngIf",t.showDetail))},directives:[r.j,o.s,o.k,o.e,o.a,o.j,o.d,o.n,o.p,o.m,o.r],styles:["li[_ngcontent-%COMP%] {\n        background: white;\n        margin-bottom: 15px;\n        \n    }\n\n    .team-form[_ngcontent-%COMP%] {\n        padding: 20px;\n    }\n\n    .main[_ngcontent-%COMP%] {\n        position: relative;\n        cursor: pointer;\n\n    }\n    \n    li[_ngcontent-%COMP%]:hover {\n        -moz-box-shadow: 0 2px 0  #18399B;\n        -webkit-box-shadow: 0 2px 0 #18399B;\n        box-shadow: 0 2px 0px  #18399B;\n    }\n    \n    .team-pic[_ngcontent-%COMP%] {\n        height: 60px;\n        width: 60px;\n        object-fit: contain;\n        margin: 5px 20px 5px 8px;\n    }\n    \n    .fa-angle-down[_ngcontent-%COMP%], .fa-angle-up[_ngcontent-%COMP%] {\n        position: absolute;\n        right: 20px;\n        top: 22px;\n        font-size: 25px;\n        color: #949494;\n        \n    }"]}),e})();function $e(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",5),a.Xb("click",(function(){return a.mc(e),a.bc().add=!0})),a.sc(1," Add badge"),a.Ob()}}function We(e,t){if(1&e){const e=a.Qb();a.Pb(0,"i",6),a.Xb("click",(function(){return a.mc(e),a.bc().add=!1})),a.Ob()}}function Ye(e,t){1&e&&(a.Pb(0,"div",26),a.sc(1," The badge has been added to the DB. "),a.Ob())}function Je(e,t){if(1&e&&(a.Pb(0,"button",27),a.sc(1,"Add Badge"),a.Ob()),2&e){const e=a.bc(2);a.hc("disabled",!e.badgeForm.valid)}}function Ke(e,t){1&e&&a.Nb(0,"i",28)}function Ve(e,t){if(1&e){const e=a.Qb();a.Pb(0,"form",7),a.Xb("ngSubmit",(function(){a.mc(e);const t=a.bc();return t.submit(t.badgeForm.value)})),a.Pb(1,"div",8),a.Pb(2,"label",9),a.sc(3,"Picture:"),a.Ob(),a.Nb(4,"input",10),a.Ob(),a.Pb(5,"div",8),a.Pb(6,"label",11),a.sc(7,"Next Picture:"),a.Ob(),a.Nb(8,"input",12),a.Ob(),a.Pb(9,"div",8),a.Pb(10,"label",13),a.sc(11,"Name:"),a.Ob(),a.Nb(12,"input",14),a.Ob(),a.Pb(13,"div",8),a.Pb(14,"label",15),a.sc(15,"Next level name:"),a.Ob(),a.Nb(16,"input",16),a.Ob(),a.Pb(17,"div",8),a.Pb(18,"label",17),a.sc(19,"Next level points:"),a.Ob(),a.Nb(20,"input",18),a.Ob(),a.Pb(21,"div",8),a.Pb(22,"label",19),a.sc(23,"Previous level points:"),a.Ob(),a.Nb(24,"input",20),a.Ob(),a.Pb(25,"div",8),a.Pb(26,"label",21),a.sc(27,"Level:"),a.Ob(),a.Pb(28,"select",22),a.Pb(29,"option"),a.sc(30,"1"),a.Ob(),a.Pb(31,"option"),a.sc(32,"2"),a.Ob(),a.Pb(33,"option"),a.sc(34,"3"),a.Ob(),a.Pb(35,"option"),a.sc(36,"4"),a.Ob(),a.Pb(37,"option"),a.sc(38,"5"),a.Ob(),a.Pb(39,"option"),a.sc(40,"6"),a.Ob(),a.Pb(41,"option"),a.sc(42,"7"),a.Ob(),a.Pb(43,"option"),a.sc(44,"8"),a.Ob(),a.Pb(45,"option"),a.sc(46,"9"),a.Ob(),a.Pb(47,"option"),a.sc(48,"10"),a.Ob(),a.Pb(49,"option"),a.sc(50,"11"),a.Ob(),a.Pb(51,"option"),a.sc(52,"12"),a.Ob(),a.Pb(53,"option"),a.sc(54,"13"),a.Ob(),a.Pb(55,"option"),a.sc(56,"14"),a.Ob(),a.Pb(57,"option"),a.sc(58,"15"),a.Ob(),a.Pb(59,"option"),a.sc(60,"16"),a.Ob(),a.Pb(61,"option"),a.sc(62,"17"),a.Ob(),a.Pb(63,"option"),a.sc(64,"18"),a.Ob(),a.Pb(65,"option"),a.sc(66,"19"),a.Ob(),a.Pb(67,"option"),a.sc(68,"20"),a.Ob(),a.Ob(),a.Ob(),a.rc(69,Ye,2,0,"div",23),a.rc(70,Je,2,1,"button",24),a.rc(71,Ke,1,0,"i",25),a.Ob()}if(2&e){const e=a.bc();a.hc("formGroup",e.badgeForm),a.Bb(69),a.hc("ngIf",e.updated),a.Bb(1),a.hc("ngIf",!e.loading),a.Bb(1),a.hc("ngIf",e.loading)}}function Ze(e,t){1&e&&a.Nb(0,"badge-detail",31),2&e&&a.hc("badge",t.$implicit)}function et(e,t){if(1&e&&(a.Pb(0,"ul",29),a.rc(1,Ze,1,1,"badge-detail",30),a.Ob()),2&e){const e=a.bc();a.Bb(1),a.hc("ngForOf",e.badges)}}let tt=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.adminService=t,this.authService=n,this.updated=!1,this.badges=[],this.add=!1,this.showDetail=!1,this.loading=!1,this.filterBy="nfl"}ngOnInit(){this.getBadges(),this.buildForm()}getBadges(){this.adminService.getBadges().subscribe(e=>{this.badges=e},e=>{this.authService.errorMessage=e})}buildForm(){this.badgeForm=this.formBuilder.group({picture:["",o.q.required],level:["",o.q.required],name:["",o.q.required],nextPoints:["",o.q.required],nextPicture:["",o.q.required],previousPoints:["",o.q.required],nextName:["",o.q.required]})}submit(e){this.loading=!0,this.adminService.addBadge(e).subscribe(e=>{this.loading=!1,this.badgeForm.reset(),this.updated=!0,this.badges.push(e),setTimeout(()=>{this.updated=!1},5e3)},e=>{this.loading=!1,this.authService.errorMessage=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.c),a.Mb(h),a.Mb(l.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:7,vars:4,consts:[[1,"badges-container","min-height"],["class","btn btn-primary ml-5",3,"click",4,"ngIf"],["id","close-add","class","fa fa-times-circle",3,"click",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["class","t-detail",4,"ngIf"],[1,"btn","btn-primary","ml-5",3,"click"],["id","close-add",1,"fa","fa-times-circle",3,"click"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","picture"],["id","picture","type","text","placeholder","Enter picture url","formControlName","picture",1,"form-control"],["for","nextPicture"],["id","nextPicture","type","text","placeholder","Enter next picture","formControlName","nextPicture",1,"form-control"],["for","name"],["id","name","type","text","placeholder","Enter name","formControlName","name",1,"form-control"],["for","nextName"],["id","nextName","type","text","placeholder","Enter next level name","formControlName","nextName",1,"form-control"],["for","nextPoints"],["id","nextPoints","type","number","placeholder","Enter next level points","formControlName","nextPoints",1,"form-control"],["for","previousPoints"],["id","previousPoints","type","number","placeholder","Enter previous level points","formControlName","previousPoints",1,"form-control"],["for","level"],["id","level","formControlName","level",1,"form-control"],["class","alert alert-success","role","alert",4,"ngIf"],["type","submit","class","btn btn-primary block",3,"disabled",4,"ngIf"],["class","fa fa-spinner fa-pulse fa-fw",4,"ngIf"],["role","alert",1,"alert","alert-success"],["type","submit",1,"btn","btn-primary","block",3,"disabled"],[1,"fa","fa-spinner","fa-pulse","fa-fw"],[1,"t-detail"],[3,"badge",4,"ngFor","ngForOf"],[3,"badge"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"h4"),a.sc(2,"BADGES"),a.Ob(),a.rc(3,$e,2,0,"button",1),a.rc(4,We,1,0,"i",2),a.rc(5,Ve,72,4,"form",3),a.rc(6,et,2,1,"ul",4),a.Ob()),2&e&&(a.Bb(3),a.hc("ngIf",!t.add),a.Bb(1),a.hc("ngIf",t.add),a.Bb(1),a.hc("ngIf",t.add),a.Bb(1),a.hc("ngIf",!t.add))},directives:[r.j,o.s,o.k,o.e,o.a,o.j,o.d,o.n,o.p,o.m,o.r,r.i,Qe],styles:[".badges-container[_ngcontent-%COMP%]{width:70%;margin:0 auto;padding-top:50px}h4[_ngcontent-%COMP%]{border-bottom:2px solid #000;display:inline-block;padding-bottom:5px}ul.t-detail[_ngcontent-%COMP%]{list-style-type:none;margin-top:25px}#close-add[_ngcontent-%COMP%]{font-size:25px;margin-left:75px;cursor:pointer}#close-add[_ngcontent-%COMP%]:hover{color:#505050}form[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-top:10px}"]}),e})();function nt(e,t){1&e&&(a.Pb(0,"span",7),a.Nb(1,"span",8),a.sc(2,"Active"),a.Ob())}function it(e,t){1&e&&(a.Pb(0,"span",9),a.Nb(1,"span",10),a.sc(2,"Inactive"),a.Ob())}function ot(e,t){1&e&&a.Nb(0,"i",11)}function rt(e,t){1&e&&a.Nb(0,"i",12)}function at(e,t){if(1&e&&(a.Pb(0,"div",33),a.Pb(1,"div",34),a.Pb(2,"label",35),a.Pb(3,"span",36),a.sc(4),a.Ob(),a.Ob(),a.Pb(5,"div",37),a.Nb(6,"input",38),a.Nb(7,"input",39),a.Ob(),a.Ob(),a.Ob()),2&e){const e=t.index;a.Bb(1),a.hc("formGroupName",e),a.Bb(3),a.tc(e+1),a.Bb(2),a.Cb("maxlength",30)}}function st(e,t){if(1&e&&(a.Pb(0,"option",40),a.sc(1),a.Ob()),2&e){const e=t.index;a.hc("value",e),a.Bb(1),a.uc("Option ",e+1,"")}}function ct(e,t){1&e&&(a.Pb(0,"div",41),a.sc(1," The trivia has been updated; "),a.Ob())}function bt(e,t){if(1&e&&(a.Pb(0,"button",42),a.sc(1,"Update Trivia"),a.Ob()),2&e){const e=a.bc(2);a.hc("disabled",!e.triviaForm.valid)}}function lt(e,t){1&e&&a.Nb(0,"i",43)}function dt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",13),a.Pb(1,"form",14),a.Xb("ngSubmit",(function(){a.mc(e);const t=a.bc();return t.submit(t.triviaForm.value)})),a.Pb(2,"div",15),a.Pb(3,"label",16),a.sc(4,"Active:"),a.Ob(),a.Pb(5,"select",17),a.Pb(6,"option",18),a.sc(7,"True"),a.Ob(),a.Pb(8,"option",19),a.sc(9,"False"),a.Ob(),a.Ob(),a.Ob(),a.Pb(10,"div",15),a.Pb(11,"label",20),a.sc(12,"Reveal Answer:"),a.Ob(),a.Pb(13,"select",21),a.Pb(14,"option",18),a.sc(15,"True"),a.Ob(),a.Pb(16,"option",19),a.sc(17,"False"),a.Ob(),a.Ob(),a.Ob(),a.Pb(18,"div",15),a.Pb(19,"label",22),a.sc(20,"Question:"),a.Ob(),a.Nb(21,"input",23),a.Ob(),a.Pb(22,"div",15),a.Pb(23,"label",22),a.sc(24,"Options:"),a.Ob(),a.rc(25,at,8,3,"div",24),a.Ob(),a.Pb(26,"div",15),a.Pb(27,"label",25),a.sc(28,"Correct Option:"),a.Ob(),a.Pb(29,"select",26),a.rc(30,st,2,2,"option",27),a.Ob(),a.Ob(),a.Pb(31,"div",15),a.Pb(32,"label",28),a.sc(33,"League:"),a.Ob(),a.Pb(34,"select",29),a.Pb(35,"option"),a.sc(36,"NBA"),a.Ob(),a.Pb(37,"option"),a.sc(38,"NFL"),a.Ob(),a.Pb(39,"option"),a.sc(40,"Soccer"),a.Ob(),a.Pb(41,"option"),a.sc(42,"NHL"),a.Ob(),a.Pb(43,"option"),a.sc(44,"MLB"),a.Ob(),a.Pb(45,"option"),a.sc(46,"NCAAB"),a.Ob(),a.Pb(47,"option"),a.sc(48,"NCAAF"),a.Ob(),a.Pb(49,"option"),a.sc(50,"Test"),a.Ob(),a.Ob(),a.Ob(),a.rc(51,ct,2,0,"div",30),a.rc(52,bt,2,1,"button",31),a.rc(53,lt,1,0,"i",32),a.Ob(),a.Ob()}if(2&e){const e=a.bc();a.Bb(1),a.hc("formGroup",e.triviaForm),a.Bb(24),a.hc("ngForOf",e.formData.controls),a.Bb(5),a.hc("ngForOf",e.formData.controls),a.Bb(21),a.hc("ngIf",e.updated),a.Bb(1),a.hc("ngIf",!e.loading),a.Bb(1),a.hc("ngIf",e.loading)}}let mt=(()=>{class e{constructor(e,t){this.formBuilder=e,this.adminService=t,this.showDetail=!1,this.loading=!1,this.updated=!1,this.error=!1,this.possibleWinsAndLoses=150,this.wins=[],this.loses=[]}get formData(){return this.triviaForm.get("options")}ngOnInit(){this.buildForm(),this.trivia.date=new Date(this.trivia.date)}buildForm(){let e=this.trivia.options.map(e=>this.formBuilder.group({option:e.option,picture:e.picture})),t=this.trivia.options.findIndex(e=>e._id==this.trivia.correctOption);console.log(t),-1==t&&(t=null),this.triviaForm=this.formBuilder.group({question:[this.trivia.question,o.q.required],active:[this.trivia.active,o.q.required],revealAnswer:[this.trivia.revealAnswer,o.q.required],options:this.formBuilder.array(e),correctOption:[t||""],league:[this.trivia.league,o.q.required]})}submit(e){this.loading=!0,e.correctOption?e.correctOption=this.trivia.options[e.correctOption]._id:delete e.correctOption;for(var t=0;t<e.options.length;t++){var n=e.options[t];e.options[t].option=n.option[0].toUpperCase()+n.option.slice(1)}console.log(e),this.adminService.updateTrivia(e,this.trivia._id).subscribe(e=>{this.updated=!0,this.loading=!1,this.trivia=e,setTimeout(()=>{this.updated=!1},5e3)},e=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.c),a.Mb(h))},e.\u0275cmp=a.Gb({type:e,selectors:[["trivia-item"]],inputs:{trivia:"trivia"},decls:14,vars:11,consts:[[1,"main",3,"click"],[1,"trivia-league"],["class","active-text",4,"ngIf"],["class","inactive-text",4,"ngIf"],["class","fa fa-angle-down","aria-hidden","true",4,"ngIf"],["class","fa fa-angle-up","aria-hidden","true",4,"ngIf"],["class","team-form",4,"ngIf"],[1,"active-text"],[1,"active"],[1,"inactive-text"],[1,"inactive"],["aria-hidden","true",1,"fa","fa-angle-down"],["aria-hidden","true",1,"fa","fa-angle-up"],[1,"team-form"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","active"],["id","active","formControlName","active",1,"form-control"],["value","true"],["value","false"],["for","revealAnswer"],["id","active","formControlName","revealAnswer",1,"form-control"],["for","logo"],["id","logo","type","text","placeholder","Enter a question","formControlName","question",1,"form-control"],["formArrayName","options","class","poll-flex",4,"ngFor","ngForOf"],["for","correctOption"],["id","correctOption","formControlName","correctOption",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","league"],["id","league","formControlName","league",1,"form-control"],["class","alert alert-success","role","alert",4,"ngIf"],["type","submit","class","btn btn-primary block",3,"disabled",4,"ngIf"],["class","fa fa-spinner fa-pulse fa-fw",4,"ngIf"],["formArrayName","options",1,"poll-flex"],[1,"poll-group",3,"formGroupName"],[1,"col-form-label","poll-labels","col-sm-2"],[1,"inner-no"],[1,"poll-values","col-sm-5"],["formControlName","option","type","text","autocapitalize","on","autocomplete","off","placeholder","Option",1,"form-control"],["formControlName","picture","type","text","autocapitalize","on","autocomplete","off","placeholder","Picture",1,"form-control"],[3,"value"],["role","alert",1,"alert","alert-success"],["type","submit",1,"btn","btn-primary","block",3,"disabled"],[1,"fa","fa-spinner","fa-pulse","fa-fw"]],template:function(e,t){1&e&&(a.Pb(0,"li"),a.Pb(1,"div",0),a.Xb("click",(function(){return t.showDetail=!t.showDetail})),a.Pb(2,"span",1),a.sc(3),a.Ob(),a.Pb(4,"span",1),a.sc(5),a.cc(6,"date"),a.Ob(),a.rc(7,nt,3,0,"span",2),a.rc(8,it,3,0,"span",3),a.Pb(9,"b"),a.sc(10),a.Ob(),a.rc(11,ot,1,0,"i",4),a.rc(12,rt,1,0,"i",5),a.Ob(),a.rc(13,dt,54,6,"div",6),a.Ob()),2&e&&(a.Bb(3),a.tc(null==t.trivia?null:t.trivia.league),a.Bb(2),a.tc(a.ec(6,8,null==t.trivia?null:t.trivia.date,"mediumDate")),a.Bb(2),a.hc("ngIf",t.trivia.active),a.Bb(1),a.hc("ngIf",!t.trivia.active),a.Bb(2),a.tc(null==t.trivia?null:t.trivia.question),a.Bb(1),a.hc("ngIf",!t.showDetail),a.Bb(1),a.hc("ngIf",t.showDetail),a.Bb(1),a.hc("ngIf",t.showDetail))},directives:[r.j,o.s,o.k,o.e,o.p,o.j,o.d,o.m,o.r,o.a,r.i,o.b,o.f,o.h],pipes:[r.d],styles:["li[_ngcontent-%COMP%]{background:#fff;margin-bottom:15px}.team-form[_ngcontent-%COMP%]{padding:20px}.main[_ngcontent-%COMP%]{position:relative;cursor:pointer;padding:20px 0;font-size:20px}li[_ngcontent-%COMP%]:hover{box-shadow:0 2px 0 #18399b}.team-pic[_ngcontent-%COMP%]{height:60px;width:60px;-o-object-fit:contain;object-fit:contain;margin:5px 20px 5px 8px}.form-control[_ngcontent-%COMP%]{margin-bottom:10px}.fa-angle-down[_ngcontent-%COMP%], .fa-angle-up[_ngcontent-%COMP%]{position:absolute;right:20px;top:22px;font-size:25px;color:#949494}.inner-no[_ngcontent-%COMP%]{background:#4264d0;width:20px;height:20px;display:flex;justify-content:center;align-items:center;padding:13px;font-size:14px;color:#fff}.active[_ngcontent-%COMP%], .inner-no[_ngcontent-%COMP%]{border-radius:50px}.active[_ngcontent-%COMP%]{background:#19b82b;width:12px;height:12px;display:inline-block;margin-right:5px}.active-text[_ngcontent-%COMP%], .inactive-text[_ngcontent-%COMP%], .trivia-league[_ngcontent-%COMP%]{display:block;font-size:14px}.trivia-league[_ngcontent-%COMP%]{color:#939393}.active-text[_ngcontent-%COMP%]{color:#19b82b}.inactive-text[_ngcontent-%COMP%]{color:#e6302d}.inactive[_ngcontent-%COMP%]{display:inline-block;background:#e6302d;width:15px;height:15px;border-radius:50px;margin-right:5px}"]}),e})();function ut(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",5),a.Xb("click",(function(){return a.mc(e),a.bc().add=!0})),a.sc(1," Add play item"),a.Ob()}}function ht(e,t){if(1&e){const e=a.Qb();a.Pb(0,"i",6),a.Xb("click",(function(){return a.mc(e),a.bc().add=!1})),a.Ob()}}function pt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"span",34),a.Xb("click",(function(){a.mc(e);const t=a.bc().index;return a.bc(2).deleteOption(t)})),a.sc(1,"x"),a.Ob()}}function gt(e,t){if(1&e&&(a.Pb(0,"div",26),a.Pb(1,"div",27),a.Pb(2,"label",28),a.Pb(3,"span",29),a.sc(4),a.Ob(),a.Ob(),a.Pb(5,"div",30),a.Nb(6,"input",31),a.Nb(7,"input",32),a.Ob(),a.rc(8,pt,2,0,"span",33),a.Ob(),a.Ob()),2&e){const e=t.index;a.Bb(1),a.hc("formGroupName",e),a.Bb(3),a.tc(e+1),a.Bb(2),a.Cb("maxlength",30),a.Bb(2),a.hc("ngIf",e>1)}}function ft(e,t){if(1&e&&(a.Pb(0,"option",35),a.sc(1),a.Ob()),2&e){const e=t.index;a.hc("value",e),a.Bb(1),a.uc("Option ",e+1,"")}}function Pt(e,t){1&e&&(a.Pb(0,"div",36),a.sc(1," The team has been added to the DB. "),a.Ob())}function Ot(e,t){if(1&e&&(a.Pb(0,"button",37),a.sc(1,"Add play item"),a.Ob()),2&e){const e=a.bc(2);a.hc("disabled",!e.addForm.valid)}}function vt(e,t){1&e&&a.Nb(0,"i",38)}function yt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"form",7),a.Xb("ngSubmit",(function(){a.mc(e);const t=a.bc();return t.submit(t.addForm.value)})),a.Pb(1,"div",8),a.Pb(2,"label",9),a.sc(3,"Type:"),a.Ob(),a.Pb(4,"select",10),a.Pb(5,"option",11),a.sc(6,"Trivia"),a.Ob(),a.Pb(7,"option",12),a.sc(8,"Pick"),a.Ob(),a.Ob(),a.Ob(),a.Pb(9,"div",8),a.Pb(10,"label",13),a.sc(11,"Question:"),a.Ob(),a.Nb(12,"input",14),a.Ob(),a.Pb(13,"div",8),a.Pb(14,"label",13),a.sc(15,"Options:"),a.Ob(),a.rc(16,gt,9,4,"div",15),a.Pb(17,"div",16),a.Pb(18,"button",17),a.Xb("click",(function(){return a.mc(e),a.bc().addOption()})),a.sc(19,"Add another option"),a.Ob(),a.Ob(),a.Ob(),a.Pb(20,"div",8),a.Pb(21,"label",18),a.sc(22,"Correct Option:"),a.Ob(),a.Pb(23,"select",19),a.rc(24,ft,2,2,"option",20),a.Ob(),a.Ob(),a.Pb(25,"div",8),a.Pb(26,"label",21),a.sc(27,"League:"),a.Ob(),a.Pb(28,"select",22),a.Pb(29,"option"),a.sc(30,"NBA"),a.Ob(),a.Pb(31,"option"),a.sc(32,"NFL"),a.Ob(),a.Pb(33,"option"),a.sc(34,"Soccer"),a.Ob(),a.Pb(35,"option"),a.sc(36,"NHL"),a.Ob(),a.Pb(37,"option"),a.sc(38,"MLB"),a.Ob(),a.Pb(39,"option"),a.sc(40,"NCAAB"),a.Ob(),a.Pb(41,"option"),a.sc(42,"NCAAF"),a.Ob(),a.Pb(43,"option"),a.sc(44,"Test"),a.Ob(),a.Ob(),a.Ob(),a.rc(45,Pt,2,0,"div",23),a.rc(46,Ot,2,1,"button",24),a.rc(47,vt,1,0,"i",25),a.Ob()}if(2&e){const e=a.bc();a.hc("formGroup",e.addForm),a.Bb(16),a.hc("ngForOf",e.formData.controls),a.Bb(8),a.hc("ngForOf",e.formData.controls),a.Bb(21),a.hc("ngIf",e.updated),a.Bb(1),a.hc("ngIf",!e.loading),a.Bb(1),a.hc("ngIf",e.loading)}}function wt(e,t){1&e&&a.Nb(0,"trivia-item",41),2&e&&a.hc("trivia",t.$implicit)}function Tt(e,t){if(1&e&&(a.Pb(0,"ul",39),a.rc(1,wt,1,1,"trivia-item",40),a.Ob()),2&e){const e=a.bc();a.Bb(1),a.hc("ngForOf",e.trivias)}}let xt=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.adminService=t,this.authService=n,this.updated=!1,this.teams=[],this.add=!1,this.showDetail=!1,this.loading=!1,this.filterBy="NFL",this.skip=0,this.trivias=[]}get formData(){return this.addForm.get("options")}ngOnInit(){this.buildForm(),this.getTrivias()}buildForm(){this.addForm=this.formBuilder.group({question:["",o.q.required],type:["Trivia",o.q.required],options:this.formBuilder.array([this.createItem(),this.createItem()]),correctOption:[""],league:["NFL",o.q.required]})}createItem(){return this.formBuilder.group({option:"",picture:""})}deleteOption(e){this.optionsForm=this.addForm.get("options"),this.optionsForm.removeAt(e)}addOption(){this.optionsForm=this.addForm.get("options"),this.optionsForm.length<4?this.optionsForm.push(this.createItem()):(this.authService.errorMessage="You have reached the maximum number of options for the trivia",setTimeout(()=>{this.authService.errorMessage=null},4e3))}getTrivias(){this.adminService.getTrivias(this.skip).subscribe(e=>{this.trivias=e})}submit(e){if(this.loading=!0,e.correctOption){let i=e.options[e.correctOption].option;e.correctOption=i[0].toUpperCase()+i.slice(1);for(var t=0;t<e.options.length;t++){var n=e.options[t];e.options[t].option=n.option[0].toUpperCase()+n.option.slice(1)}}else delete e.correctOption;this.adminService.addTrivia(e).subscribe(e=>{this.loading=!1,this.addForm.reset(),this.updated=!0,this.trivias.unshift(e),setTimeout(()=>{this.updated=!1},5e3)},e=>{this.loading=!1,this.authService.errorMessage=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.c),a.Mb(h),a.Mb(l.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:7,vars:4,consts:[[1,"teams-container","min-height"],["class","btn btn-primary ml-5",3,"click",4,"ngIf"],["id","close-add","class","fa fa-times-circle",3,"click",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["class","t-detail",4,"ngIf"],[1,"btn","btn-primary","ml-5",3,"click"],["id","close-add",1,"fa","fa-times-circle",3,"click"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","revealAnswer"],["id","type","formControlName","type",1,"form-control"],["value","trivia"],["value","pick"],["for","logo"],["id","logo","type","text","placeholder","Enter a question","formControlName","question",1,"form-control"],["formArrayName","options","class","poll-flex",4,"ngFor","ngForOf"],["id","add-button-item"],["type","button",1,"btn","btn-outline-dark","btn-sm",3,"click"],["for","correctOption"],["id","correctOption","formControlName","correctOption",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","league"],["id","league","formControlName","league",1,"form-control"],["class","alert alert-success","role","alert",4,"ngIf"],["type","submit","class","btn btn-primary block",3,"disabled",4,"ngIf"],["class","fa fa-spinner fa-pulse fa-fw",4,"ngIf"],["formArrayName","options",1,"poll-flex"],[1,"poll-group",3,"formGroupName"],[1,"col-form-label","poll-labels","col-sm-2"],[1,"inner-no"],[1,"poll-values","col-sm-5"],["formControlName","option","type","text","autocapitalize","on","autocomplete","off","placeholder","Option",1,"form-control"],["formControlName","picture","type","text","autocapitalize","on","autocomplete","off","placeholder","Picture",1,"form-control"],["class","delete-option",3,"click",4,"ngIf"],[1,"delete-option",3,"click"],[3,"value"],["role","alert",1,"alert","alert-success"],["type","submit",1,"btn","btn-primary","block",3,"disabled"],[1,"fa","fa-spinner","fa-pulse","fa-fw"],[1,"t-detail"],[3,"trivia",4,"ngFor","ngForOf"],[3,"trivia"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"h4"),a.sc(2,"Play"),a.Ob(),a.rc(3,ut,2,0,"button",1),a.rc(4,ht,1,0,"i",2),a.rc(5,yt,48,6,"form",3),a.rc(6,Tt,2,1,"ul",4),a.Ob()),2&e&&(a.Bb(3),a.hc("ngIf",!t.add),a.Bb(1),a.hc("ngIf",t.add),a.Bb(1),a.hc("ngIf",t.add),a.Bb(1),a.hc("ngIf",!t.add))},directives:[r.j,o.s,o.k,o.e,o.p,o.j,o.d,o.m,o.r,o.a,r.i,o.b,o.f,o.h,mt],styles:[".teams-container[_ngcontent-%COMP%]{width:70%;margin:0 auto;padding-top:50px}h4[_ngcontent-%COMP%]{border-bottom:2px solid #000;display:inline-block;padding-bottom:5px;font-size:1.8rem}.options-group[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.poll-flex[_ngcontent-%COMP%]{width:100%}.poll-values[_ngcontent-%COMP%]{width:50%}.delete-option[_ngcontent-%COMP%]{margin-left:15px;margin-bottom:15px;cursor:pointer;display:inline-block}.inner-no[_ngcontent-%COMP%]{background:#4264d0;width:20px;height:20px;display:flex;justify-content:center;align-items:center;border-radius:50px;padding:13px;font-size:14px;color:#fff}ul.t-detail[_ngcontent-%COMP%]{list-style-type:none;margin-top:25px}#close-add[_ngcontent-%COMP%]{font-size:25px;margin-left:75px;cursor:pointer}#close-add[_ngcontent-%COMP%]:hover{color:#505050}form[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-top:10px}ul.links[_ngcontent-%COMP%]{width:100%;background:#fdfdff;list-style:none;padding:0;display:flex;justify-content:space-around;border:1px solid #e0e3f0;margin-top:30px;border-radius:5px}ul.links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;font-size:18px;width:100%;text-align:center;padding:15px 0;cursor:pointer;color:#424b5c}ul.links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:rgba(237,238,246,.9)}.active[_ngcontent-%COMP%]{background:rgba(225,227,239,.9)}.form-control[_ngcontent-%COMP%]{margin-bottom:10px}"]}),e})();function Bt(e,t){if(1&e&&(a.Pb(0,"span"),a.sc(1),a.Ob()),2&e){const e=a.bc();a.Bb(1),a.tc(e.blockedAccount)}}function Ct(e,t){1&e&&a.Nb(0,"i",14)}function Mt(e,t){1&e&&(a.Pb(0,"span",15),a.sc(1,"-"),a.Ob())}function kt(e,t){if(1&e&&(a.Pb(0,"span",15),a.sc(1),a.Ob()),2&e){const e=t.$implicit;a.Bb(1),a.tc(e)}}let _t=(()=>{class e{constructor(e,t,n){this.router=e,this.formBuilder=t,this.adminService=n,this.loadingAccount=!1,this.loadingIP=!1,this.blockedAccount="",this.blockedIP=""}ngOnInit(){this.checkText()}checkText(){this.blockedAccount=this.user.blocked?"Unblock account":"Block account",this.blockedIP=this.user.blockedIP?"Unblock IP":"Block IP"}blockAccount(){let e,t;if(this.user.blocked)t={reason:null,id:this.user._id};else{do{e=prompt("Reason",this.user.blockedReason||"")}while(!e);t={reason:e,id:this.user._id}}this.loadingAccount=!0,this.adminService.blockUserAccount(t).subscribe(e=>{e&&(this.loadingAccount=!1,this.user.blocked=!this.user.blocked,this.checkText())},e=>{this.loadingAccount=!1})}posts(){this.router.navigate(["/admin/posts",this.user._id])}comments(){this.router.navigate(["/admin/discussions",this.user._id])}replies(){this.router.navigate(["/admin/replies",this.user._id])}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(i.f),a.Mb(o.c),a.Mb(h))},e.\u0275cmp=a.Gb({type:e,selectors:[["user-detail"]],inputs:{user:"user"},decls:32,vars:23,consts:[[1,"user"],[1,"user__picture"],["alt","",3,"src"],[1,"username"],[1,"block"],["id","account",3,"click"],[4,"ngIf"],["class","fa fa-spinner fa-pulse fa-fw",4,"ngIf"],[3,"click"],[1,"user__info"],[1,"user__leagues","user__info__item"],["class","user__league",4,"ngIf"],["class","user__league",4,"ngFor","ngForOf"],[1,"user__info__item"],[1,"fa","fa-spinner","fa-pulse","fa-fw"],[1,"user__league"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"div",1),a.Nb(2,"img",2),a.Pb(3,"span",3),a.sc(4),a.Ob(),a.Pb(5,"div",4),a.Pb(6,"button",5),a.Xb("click",(function(){return t.blockAccount()})),a.rc(7,Bt,2,1,"span",6),a.rc(8,Ct,1,0,"i",7),a.Ob(),a.Pb(9,"button",8),a.Xb("click",(function(){return t.posts()})),a.Pb(10,"span"),a.sc(11,"Posts"),a.Ob(),a.Ob(),a.Pb(12,"button",8),a.Xb("click",(function(){return t.comments()})),a.Pb(13,"span"),a.sc(14,"Comments"),a.Ob(),a.Ob(),a.Pb(15,"button",8),a.Xb("click",(function(){return t.replies()})),a.Pb(16,"span"),a.sc(17,"Replies"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(18,"div",9),a.Pb(19,"div",10),a.rc(20,Mt,2,0,"span",11),a.rc(21,kt,2,1,"span",12),a.Ob(),a.Pb(22,"div",13),a.sc(23),a.Ob(),a.Pb(24,"div",13),a.sc(25),a.Ob(),a.Pb(26,"div",13),a.sc(27),a.Ob(),a.Pb(28,"div",13),a.sc(29),a.Ob(),a.Pb(30,"div",13),a.sc(31),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.Bb(2),a.hc("src",t.user.profilePicture,a.oc),a.Bb(2),a.tc(t.user.username),a.Bb(2),a.Db("block-btn",!0)("blocked",t.user.blocked),a.Bb(1),a.hc("ngIf",!t.loadingAccount),a.Bb(1),a.hc("ngIf",t.loadingAccount),a.Bb(1),a.Db("block-btn",!0)("blocked",t.user.blockedIP),a.Bb(3),a.Db("block-btn",!0),a.Bb(3),a.Db("block-btn",!0),a.Bb(5),a.hc("ngIf",0==t.user.leagues.length),a.Bb(1),a.hc("ngForOf",t.user.leagues),a.Bb(2),a.uc(" ",t.user.totalPoints," PTS "),a.Bb(2),a.uc(" Level ",t.user.badge.level," "),a.Bb(2),a.uc(" ",t.user.timeSpent.timeSpent," hours spent on the app. "),a.Bb(2),a.uc(" ",t.user.versionNumber," app version. "),a.Bb(2),a.uc(" ",t.user.email," "))},directives:[r.j,r.i],styles:[".blocked[_ngcontent-%COMP%]{background-color:#d5281c}.user[_ngcontent-%COMP%]{display:flex;height:380px;border-radius:10px;background:#343a56;border:2px solid #22263c;color:#fff;margin-bottom:20px}.user__picture[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;flex-basis:20%;align-items:center;padding:0 20px;border-right:2px solid #22263c;background:#4c5375}.user__picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;width:70px;border-radius:50%;-o-object-fit:cover;object-fit:cover;font-size:1.5rem}.user__info[_ngcontent-%COMP%]{flex:1;flex-direction:column;justify-content:space-evenly;padding:0 20px;font-size:1.5rem}.user__info[_ngcontent-%COMP%], .user__leagues[_ngcontent-%COMP%]{display:flex;align-items:center}.user__leagues[_ngcontent-%COMP%]{justify-content:flex-start}.user__league[_ngcontent-%COMP%]{margin-right:10px;background:#2c62f5;border-radius:3px;padding:6px;color:#fff}#account[_ngcontent-%COMP%]{margin:10px 0}.block-btn[_ngcontent-%COMP%]{text-transform:uppercase;color:#fff!important;background:#43b581;padding:10px;text-decoration:none;display:inline-block;border-radius:4px;font-weight:700;border:none;cursor:pointer;margin-bottom:10px}.username[_ngcontent-%COMP%]{font-size:1.6rem}.block[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-align:center;justify-content:center;border-top:2px solid #22263c}.block-btn[_ngcontent-%COMP%]:active, .block-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 .5rem 1rem rgba(0,0,0,.2)}.block-btn[_ngcontent-%COMP%]:hover{background:#2a51bd}"]}),e})();function Nt(e,t){1&e&&a.Nb(0,"i",9)}function It(e,t){1&e&&a.Nb(0,"i",10)}function St(e,t){if(1&e&&(a.Pb(0,"div"),a.Nb(1,"user-detail",11),a.Ob()),2&e){const e=t.$implicit;a.Bb(1),a.hc("user",e)}}let Ft=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.adminService=t,this.authService=n,this.loading=!1,this.loadingAccount=!1,this.loadingIP=!1}ngOnInit(){this.buildForm()}buildForm(){this.usernameForm=this.formBuilder.group({username:["",o.q.required]})}submit(e){this.loading=!0,this.adminService.getUsers(e).subscribe(e=>{this.loading=!1,e.forEach(e=>{e.timeSpent.timeSpent=(2.77778e-7*+e.timeSpent.timeSpent).toFixed(2)}),this.users=e,this.usernameForm.reset()},e=>{this.loading=!1,this.authService.errorMessage=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.c),a.Mb(h),a.Mb(l.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:11,vars:5,consts:[[1,"container"],["novalidate","",3,"formGroup","ngSubmit"],[1,"wrap"],[1,"search"],["type","text","placeholder","Enter a username","formControlName","username",1,"searchTerm"],["type","submit",1,"searchButton",3,"disabled"],["class","fa fa-search",4,"ngIf"],["class","fa fa-spinner fa-pulse fa-fw",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"fa","fa-search"],[1,"fa","fa-spinner","fa-pulse","fa-fw"],[3,"user"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"h4"),a.sc(2,"USERS"),a.Ob(),a.Pb(3,"form",1),a.Xb("ngSubmit",(function(){return t.submit(t.usernameForm.value)})),a.Pb(4,"div",2),a.Pb(5,"div",3),a.Nb(6,"input",4),a.Pb(7,"button",5),a.rc(8,Nt,1,0,"i",6),a.rc(9,It,1,0,"i",7),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.rc(10,St,2,1,"div",8),a.Ob()),2&e&&(a.Bb(3),a.hc("formGroup",t.usernameForm),a.Bb(4),a.hc("disabled",!t.usernameForm.valid),a.Bb(1),a.hc("ngIf",!t.loading),a.Bb(1),a.hc("ngIf",t.loading),a.Bb(1),a.hc("ngForOf",t.users))},directives:[o.s,o.k,o.e,o.a,o.j,o.d,r.j,r.i,_t],styles:[".search[_ngcontent-%COMP%]{width:100%;position:relative}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.searchTerm[_ngcontent-%COMP%]{float:left;width:100%;border:3px solid #00b4cc;padding:5px;height:35px;border-radius:5px;font-size:1.5rem;outline:none;color:#9dbfaf}.searchTerm[_ngcontent-%COMP%]:focus{color:#00b4cc}.searchButton[_ngcontent-%COMP%]{position:absolute;right:-50px;width:40px;height:36px;border:1px solid #00b4cc;background:#00b4cc;text-align:center;color:#fff;border-radius:5px;cursor:pointer;font-size:20px}.wrap[_ngcontent-%COMP%]{width:30%;margin:40px 0;height:35px}h4[_ngcontent-%COMP%]{border-bottom:2px solid #000;display:inline-block;padding-bottom:5px;font-size:1.8rem}.container[_ngcontent-%COMP%]{width:70%;margin:0 auto;padding-top:50px}"]}),e})();function Gt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"li"),a.Pb(1,"span",3),a.sc(2,"Reporting:"),a.Ob(),a.Pb(3,"div"),a.Nb(4,"img",5),a.Pb(5,"span",6),a.sc(6),a.Ob(),a.Nb(7,"br"),a.Pb(8,"button",7),a.Xb("click",(function(){a.mc(e);const t=a.bc();return t.posts(t.report.userReporting._id)})),a.sc(9,"Posts"),a.Ob(),a.Pb(10,"button",7),a.Xb("click",(function(){a.mc(e);const t=a.bc();return t.comments(t.report.userReporting._id)})),a.sc(11,"Comments"),a.Ob(),a.Pb(12,"button",7),a.Xb("click",(function(){a.mc(e);const t=a.bc();return t.replies(t.report.userReporting._id)})),a.sc(13,"Replies"),a.Ob(),a.Ob(),a.Ob()}if(2&e){const e=a.bc();a.Bb(4),a.hc("src",e.report.userReporting.profilePicture,a.oc),a.Bb(2),a.tc(e.report.userReporting.username)}}function At(e,t){if(1&e){const e=a.Qb();a.Pb(0,"li"),a.Pb(1,"span",3),a.sc(2,"Reported:"),a.Ob(),a.Pb(3,"div"),a.Nb(4,"img",5),a.Pb(5,"span",6),a.sc(6),a.Ob(),a.Nb(7,"br"),a.Pb(8,"button",7),a.Xb("click",(function(){a.mc(e);const t=a.bc();return t.posts(t.report.userReported._id)})),a.sc(9,"Posts"),a.Ob(),a.Pb(10,"button",7),a.Xb("click",(function(){a.mc(e);const t=a.bc();return t.comments(t.report.userReported._id)})),a.sc(11,"Comments"),a.Ob(),a.Pb(12,"button",7),a.Xb("click",(function(){a.mc(e);const t=a.bc();return t.replies(t.report.userReported._id)})),a.sc(13,"Replies"),a.Ob(),a.Ob(),a.Ob()}if(2&e){const e=a.bc();a.Bb(4),a.hc("src",e.report.userReported.profilePicture,a.oc),a.Bb(2),a.tc(e.report.userReported.username)}}function Dt(e,t){1&e&&(a.Pb(0,"li"),a.Pb(1,"span",3),a.sc(2,"Chat Report"),a.Ob(),a.Nb(3,"div"),a.Ob())}let jt=(()=>{class e{constructor(e,t){this.adminService=e,this.router=t}review(){this.report.reviewed=!this.report.reviewed,this.adminService.updateReport({reviewed:this.report.reviewed},this.report._id).subscribe(e=>{})}ngOnInit(){}posts(e){this.router.navigate(["/admin/posts",e])}comments(e){this.router.navigate(["/admin/discussions",e])}replies(e){this.router.navigate(["/admin/replies",e])}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(h),a.Mb(i.f))},e.\u0275cmp=a.Gb({type:e,selectors:[["report-detail"]],inputs:{report:"report"},decls:12,vars:8,consts:[[1,"report"],[3,"click"],[4,"ngIf"],[1,"reporting"],[1,"reason"],["alt","",1,"user-image",3,"src"],[1,"username"],[1,"btn--info",3,"click"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"div",1),a.Xb("click",(function(){return t.review()})),a.Ob(),a.Pb(2,"ul"),a.rc(3,Gt,14,2,"li",2),a.rc(4,At,14,2,"li",2),a.rc(5,Dt,4,0,"li",2),a.Pb(6,"li"),a.Pb(7,"span",3),a.sc(8,"Reason:"),a.Ob(),a.Pb(9,"div"),a.Pb(10,"span",4),a.sc(11),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.Bb(1),a.Db("reviewed",t.report.reviewed)("not-reviewed",!t.report.reviewed),a.Bb(2),a.hc("ngIf",t.report.userReporting),a.Bb(1),a.hc("ngIf",t.report.userReported),a.Bb(1),a.hc("ngIf",t.report.chat),a.Bb(6),a.tc(t.report.reason))},directives:[r.j],styles:[".report[_ngcontent-%COMP%]{display:flex;border-radius:10px;background:#343a56;border:2px solid #22263c;color:#fff;margin-bottom:20px;position:relative}.reviewed[_ngcontent-%COMP%]{background:green}.not-reviewed[_ngcontent-%COMP%], .reviewed[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:10px;right:-2px;height:25px;width:60px;border-radius:3px 0 0 3px}.not-reviewed[_ngcontent-%COMP%]{background:#ff0}.reporting[_ngcontent-%COMP%]{display:inline-block;margin-bottom:10px;font-size:1.8rem;font-weight:600}.user-image[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%;-o-object-fit:cover;object-fit:cover}.username[_ngcontent-%COMP%]{font-size:1.6rem;display:inline-block;margin-left:4px;cursor:pointer}.username[_ngcontent-%COMP%]:hover{color:#a9a9a9}.reason[_ngcontent-%COMP%]{font-size:1.6rem;display:inline-block}ul[_ngcontent-%COMP%]{padding:16px;list-style:none}li[_ngcontent-%COMP%]{margin-bottom:10px}.line[_ngcontent-%COMP%]{height:5px;width:3px;background:#fff}.btn--info[_ngcontent-%COMP%]{background:#2c62f5;color:#fff;padding:.6rem 1.5rem;font-size:1.4rem;outline:none;border:none;border-radius:3px;font-weight:700;cursor:pointer;margin-right:5px;margin-top:10px}.btn--info[_ngcontent-%COMP%]:hover{background:#2a51bd}"]}),e})();function qt(e,t){if(1&e&&(a.Pb(0,"div"),a.Nb(1,"report-detail",2),a.Ob()),2&e){const e=t.$implicit;a.Bb(1),a.hc("report",e)}}let Lt=(()=>{class e{constructor(e,t){this.adminService=e,this.authService=t,this.loading=!1,this.loadingAccount=!1,this.loadingIP=!1}ngOnInit(){this.getReports()}getReports(){this.adminService.getReports().subscribe(e=>{this.reports=e},e=>{this.authService.errorMessage=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(h),a.Mb(l.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:4,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],[3,"report"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"h4"),a.sc(2,"REPORTS"),a.Ob(),a.rc(3,qt,2,1,"div",1),a.Ob()),2&e&&(a.Bb(3),a.hc("ngForOf",t.reports))},directives:[r.i,jt],styles:[".search[_ngcontent-%COMP%]{width:100%;position:relative}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.searchTerm[_ngcontent-%COMP%]{float:left;width:100%;border:3px solid #00b4cc;padding:5px;height:35px;border-radius:5px;font-size:1.5rem;outline:none;color:#9dbfaf}.searchTerm[_ngcontent-%COMP%]:focus{color:#00b4cc}.searchButton[_ngcontent-%COMP%]{position:absolute;right:-50px;width:40px;height:36px;border:1px solid #00b4cc;background:#00b4cc;text-align:center;color:#fff;border-radius:5px;cursor:pointer;font-size:20px}.wrap[_ngcontent-%COMP%]{width:30%;margin:40px 0;height:35px}h4[_ngcontent-%COMP%]{border-bottom:2px solid #000;display:inline-block;padding-bottom:5px;font-size:1.8rem}.container[_ngcontent-%COMP%]{width:70%;margin:0 auto;padding-top:50px}"]}),e})();var Et=n("fQFj");function Rt(e,t){1&e&&a.Nb(0,"img",14)}function Xt(e,t){1&e&&a.Nb(0,"img",15)}function zt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",12),a.Xb("click",(function(){a.mc(e);const t=a.bc().$implicit;return a.bc().edit(t)})),a.sc(1,"EDIT"),a.Ob()}}const Ut=function(e){return["/threads",e]};function Ht(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",2),a.Pb(1,"div",3),a.Pb(2,"div",4),a.Pb(3,"div",5),a.Pb(4,"span",6),a.sc(5),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(6,"div",7),a.rc(7,Rt,1,0,"img",8),a.rc(8,Xt,1,0,"img",9),a.Pb(9,"p",10),a.sc(10),a.Ob(),a.Nb(11,"br"),a.Pb(12,"p",11),a.sc(13),a.Ob(),a.Nb(14,"br"),a.Pb(15,"p",11),a.sc(16),a.Ob(),a.Ob(),a.Pb(17,"div"),a.Pb(18,"button",12),a.Xb("click",(function(n){a.mc(e);const i=t.$implicit;return a.bc().deletePost(n,i)})),a.sc(19,"DELETE"),a.Ob(),a.rc(20,zt,2,0,"button",13),a.Ob(),a.Ob()}if(2&e){const e=t.$implicit;a.Bb(5),a.vc(" ",e.threadCreated," ",e.typeTime," ago "),a.Bb(2),a.hc("ngIf","Link"==e.type),a.Bb(1),a.hc("ngIf","Poll"==e.type),a.Bb(1),a.hc("routerLink",a.jc(9,Ut,e._id)),a.Bb(1),a.tc(null==e?null:e.title),a.Bb(3),a.tc(null==e?null:e._id),a.Bb(3),a.tc(null==e?null:e.picture),a.Bb(4),a.hc("ngIf",e.fromWeb)}}let Qt=(()=>{class e{constructor(e,t,n,i,o,r){this.threadsService=e,this.route=t,this.platformId=n,this.adminService=i,this.authService=o,this.router=r,this.skip=0}ngOnInit(){this.threads=this.route.snapshot.data.threads}edit(e){this.threadsService.threadToEdit=e,this.router.navigateByUrl("/create")}deletePost(e,t){e.stopPropagation(),Object(r.o)(this.platformId)&&window.confirm("Do you really want to delete this thread?")&&this.threadsService.deleteThread({tId:t._id,userId:t.user}).subscribe(e=>{e?this.threads=this.threads.filter(e=>e._id!=t._id):(this.authService.errorMessage="Failed to delete thread",setTimeout(()=>{this.authService.errorMessage=null},5e3))},e=>{this.authService.errorMessage=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(Et.a),a.Mb(i.a),a.Mb(a.B),a.Mb(h),a.Mb(l.a),a.Mb(i.f))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:4,vars:1,consts:[[1,"container"],["class","post",4,"ngFor","ngForOf"],[1,"post"],[1,"user-info"],[1,"user-info__text-container"],[1,"user-info__created-container"],[1,"user-info__created"],[1,"post__content"],["class","link","src","/assets/imgs/link.png","aria-hidden","true","alt","Poll",4,"ngIf"],["class","poll","src","/assets/imgs/poll.png","aria-hidden","true","alt","Link",4,"ngIf"],[1,"post__title",3,"routerLink"],[1,"post__title"],[1,"delete",3,"click"],["class","delete",3,"click",4,"ngIf"],["src","/assets/imgs/link.png","aria-hidden","true","alt","Poll",1,"link"],["src","/assets/imgs/poll.png","aria-hidden","true","alt","Link",1,"poll"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"h4"),a.sc(2,"POSTS"),a.Ob(),a.rc(3,Ht,21,11,"div",1),a.Ob()),2&e&&(a.Bb(3),a.hc("ngForOf",t.threads))},directives:[r.i,r.j,i.g],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.post[_ngcontent-%COMP%]{border-bottom:2px solid #f1f2f3;padding:1rem;cursor:pointer}.post__content[_ngcontent-%COMP%]{font-size:1.6rem;color:#252525;font-weight:700;margin:1.5rem 0 0}.new-container[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;height:6.4rem;border-bottom:2px solid #f1f2f3;width:100%}.heading-secondary[_ngcontent-%COMP%]{font-size:1.6rem}.user-info[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;font-size:1.4rem}.user-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:1rem}.user-info__picture[_ngcontent-%COMP%]{height:4rem;width:4rem;-o-object-fit:cover;object-fit:cover;border-radius:50px}.user-info__level[_ngcontent-%COMP%]{height:2rem;width:2rem;-o-object-fit:contain;object-fit:contain;margin-left:5px}.user-info__text-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-info__username-container[_ngcontent-%COMP%]{display:flex;align-items:center}.user-info__username[_ngcontent-%COMP%]{color:#272c35;font-weight:600}.user-info__created[_ngcontent-%COMP%]{color:#657786}.post__title[_ngcontent-%COMP%]{display:inline-block}.link[_ngcontent-%COMP%], .poll[_ngcontent-%COMP%]{width:15px;margin-right:2px;margin-bottom:2px}.delete[_ngcontent-%COMP%]{background:red;color:#fff;padding:.6rem 1.5rem;font-size:1.4rem;outline:none;border:none;border-radius:3px;font-weight:700;cursor:pointer;margin-right:5px;margin-top:10px}.delete[_ngcontent-%COMP%]:hover{background:#8e0000}"]}),e})(),$t=(()=>{class e{constructor(e,t){this.http=e,this.authService=t,this.baseUrl="https://www.discussthegame.com/api/discussions"}deletePost(e){let t=new m.d;return t=t.append("Content-Type","application/json"),t=t.append("Authorization",this.authService.token),this.http.post(this.baseUrl+"/i/delete-post",e,{headers:t}).pipe(Object(c.a)(e=>e.succeded),Object(b.a)(this.handleError))}getDiscussions(e,t,n){let i;return i=n||!1!==n&&null,this.http.get(this.baseUrl+"/"+e+"?skip="+t+"&type="+i+"&userId="+(this.authService.currentUser?this.authService.currentUser._id:null)).pipe(Object(b.a)(this.handleError))}getInGameDiscussions(e){return this.http.get(this.baseUrl+"/ingame/"+e+"?userId="+(this.authService.currentUser?this.authService.currentUser._id:null)).pipe(Object(b.a)(this.handleError))}postDiscussion(e,t){let n=new m.d;return n=n.append("Content-Type","application/json"),n=n.append("Authorization",this.authService.token),this.http.post(this.baseUrl+"/"+t,e,{headers:n}).pipe(Object(b.a)(this.handleError))}getAnswers(e){return this.http.get(this.baseUrl+"/"+e+"/answers").pipe(Object(b.a)(this.handleError))}postAnswer(e,t,n,i,o){let r=new m.d;return r=r.append("Content-Type","application/json"),r=r.append("Authorization",this.authService.token),o&&(e.aId=o),e.replyText=i,this.http.post(this.baseUrl+"/"+n+"/answers",e,{headers:r}).pipe(Object(b.a)(this.handleError))}handleError(e){console.error("server error:",e);let t="";return t=e instanceof m.c?"Oops! Something went wrong":`Error Code: ${e.status}\nMessage: ${e.message}`,Object(u.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(m.a),a.Tb(l.a))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Wt=n("IXe5");function Yt(e,t){if(1&e&&(a.Pb(0,"span",8),a.sc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.Bb(1),a.vc("",null==e||null==e.thread?null:e.thread.title," - ",null==e||null==e.thread?null:e.thread.user.username," ")}}function Jt(e,t){if(1&e&&(a.Pb(0,"span",8),a.sc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.Bb(1),a.vc("",null==e||null==e.game||null==e.game.awayTeam?null:e.game.awayTeam.teamName," @ ",null==e||null==e.game||null==e.game.homeTeam?null:e.game.homeTeam.teamName,"")}}function Kt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"button",12),a.Xb("click",(function(t){a.mc(e);const n=a.bc().$implicit;return a.bc().deleteComment(t,n)})),a.sc(2,"DELETE"),a.Ob(),a.Ob()}}function Vt(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"button",12),a.Xb("click",(function(t){a.mc(e);const n=a.bc().$implicit;return a.bc().deleteGameComment(t,n)})),a.sc(2,"DELETE"),a.Ob(),a.Ob()}}function Zt(e,t){if(1&e&&(a.Pb(0,"div",2),a.Pb(1,"div",3),a.Pb(2,"div",4),a.Pb(3,"div",5),a.Pb(4,"div",6),a.Pb(5,"div",7),a.Pb(6,"span",8),a.sc(7),a.Ob(),a.Nb(8,"br"),a.rc(9,Yt,2,2,"span",9),a.rc(10,Jt,2,2,"span",9),a.Ob(),a.Pb(11,"p",10),a.sc(12),a.Ob(),a.Ob(),a.rc(13,Kt,3,0,"div",11),a.rc(14,Vt,3,0,"div",11),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e){const e=t.$implicit;a.Bb(7),a.vc("",e.threadCreated," ",e.typeTime," ago "),a.Bb(2),a.hc("ngIf",e.thread),a.Bb(1),a.hc("ngIf",e.game),a.Bb(2),a.tc(null==e?null:e.discussion),a.Bb(1),a.hc("ngIf",e.thread),a.Bb(1),a.hc("ngIf",e.game)}}let en=(()=>{class e{constructor(e,t,n,i,o,r){this.platformId=e,this.discussionService=t,this.authService=n,this.threadDiscussionService=i,this.route=o,this.adminService=r,this.skip=0,this.expandInput=!1}ngOnInit(){this.discussions=this.route.snapshot.data.discussions}deleteComment(e,t){e.stopPropagation(),Object(r.o)(this.platformId)&&window.confirm("Do you really want to delete this comment?")&&this.threadDiscussionService.deletePost({dId:t._id,userId:t.user,tId:t.thread._id}).subscribe(e=>{e?this.discussions=this.discussions.filter(e=>e._id!=t._id):(this.authService.errorMessage="Failed to delete comment",setTimeout(()=>{this.authService.errorMessage=null},5e3))},e=>{this.authService.errorMessage=e})}deleteGameComment(e,t){e.stopPropagation(),Object(r.o)(this.platformId)&&window.confirm("Do you really want to delete this comment?")&&this.discussionService.deletePost({dId:t._id,gId:t.game._id,userId:t.user}).subscribe(e=>{e?this.discussions=this.discussions.filter(e=>e._id!=t._id):(this.authService.errorMessage="Failed to delete comment",setTimeout(()=>{this.authService.errorMessage=null},5e3))},e=>{this.authService.errorMessage=e})}toggleResponse(){this.expandInput=!0}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(a.B),a.Mb($t),a.Mb(l.a),a.Mb(Wt.a),a.Mb(i.a),a.Mb(h))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:4,vars:1,consts:[[1,"container"],["class","timeline",4,"ngFor","ngForOf"],[1,"timeline"],[1,"user-content"],[1,"content"],[1,"user-text"],[1,"info"],[1,"user-info","mb-1"],[1,"lighter","ago"],["class","lighter ago",4,"ngIf"],[1,"opinion"],[4,"ngIf"],[1,"delete",3,"click"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"h4"),a.sc(2,"Discussions"),a.Ob(),a.rc(3,Zt,15,7,"div",1),a.Ob()),2&e&&(a.Bb(3),a.hc("ngForOf",t.discussions))},directives:[r.i,r.j],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column}*[_ngcontent-%COMP%]{font-size:1.5rem}.alert[_ngcontent-%COMP%]{margin-bottom:0}img.user-pic[_ngcontent-%COMP%]{height:45px;width:45px;margin-top:2px;-o-object-fit:cover;object-fit:cover}.timeline[_ngcontent-%COMP%]{background:#fff}.username[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600}.level[_ngcontent-%COMP%]{height:20px;width:20px;margin-top:-2px;-o-object-fit:contain;object-fit:contain}.user-info[_ngcontent-%COMP%]{padding-right:30px}.user-content[_ngcontent-%COMP%]{border-bottom:2px solid #edf1f4;padding:15px}.content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}p[_ngcontent-%COMP%]{margin-bottom:8px}.user-text[_ngcontent-%COMP%]{width:100%;position:relative}.answers-anchor[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;font-weight:700;font-size:1.4rem;margin-top:1rem}.lighter[_ngcontent-%COMP%]{color:#6d7c8a}.likes[_ngcontent-%COMP%]{display:inline-block}.respond[_ngcontent-%COMP%]{margin-right:11px;font-size:1.3rem;cursor:pointer;color:#5b6772}.respond-disabled[_ngcontent-%COMP%]{color:rgba(91,103,114,.6);margin-right:13px;font-size:1.3rem;cursor:default}.fa-spinner[_ngcontent-%COMP%]{margin-left:10px;color:#6d7c8a}i.delete[_ngcontent-%COMP%]{position:absolute;top:0;right:0;color:#667785;font-size:1.2rem;cursor:pointer}.opinion[_ngcontent-%COMP%]{white-space:pre-wrap}.ago[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{font-size:1.4rem}.delete[_ngcontent-%COMP%]{background:red;color:#fff;padding:.6rem 1.5rem;outline:none;border:none;border-radius:3px;font-weight:700;cursor:pointer;margin-right:5px;margin-top:10px}.delete[_ngcontent-%COMP%]:hover{background:#8e0000}"]}),e})();function tn(e,t){if(1&e&&(a.Pb(0,"span",8),a.sc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.Bb(1),a.vc("",null==e||null==e.thread?null:e.thread.title," -- ",null==e||null==e.thread?null:e.thread.user.username,"")}}function nn(e,t){if(1&e&&(a.Pb(0,"span",8),a.sc(1),a.Ob()),2&e){const e=a.bc().$implicit;a.Bb(1),a.vc("",null==e||null==e.game||null==e.game.awayTeam?null:e.game.awayTeam.teamName," @ ",null==e||null==e.game||null==e.game.homeTeam?null:e.game.homeTeam.teamName,"")}}function on(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"button",12),a.Xb("click",(function(t){a.mc(e);const n=a.bc().$implicit;return a.bc().deleteComment(t,n)})),a.sc(2,"DELETE"),a.Ob(),a.Ob()}}function rn(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div"),a.Pb(1,"button",12),a.Xb("click",(function(t){a.mc(e);const n=a.bc().$implicit;return a.bc().deleteGameComment(t,n)})),a.sc(2,"DELETE"),a.Ob(),a.Ob()}}function an(e,t){if(1&e&&(a.Pb(0,"div",2),a.Pb(1,"div",3),a.Pb(2,"div",4),a.Pb(3,"div",5),a.Pb(4,"div",6),a.Pb(5,"div",7),a.Pb(6,"span",8),a.sc(7),a.Ob(),a.Nb(8,"br"),a.rc(9,tn,2,2,"span",9),a.rc(10,nn,2,2,"span",9),a.Ob(),a.Pb(11,"p",10),a.sc(12),a.Ob(),a.Ob(),a.rc(13,on,3,0,"div",11),a.rc(14,rn,3,0,"div",11),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e){const e=t.$implicit;a.Bb(7),a.vc("",e.answers.threadCreated," ",null==e||null==e.answers?null:e.answers.typeTime," ago "),a.Bb(2),a.hc("ngIf",e.thread),a.Bb(1),a.hc("ngIf",e.game),a.Bb(2),a.tc(null==e||null==e.answers?null:e.answers.discussion),a.Bb(1),a.hc("ngIf",e.thread),a.Bb(1),a.hc("ngIf",e.game)}}let sn=(()=>{class e{constructor(e,t,n,i,o,r){this.platformId=e,this.authService=t,this.discussionService=n,this.threadDiscussionService=i,this.route=o,this.adminService=r,this.skip=0,this.expandInput=!1}ngOnInit(){this.discussions=this.route.snapshot.data.discussions}deleteComment(e,t){e.stopPropagation(),Object(r.o)(this.platformId)&&window.confirm("Do you really want to delete this comment?")&&this.threadDiscussionService.deletePost({dId:t._id,aId:t.answers._id,tId:t.thread._id,userId:t.answers.user}).subscribe(e=>{e?this.discussions=this.discussions.filter(e=>e.answers._id!==t.answers._id):(this.authService.errorMessage="Failed to delete comment",setTimeout(()=>{this.authService.errorMessage=null},5e3))},e=>{this.authService.errorMessage=e})}deleteGameComment(e,t){e.stopPropagation(),Object(r.o)(this.platformId)&&window.confirm("Do you really want to delete this comment?")&&this.discussionService.deletePost({dId:t._id,aId:t.answers._id,gId:t.game._id,userId:t.answers.user}).subscribe(e=>{e?this.discussions=this.discussions.filter(e=>e.answers._id!==t.answers._id):(this.authService.errorMessage="Failed to delete comment",setTimeout(()=>{this.authService.errorMessage=null},5e3))},e=>{this.authService.errorMessage=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(a.B),a.Mb(l.a),a.Mb($t),a.Mb(Wt.a),a.Mb(i.a),a.Mb(h))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:4,vars:1,consts:[[1,"container"],["class","timeline",4,"ngFor","ngForOf"],[1,"timeline"],[1,"user-content"],[1,"content"],[1,"user-text"],[1,"info"],[1,"user-info","mb-1"],[1,"lighter","ago"],["class","lighter ago",4,"ngIf"],[1,"opinion"],[4,"ngIf"],[1,"delete",3,"click"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"h4"),a.sc(2,"Discussions"),a.Ob(),a.rc(3,an,15,7,"div",1),a.Ob()),2&e&&(a.Bb(3),a.hc("ngForOf",t.discussions))},directives:[r.i,r.j],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column}*[_ngcontent-%COMP%]{font-size:1.5rem}.alert[_ngcontent-%COMP%]{margin-bottom:0}img.user-pic[_ngcontent-%COMP%]{height:45px;width:45px;margin-top:2px;-o-object-fit:cover;object-fit:cover}.timeline[_ngcontent-%COMP%]{background:#fff}.username[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600}.level[_ngcontent-%COMP%]{height:20px;width:20px;margin-top:-2px;-o-object-fit:contain;object-fit:contain}.user-info[_ngcontent-%COMP%]{padding-right:30px}.user-content[_ngcontent-%COMP%]{border-bottom:2px solid #edf1f4;padding:15px}.content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}p[_ngcontent-%COMP%]{margin-bottom:8px}.user-text[_ngcontent-%COMP%]{width:100%;position:relative}.answers-anchor[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;font-weight:700;font-size:1.4rem;margin-top:1rem}.lighter[_ngcontent-%COMP%]{color:#6d7c8a}.likes[_ngcontent-%COMP%]{display:inline-block}.respond[_ngcontent-%COMP%]{margin-right:11px;font-size:1.3rem;cursor:pointer;color:#5b6772}.respond-disabled[_ngcontent-%COMP%]{color:rgba(91,103,114,.6);margin-right:13px;font-size:1.3rem;cursor:default}.fa-spinner[_ngcontent-%COMP%]{margin-left:10px;color:#6d7c8a}i.delete[_ngcontent-%COMP%]{position:absolute;top:0;right:0;color:#667785;font-size:1.2rem;cursor:pointer}.opinion[_ngcontent-%COMP%]{white-space:pre-wrap}.ago[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{font-size:1.4rem}.delete[_ngcontent-%COMP%]{background:red;color:#fff;padding:.6rem 1.5rem;outline:none;border:none;border-radius:3px;font-weight:700;cursor:pointer;margin-right:5px;margin-top:10px}.delete[_ngcontent-%COMP%]:hover{background:#8e0000}"]}),e})(),cn=(()=>{class e{constructor(e,t){this.adminService=e,this.router=t}resolve(e,t){return this.adminService.getUserDiscussions(e.params.id,0).pipe(Object(c.a)(e=>e?(e.forEach(e=>{e.date=new Date(e.date),this.created(e)}),e):null),Object(b.a)(e=>(this.router.navigateByUrl("/"),Object(s.a)(null))))}created(e){let t=e.date.getTime(),n=((new Date).getTime()-t)/36e5;if(n>=24){let t=864e5;e.threadCreated=Math.floor(n/24),e.typeTime=1==e.threadCreated?"day":"days";let i=()=>{e.threadCreated+=1,setTimeout(i,t)};setTimeout(i,t)}else if(n<1&&n>0){let t=6e4;e.threadCreated=Math.ceil(60*n),e.typeTime=1==e.threadCreated?"minute":"minutes";let i=()=>{if(e.threadCreated+=1,60==e.threadCreated)return this.created(e);setTimeout(i,t)};setTimeout(i,t)}else{let t=36e5;e.threadCreated=Math.floor(n),e.typeTime=1==e.threadCreated?"hour":"hours";let i=()=>{if(e.threadCreated+=1,24==e.threadCreated)return this.created(e);setTimeout(i,t)};setTimeout(i,t)}}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(h),a.Tb(i.f))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const bn=[{path:"teams",canActivate:[d],component:q},{path:"games",canActivate:[d],component:qe},{path:"badges",canActivate:[d],component:tt},{path:"trivias",canActivate:[d],component:xt},{path:"users",canActivate:[d],component:Ft},{path:"reports",canActivate:[d],component:Lt},{path:"posts/:id",canActivate:[d],resolve:{threads:(()=>{class e{constructor(e,t){this.adminService=e,this.router=t}resolve(e,t){return this.adminService.getUserPosts(e.params.id,0).pipe(Object(c.a)(e=>e?(e.forEach(e=>{e.date=new Date(e.date),e.new=!1,this.created(e)}),e):null),Object(b.a)(e=>(this.router.navigateByUrl("/"),Object(s.a)(null))))}created(e){let t=e.date.getTime(),n=((new Date).getTime()-t)/36e5;if(n>=24){let t=864e5;e.threadCreated=Math.floor(n/24),e.typeTime=1==e.threadCreated?"day":"days";let i=()=>{e.threadCreated+=1,setTimeout(i,t)};setTimeout(i,t)}else if(n<1&&n>0){let t=6e4;e.threadCreated=Math.ceil(60*n),e.typeTime=1==e.threadCreated?"minute":"minutes";let i=()=>{if(e.threadCreated+=1,60==e.threadCreated)return this.created(e);setTimeout(i,t)};setTimeout(i,t)}else{let t=36e5;e.threadCreated=Math.floor(n),e.typeTime=1==e.threadCreated?"hour":"hours";let i=()=>{if(e.threadCreated+=1,24==e.threadCreated)return this.created(e);setTimeout(i,t)};setTimeout(i,t)}}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(h),a.Tb(i.f))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},component:Qt},{path:"discussions/:id",canActivate:[d],resolve:{discussions:cn},component:en},{path:"replies/:id",canActivate:[d],resolve:{discussions:(()=>{class e{constructor(e,t){this.adminService=e,this.router=t}resolve(e,t){return this.adminService.getUserReplies(e.params.id,0).pipe(Object(c.a)(e=>e?(e.forEach(e=>{e.answers.date=new Date(e.answers.date),this.created(e.answers)}),e):null),Object(b.a)(e=>(this.router.navigateByUrl("/"),Object(s.a)(null))))}created(e){let t=e.date.getTime(),n=((new Date).getTime()-t)/36e5;if(n>=24){let t=864e5;e.threadCreated=Math.floor(n/24),e.typeTime=1==e.threadCreated?"day":"days";let i=()=>{e.threadCreated+=1,setTimeout(i,t)};setTimeout(i,t)}else if(n<1&&n>0){let t=6e4;e.threadCreated=Math.ceil(60*n),e.typeTime=1==e.threadCreated?"minute":"minutes";let i=()=>{if(e.threadCreated+=1,60==e.threadCreated)return this.created(e);setTimeout(i,t)};setTimeout(i,t)}else{let t=36e5;e.threadCreated=Math.floor(n),e.typeTime=1==e.threadCreated?"hour":"hours";let i=()=>{if(e.threadCreated+=1,24==e.threadCreated)return this.created(e);setTimeout(i,t)};setTimeout(i,t)}}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(h),a.Tb(i.f))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},component:sn}];let ln=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[i.j.forChild(bn)],i.j]}),e})(),dn=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[o.g,o.o,r.b,i.j,ln]]}),e})()}}]);