function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,a=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{uIdp:function(e,t,n){"use strict";n.r(t),n.d(t,"TimelineDetailModule",(function(){return F}));var i=n("ofXK"),r=n("tyNb"),a=n("fXoL"),o=n("8PDw"),s=n("q/xC"),c=n("RDU2"),l=n("ElG+"),b=n("pYYS"),u=n("PFy0"),d=n("cWq/"),f=n("KjWj"),h=["back"];function m(e,t){if(1&e){var n=a.Qb();a.Pb(0,"a"),a.Pb(1,"div",8),a.Xb("click",(function(){return a.mc(n),a.bc().goToPost()})),a.Pb(2,"div",9),a.Pb(3,"span",10),a.sc(4,"POST"),a.Ob(),a.Pb(5,"span",11),a.sc(6),a.Ob(),a.Pb(7,"span",12),a.sc(8),a.Ob(),a.Ob(),a.Pb(9,"div",13),a.Pb(10,"div",14),a.Pb(11,"div",15),a.Pb(12,"button",16),a.ac(),a.Pb(13,"svg",17),a.Pb(14,"g",18),a.Pb(15,"g",19),a.Nb(16,"polygon",20),a.Nb(17,"path",21),a.Ob(),a.Ob(),a.Ob(),a.Zb(),a.Pb(18,"span",22),a.sc(19),a.Ob(),a.Ob(),a.Ob(),a.Pb(20,"div",23),a.Pb(21,"button",16),a.ac(),a.Pb(22,"svg",24),a.Pb(23,"title"),a.sc(24,"comment"),a.Ob(),a.Pb(25,"desc"),a.sc(26,"Created with Sketch."),a.Ob(),a.Pb(27,"g",18),a.Pb(28,"g",25),a.Nb(29,"rect",26),a.Nb(30,"path",27),a.Ob(),a.Ob(),a.Ob(),a.Zb(),a.Pb(31,"span",22),a.sc(32),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()}if(2&e){var i=a.bc();a.Bb(6),a.tc(null==i.thread?null:i.thread.title),a.Bb(2),a.uc("By ",null==i.thread||null==i.thread.user?null:i.thread.user.username,""),a.Bb(11),a.tc(null==i.thread?null:i.thread.likers.length),a.Bb(13),a.tc(null==i.thread?null:i.thread.replies)}}function p(e,t){if(1&e){var n=a.Qb();a.Pb(0,"a"),a.Pb(1,"div",8),a.Xb("click",(function(){return a.mc(n),a.bc().goToDiscussion()})),a.Pb(2,"div",9),a.Pb(3,"span",10),a.sc(4,"DISCUSSION"),a.Ob(),a.Pb(5,"span",11),a.sc(6),a.Ob(),a.Pb(7,"span",12),a.sc(8),a.Ob(),a.Ob(),a.Pb(9,"div",13),a.Pb(10,"div",14),a.Pb(11,"div",15),a.Pb(12,"button",16),a.ac(),a.Pb(13,"svg",17),a.Pb(14,"g",18),a.Pb(15,"g",19),a.Nb(16,"polygon",20),a.Nb(17,"path",21),a.Ob(),a.Ob(),a.Ob(),a.Zb(),a.Pb(18,"span",22),a.sc(19),a.Ob(),a.Ob(),a.Ob(),a.Pb(20,"div",23),a.Pb(21,"button",16),a.ac(),a.Pb(22,"svg",24),a.Pb(23,"title"),a.sc(24,"comment"),a.Ob(),a.Pb(25,"desc"),a.sc(26,"Created with Sketch."),a.Ob(),a.Pb(27,"g",18),a.Pb(28,"g",25),a.Nb(29,"rect",26),a.Nb(30,"path",27),a.Ob(),a.Ob(),a.Ob(),a.Zb(),a.Pb(31,"span",22),a.sc(32),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()}if(2&e){var i=a.bc();a.Bb(6),a.tc(i.take.take),a.Bb(2),a.uc("By ",null==i.take||null==i.take.user?null:i.take.user.username,""),a.Bb(11),a.tc(null==i.take?null:i.take.likers.length),a.Bb(13),a.tc(null==i.take?null:i.take.replies)}}function g(e,t){if(1&e&&(a.Pb(0,"a"),a.Pb(1,"div",28),a.Pb(2,"div",9),a.Pb(3,"span",10),a.sc(4,"Trivia"),a.Ob(),a.Pb(5,"span",11),a.sc(6),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e){var n=a.bc();a.Bb(6),a.tc(n.trivia.question)}}function v(e,t){if(1&e){var n=a.Qb();a.Pb(0,"div",29),a.Pb(1,"app-timeline-item",30),a.Xb("deleteComment",(function(e){return a.mc(n),a.bc().deleteComment(e)})),a.Ob(),a.Ob()}if(2&e){var i=a.bc();a.Bb(1),a.hc("timeline",i.timeline)("thread",i.thread)("hideReplies",!0)}}function w(e,t){if(1&e){var n=a.Qb();a.Pb(0,"div",29),a.Pb(1,"app-take-timeline-item",31),a.Xb("deleteComment",(function(e){return a.mc(n),a.bc().deleteComment(e)})),a.Ob(),a.Ob()}if(2&e){var i=a.bc();a.Bb(1),a.hc("timeline",i.timeline)("take",i.take)("hideReplies",!0)}}function k(e,t){if(1&e){var n=a.Qb();a.Pb(0,"div",29),a.Pb(1,"app-play-trivia-timeline-item",32),a.Xb("deleteComment",(function(e){return a.mc(n),a.bc().deleteComment(e)})),a.Ob(),a.Ob()}if(2&e){var i=a.bc();a.Bb(1),a.hc("timeline",i.timeline)("trivia",i.trivia)("hideReplies",!0)}}function O(e,t){if(1&e){var n=a.Qb();a.Pb(0,"app-answer-item",36),a.Xb("filterAnswer",(function(e){return a.mc(n),a.bc(2).filterAnswers(e)}))("addAnswer",(function(e){return a.mc(n),a.bc(2).addAnswer(e)}))("imageVisible",(function(){return a.mc(n),a.bc(2).emitterImages()})),a.Ob()}if(2&e){var i=t.$implicit,r=a.bc(2);a.hc("answer",i)("timeline",r.timeline)("thread",r.thread)}}function P(e,t){if(1&e&&(a.Pb(0,"div",33),a.Pb(1,"span",34),a.sc(2,"Replies"),a.Ob(),a.rc(3,O,1,3,"app-answer-item",35),a.Ob()),2&e){var n=a.bc();a.Bb(3),a.hc("ngForOf",n.answers)}}function y(e,t){if(1&e){var n=a.Qb();a.Pb(0,"app-take-answer-item",38),a.Xb("filterAnswer",(function(e){return a.mc(n),a.bc(2).filterAnswers(e)}))("addAnswer",(function(e){return a.mc(n),a.bc(2).addAnswer(e)}))("imageVisible",(function(){return a.mc(n),a.bc(2).emitterImages()})),a.Ob()}if(2&e){var i=t.$implicit,r=a.bc(2);a.hc("answer",i)("timeline",r.timeline)("take",r.take)}}function C(e,t){if(1&e&&(a.Pb(0,"div",33),a.Pb(1,"span",34),a.sc(2,"Replies"),a.Ob(),a.rc(3,y,1,3,"app-take-answer-item",37),a.Ob()),2&e){var n=a.bc();a.Bb(3),a.hc("ngForOf",n.answers)}}function _(e,t){if(1&e){var n=a.Qb();a.Pb(0,"app-play-trivia-answer-item",40),a.Xb("filterAnswer",(function(e){return a.mc(n),a.bc(2).filterAnswers(e)}))("addAnswer",(function(e){return a.mc(n),a.bc(2).addAnswer(e)}))("imageVisible",(function(){return a.mc(n),a.bc(2).emitterImages()})),a.Ob()}if(2&e){var i=t.$implicit,r=a.bc(2);a.hc("answer",i)("timeline",r.timeline)("trivia",r.trivia)}}function x(e,t){if(1&e&&(a.Pb(0,"div",33),a.Pb(1,"span",34),a.sc(2,"Replies"),a.Ob(),a.rc(3,_,1,3,"app-play-trivia-answer-item",39),a.Ob()),2&e){var n=a.bc();a.Bb(3),a.hc("ngForOf",n.answers)}}var A,I,M,B,S=((A=function(){function e(t,n,i,r,a,o,s){_classCallCheck(this,e),this.route=t,this.authService=n,this.location=i,this.el=r,this.platformId=a,this.router=o,this.likesService=s,this.answers=[],this.sticky=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.data.subscribe((function(t){t.data.error?(e.authService.errorMessage="Not found",Object(i.o)(e.platformId)&&setTimeout((function(){e.authService.errorMessage=null}),5e3)):e.configureComment(t.data.comment)}))}},{key:"deleteComment",value:function(e){this.thread=null,this.take=null,this.trivia=null,this.timeline=null,this.router.navigateByUrl("/home")}},{key:"scrollToItem",value:function(e){var t=this;if(Object(i.o)(this.platformId)){var n=document.getElementById(e).getBoundingClientRect().top-110;window.scrollTo(0,n),setTimeout((function(){t.authService.scrollTo=void 0}),3e3)}}},{key:"checkSticky",value:function(){Object(i.o)(this.platformId)&&(window.pageYOffset>this.offsetTopBack?this.sticky||(this.sticky=!0):this.sticky&&(this.sticky=!1))}},{key:"goBack",value:function(){this.location.back()}},{key:"onWindowScroll",value:function(){this.checkSticky()}},{key:"goToDiscussion",value:function(){this.router.navigate(["/discussions",this.take._id])}},{key:"goToPost",value:function(){this.router.navigate(["/posts",this.thread._id])}},{key:"filterAnswers",value:function(e){this.answers=this.answers.filter((function(t){return t._id!==e})),this.timeline.numberOfAnswers-=1,this.router.navigateByUrl("/home")}},{key:"addAnswer",value:function(e){}},{key:"emitterImages",value:function(){var e=this;setTimeout((function(){e.showVisible(null)}),0)}},{key:"isVisible",value:function(e){if(Object(i.o)(this.platformId)){var t=e.getBoundingClientRect(),n=document.documentElement.clientHeight,r=t.bottom<n&&t.bottom>0;return t.top>0&&t.top<n||r}}},{key:"showVisible",value:function(e){var t=this;if(Object(i.o)(this.platformId)){var n,r=_createForOfIteratorHelper(this.el.nativeElement.querySelectorAll(".user-picture"));try{var a=function(){var i=n.value,r=i.dataset.src;r&&t.isVisible(i)&&(null!=e?e.domWrite((function(){i.src=r,i.dataset.src=""})):(i.src=r,i.dataset.src=""))};for(r.s();!(n=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}}}},{key:"configureComment",value:function(e){if(e.date=new Date(e.date),e.created=this.created(e),e.count=e.likers.length,e.likedByUser=this.userHasLiked(e),e.thread){e.thread.date=new Date(e.thread.date),e.thread.likedByUser=this.userHasLiked(e.thread),e.thread.count=e.thread.likers?e.thread.likers.length:0;var t=e.thread.title.substring(0,40);e.thread.titleToShow=t.length<e.thread.title.length?e.thread.title.substring(0,40)+"...":e.thread.title,this.thread=e.thread}else if(e.take){e.take.date=new Date(e.take.date),e.take.likedByUser=this.userHasLiked(e.take),e.take.count=e.take.likers?e.take.likers.length:0;var n=e.take.take.substring(0,40);e.take.titleToShow=n.length<e.take.take.length?e.take.take.substring(0,40)+"...":e.take.take,this.take=e.take}else this.trivia=e.trivia;e.numberOfAnswers=e.answers.length,this.timeline=e,this.configureAnswers(this.timeline.answers)}},{key:"configureAnswers",value:function(e){var t=this;e.forEach((function(e){e.date=new Date(e.date),e.created=t.created(e),e.count=e.likers.length,e.likedByUser=t.userHasLiked(e)})),this.answers=e,Object(i.o)(this.platformId)&&setTimeout((function(){t.authService.scrollTo&&t.scrollToItem(t.authService.scrollTo)}),500)}},{key:"userHasLiked",value:function(e){return!!this.authService.isLoggedIn()&&this.likesService.userHasLiked(e,this.authService.currentUser._id)}},{key:"created",value:function(e){var t,n=e.date.getTime(),i=((new Date).getTime()-n)/36e5;return i>=24?(t="d","".concat(Math.floor(i/24)).concat(t)):i<1&&i>0?(t="min","".concat(Math.ceil(60*i)).concat(t)):(t="h","".concat(Math.floor(i)).concat(t))}}]),e}()).\u0275fac=function(e){return new(e||A)(a.Mb(r.a),a.Mb(o.a),a.Mb(i.g),a.Mb(a.l),a.Mb(a.B),a.Mb(r.f),a.Mb(s.a))},A.\u0275cmp=a.Gb({type:A,selectors:[["app-timeline-detail"]],viewQuery:function(e,t){var n;1&e&&a.wc(h,!0),2&e&&a.kc(n=a.Yb())&&(t.backElement=n.first)},hostBindings:function(e,t){1&e&&a.Xb("scroll",(function(){return t.onWindowScroll()}),!1,a.lc)},decls:14,vars:9,consts:[[1,"main-container"],[1,"comment-container"],[1,"comment"],[1,"comment__post"],[4,"ngIf"],[1,"comment__replies"],["class","timeline-list",4,"ngIf"],["class","answers-list",4,"ngIf"],[1,"post",3,"click"],[1,"post__info"],[1,"type"],[1,"thread-title"],[1,"by"],[1,"post__actions"],[1,"thread-info-count"],[1,"thread-info-count__action--like"],[1,"thread-info__button"],["viewBox","0 0 88 81","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"thread-info-icon"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","heart-outline","transform","translate(-6.000000, -6.000000)"],["id","Rectangle-21","points","0 0 100 0 100 93 0 93"],["d","M69.8,6 C62.1,6 54.8404231,9.53151563 50,15.2700703 C45.1593654,9.53151563 37.9,6 30.2,6 C16.5595769,6 6,16.5934922 6,30.2778516 C6,47.0507578 20.9595769,60.5153203 43.6191538,81.2601797 L50,87 L56.3808462,81.2601797 C79.0402115,60.5151094 94,47.0505469 94,30.2778516 C94,16.5934922 83.4404231,6 69.8,6 Z M52.7153077,75.4526484 L51.8228269,76.2696094 L50,77.9092266 L48.1773846,76.2698203 L47.2859615,75.4537031 C36.6206154,65.6910937 27.4095962,57.2595 21.3204615,49.7205937 C15.4064808,42.3983203 12.7692308,36.402 12.7692308,30.2778516 C12.7692308,25.4547656 14.5508077,21.0111562 17.7858654,17.7658828 C21.0101346,14.5313672 25.4188077,12.75 30.2,12.75 C35.7283462,12.75 41.1936538,15.3164766 44.8194231,19.6149609 L50,25.7566172 L55.1803654,19.6149609 C58.8063462,15.3164766 64.2714423,12.75 69.8,12.75 C74.5814038,12.75 78.9898654,14.5313672 82.2143462,17.7656719 C85.4491923,21.0111562 87.2307692,25.4545547 87.2307692,30.2778516 C87.2307692,36.402 84.5935192,42.3981094 78.6799615,49.7201719 C72.5910385,57.2590781 63.3804423,65.6900391 52.7153077,75.4526484 Z","id","Shape","fill","#A2A4A6","fill-rule","nonzero"],[1,"thread-info__text"],[1,"thread-info-count__action--comments"],["viewBox","0 0 79 78","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"thread-info-icon"],["id","comment","transform","translate(-6.000000, -6.000000)"],["id","Rectangle-22","x","0","y","0","width","91","height","90"],["d","M8.517,83.161 C8.167,83.161 7.816,83.089 7.485,82.94 C6.581,82.534 6,81.634 6,80.643 L6,28.518 C6,16.102 16.102,6 28.518,6 L62.331,6 C74.747,6 84.849,16.102 84.849,28.518 L84.849,43.518 C84.849,55.934 74.747,66.036 62.331,66.036 L28.764,66.036 L10.189,82.526 C9.718,82.943 9.121,83.161 8.517,83.161 Z M29.0091478,12.036 C19.6491899,12.036 12.035,19.5369093 12.035,28.7554818 L12.035,73.2492727 L26.7351829,60.3954896 C27.2051227,59.9842451 27.8148793,59.7681026 28.4440549,59.789143 C28.5625108,59.7939249 28.6790248,59.801576 28.7965098,59.8092271 C28.8673891,59.8149654 28.9382685,59.82166 29.0101188,59.82166 L61.840851,59.82166 C71.2008089,59.82166 78.8149988,52.3207508 78.8149988,43.1021782 L78.8149988,28.7564382 C78.8149988,19.5369093 71.199838,12.0369564 61.840851,12.0369564 L29.0091478,12.0369564 L29.0091478,12.036 Z","id","Shape","fill","#A2A4A6","fill-rule","nonzero","transform","translate(45.424500, 44.580500) scale(-1, 1) translate(-45.424500, -44.580500) "],[1,"post"],[1,"timeline-list"],[3,"timeline","thread","hideReplies","deleteComment"],[3,"timeline","take","hideReplies","deleteComment"],[3,"timeline","trivia","hideReplies","deleteComment"],[1,"answers-list"],[1,"replies-header"],[3,"answer","timeline","thread","filterAnswer","addAnswer","imageVisible",4,"ngFor","ngForOf"],[3,"answer","timeline","thread","filterAnswer","addAnswer","imageVisible"],[3,"answer","timeline","take","filterAnswer","addAnswer","imageVisible",4,"ngFor","ngForOf"],[3,"answer","timeline","take","filterAnswer","addAnswer","imageVisible"],[3,"answer","timeline","trivia","filterAnswer","addAnswer","imageVisible",4,"ngFor","ngForOf"],[3,"answer","timeline","trivia","filterAnswer","addAnswer","imageVisible"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"div",1),a.Pb(2,"div",2),a.Pb(3,"section",3),a.rc(4,m,33,4,"a",4),a.rc(5,p,33,4,"a",4),a.rc(6,g,7,1,"a",4),a.Ob(),a.Pb(7,"section",5),a.rc(8,v,2,3,"div",6),a.rc(9,w,2,3,"div",6),a.rc(10,k,2,3,"div",6),a.rc(11,P,4,1,"div",7),a.rc(12,C,4,1,"div",7),a.rc(13,x,4,1,"div",7),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.Bb(4),a.hc("ngIf",t.thread),a.Bb(1),a.hc("ngIf",t.take),a.Bb(1),a.hc("ngIf",t.trivia),a.Bb(2),a.hc("ngIf",t.thread),a.Bb(1),a.hc("ngIf",t.take),a.Bb(1),a.hc("ngIf",t.trivia),a.Bb(1),a.hc("ngIf",t.thread&&t.answers.length),a.Bb(1),a.hc("ngIf",t.take&&t.answers.length),a.Bb(1),a.hc("ngIf",t.trivia&&t.answers.length))},directives:[i.j,c.a,l.a,b.a,i.i,u.a,d.a,f.a],styles:[".comment-container[_ngcontent-%COMP%]{max-width:800px;background:#fff;padding:20px 25px 0;margin:0 auto 30px}.type[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:15px}.post[_ngcontent-%COMP%]{min-height:80px;width:80%;margin:20px auto;border-radius:5px;border:1px solid rgba(0,0,0,.1);display:flex;align-items:center;justify-content:space-between;padding:20px;cursor:pointer}.post__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:1.5rem;margin-right:20px}.trivia-warning[_ngcontent-%COMP%]{padding:50px;text-align:center;font-size:2rem}button[_ngcontent-%COMP%]{background:none;color:inherit;border:none;padding:0;font:inherit;cursor:pointer;outline:inherit}.thread-info__text[_ngcontent-%COMP%]{font-size:1.3rem;color:#333}.thread-info-count__action--like[_ngcontent-%COMP%]{margin-right:10px}.thread-title[_ngcontent-%COMP%]{font-weight:700;white-space:pre-wrap}.by[_ngcontent-%COMP%]{font-size:1.4rem;color:#969696;margin-top:5px}.thread-info-count[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.thread-info-count[_ngcontent-%COMP%]   .thread-info__button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.thread-info-icon[_ngcontent-%COMP%]{height:18px!important;width:22px;padding:2px}.thread-info-icon[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#333;stroke:#333}.answers-list[_ngcontent-%COMP%]{padding-left:50px}.replies-header[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;display:inline-block;margin:10px 0}.sticky[_ngcontent-%COMP%]{position:fixed;top:55px;background:#fff;width:700px;z-index:100}.back-icon[_ngcontent-%COMP%]{font-size:30px;margin-right:20px;cursor:pointer}.go-back[_ngcontent-%COMP%]{height:30px;font-size:1.5rem;display:flex;align-items:center;justify-content:flex-start;padding:0 10px;border-bottom:1px solid #edeff1;margin-bottom:16px;height:50px}.league[_ngcontent-%COMP%]{font-weight:700}@media (max-width:800px){.post[_ngcontent-%COMP%]{width:100%;margin:0;flex-direction:column;justify-content:flex-start;align-items:flex-start}.post__actions[_ngcontent-%COMP%]{margin-top:10px!important}}"]}),A),T=n("LRne"),L=n("lJxs"),j=n("JIr8"),R=n("IXe5"),D=[{path:"",component:S,resolve:{data:(I=function(){function e(t,n,i,r){_classCallCheck(this,e),this.threadDiscussionService=t,this.authService=n,this.router=i,this.platformId=r}return _createClass(e,[{key:"resolve",value:function(e,t){var n=this;return this.threadDiscussionService.getDiscussion(e.params.id).pipe(Object(L.a)((function(e){return{comment:e}})),Object(j.a)((function(e){return n.authService.errorMessage="Not found",Object(i.o)(n.platformId)&&setTimeout((function(){n.authService.errorMessage=null}),5e3),n.router.navigateByUrl("/"),Object(T.a)({error:e})})))}}]),e}(),I.\u0275fac=function(e){return new(e||I)(a.Tb(R.a),a.Tb(o.a),a.Tb(r.f),a.Tb(a.B))},I.\u0275prov=a.Ib({token:I,factory:I.\u0275fac,providedIn:"root"}),I)}}],N=((M=function e(){_classCallCheck(this,e)}).\u0275mod=a.Kb({type:M}),M.\u0275inj=a.Jb({factory:function(e){return new(e||M)},imports:[[r.j.forChild(D)],r.j]}),M),V=n("PCNd"),F=((B=function e(){_classCallCheck(this,e)}).\u0275mod=a.Kb({type:B}),B.\u0275inj=a.Jb({factory:function(e){return new(e||B)},imports:[[i.b,V.a,N]]}),B)}}]);