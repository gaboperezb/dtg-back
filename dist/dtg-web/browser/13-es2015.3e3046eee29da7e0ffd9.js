(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{OOVB:function(t,e,n){"use strict";n.r(e),n.d(e,"TakeDetailModule",(function(){return Ot}));var i=n("ofXK"),o=n("tyNb"),c=n("fXoL"),s=n("Wuvc"),r=n("IXe5"),a=n("8PDw"),l=n("E21u"),g=n("Wdmj"),d=n("Flam"),h=n("jPUQ"),b=n("RW1x"),u=n("fwZU"),p=n("rZD5"),m=n("fQFj"),f=n("8M/d"),k=n("3Pt+"),_=n("ElG+"),P=n("dlKe");const O=["videoTake"],v=["back"];function C(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",61,62),c.Pb(2,"button",63),c.Xb("click",(function(){return c.mc(t),c.bc().goBack()})),c.ac(),c.Pb(3,"svg",64),c.Nb(4,"path",65),c.Nb(5,"path",66),c.Ob(),c.Ob(),c.Zb(),c.Pb(6,"span",67),c.sc(7,"Discussion"),c.Ob(),c.Ob()}}function x(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",68),c.Pb(1,"button",63),c.Xb("click",(function(){return c.mc(t),c.bc().goBack()})),c.ac(),c.Pb(2,"svg",64),c.Nb(3,"path",65),c.Nb(4,"path",66),c.Ob(),c.Ob(),c.Zb(),c.Pb(5,"span",67),c.sc(6,"Discussion"),c.Ob(),c.Ob()}}function M(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",71),c.Pb(1,"a",72),c.Xb("click",(function(n){c.mc(t);const i=e.$implicit;return c.bc(3).toggleVote(i,n)})),c.sc(2),c.Ob(),c.Ob()}if(2&t){const t=e.$implicit;c.Bb(2),c.tc(t)}}function w(t,e){if(1&t&&(c.Pb(0,"div"),c.rc(1,M,3,1,"div",70),c.Ob()),2&t){const t=c.bc(2);c.Bb(1),c.hc("ngForOf",t.options)}}function S(t,e){1&t&&(c.ac(),c.Pb(0,"svg",79),c.Nb(1,"path",80),c.Nb(2,"path",81),c.Ob())}function y(t,e){if(1&t&&(c.Pb(0,"div",74),c.Pb(1,"div",75),c.Pb(2,"span"),c.sc(3),c.Ob(),c.rc(4,S,3,0,"svg",76),c.Ob(),c.Pb(5,"span",77),c.sc(6),c.Ob(),c.Pb(7,"div",78),c.Nb(8,"div"),c.Ob(),c.Ob()),2&t){const t=e.$implicit,n=c.bc(3);c.Bb(3),c.tc(null==t?null:t.option),c.Bb(1),c.hc("ngIf",t.userInOption),c.Bb(2),c.uc("",null==t?null:t.flooredPercentage,"%"),c.Bb(1),c.qc("width",(null==t?null:t.flooredPercentage)+"%"),c.Bb(1),c.Db("no-effect",!n.pollEffect)("progress-inner",n.pollEffect)("user-in-option",t.userInOption)}}function I(t,e){if(1&t&&(c.Pb(0,"div"),c.rc(1,y,9,11,"div",73),c.Ob()),2&t){const t=c.bc(2);c.Bb(1),c.hc("ngForOf",t.take.optionsWithPercentage)}}function B(t,e){if(1&t&&(c.Pb(0,"div",69),c.rc(1,w,2,1,"div",43),c.rc(2,I,2,1,"div",43),c.Ob()),2&t){const t=c.bc();c.Bb(1),c.hc("ngIf",!t.take.voted&&!t.showResults),c.Bb(1),c.hc("ngIf",t.take.voted||t.showResults)}}function T(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",82),c.Xb("click",(function(e){return c.mc(t),c.bc().openLink(e)})),c.Nb(1,"img",83),c.Pb(2,"div",84),c.Pb(3,"span",85),c.sc(4),c.Ob(),c.Pb(5,"span",86),c.sc(6),c.Ob(),c.Ob(),c.Ob()}if(2&t){const t=c.bc();c.Bb(1),c.hc("src",null==t.take?null:t.take.thumbnail_url,c.oc),c.Bb(3),c.tc(null==t.take?null:t.take.reducedTitle),c.Bb(2),c.tc(null==t.take?null:t.take.provider_name)}}function L(t,e){if(1&t&&c.Nb(0,"img",83),2&t){const t=c.bc(2);c.hc("src",t.take.thumbnail_url,c.oc)}}function D(t,e){1&t&&(c.Pb(0,"div",91),c.ac(),c.Pb(1,"svg",92),c.Nb(2,"path",93),c.Nb(3,"path",94),c.Nb(4,"path",95),c.Nb(5,"path",96),c.Ob(),c.Ob())}function N(t,e){if(1&t&&(c.Pb(0,"span",85),c.sc(1),c.Ob()),2&t){const t=c.bc(2);c.Bb(1),c.tc(t.take.reducedTitle)}}function j(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",87),c.Xb("click",(function(e){return c.mc(t),c.bc().openLink(e)})),c.rc(1,L,1,1,"img",88),c.rc(2,D,6,0,"div",89),c.Pb(3,"div",84),c.rc(4,N,2,1,"span",90),c.Pb(5,"span",86),c.sc(6),c.Ob(),c.Ob(),c.Ob()}if(2&t){const t=c.bc();c.Bb(1),c.hc("ngIf",t.take.thumbnail_url),c.Bb(1),c.hc("ngIf",!t.take.thumbnail_url),c.Bb(2),c.hc("ngIf",t.take.reducedTitle),c.Bb(2),c.tc(t.take.provider_name)}}function z(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",97),c.Pb(1,"figure",98),c.Xb("click",(function(e){return c.mc(t),c.bc().fullSizePicture(e)})),c.Nb(2,"img",99),c.Ob(),c.Ob()}if(2&t){const t=c.bc();c.Bb(1),c.hc("ngStyle",t.pictureStyle),c.Bb(1),c.hc("src",t.take.picture,c.oc)}}function U(t,e){if(1&t&&(c.Pb(0,"div",103),c.Nb(1,"img",104),c.Ob()),2&t){const t=c.bc(2);c.Bb(1),c.hc("src",null==t.take?null:t.take.videoThumbnail,c.oc)}}function V(t,e){if(1&t){const t=c.Qb();c.Pb(0,"img",110),c.Xb("click",(function(e){c.mc(t);const n=c.bc(3);return n.playIconClicked(null==n.take?null:n.take._id,e)})),c.Ob()}}const E=function(){return[0,.02]},X=function(t){return{threshold:t,partial:!0}};function H(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",105),c.Xb("click",(function(e){c.mc(t);const n=c.bc(2);return n.changeVideoAudio(null==n.take?null:n.take._id,e)})),c.Pb(1,"video",106,107),c.Xb("pause",(function(e){return c.mc(t),c.bc(2).onPause(e)}))("play",(function(e){return c.mc(t),c.bc(2).onPlay(e)}))("loadedmetadata",(function(e){return c.mc(t),c.bc(2).onMetadata(e)}))("inViewportAction",(function(e){return c.mc(t),c.bc(2).onIntersection(e)})),c.Nb(3,"source",108),c.Ob(),c.rc(4,V,1,0,"img",109),c.Ob()}if(2&t){const t=c.bc(2);c.hc("ngStyle",t.videoStyle),c.Bb(1),c.hc("inViewportOptions",c.jc(8,X,c.ic(7,E)))("muted","muted")("poster",null==t.take?null:t.take.videoThumbnail,c.oc)("id","media-"+(null==t.take?null:t.take._id)),c.Bb(2),c.hc("src",t.take.video,c.oc),c.Bb(1),c.hc("ngIf",t.videoPaused||t.notLoaded)}}function A(t,e){if(1&t&&(c.Pb(0,"div",100),c.rc(1,U,2,1,"div",101),c.rc(2,H,5,10,"div",102),c.Ob()),2&t){const t=c.bc();c.Bb(1),c.hc("ngIf",t.takeService.destroyDiscussions),c.Bb(1),c.hc("ngIf",!t.takeService.destroyDiscussions)}}function Z(t,e){1&t&&(c.ac(),c.Pb(0,"svg",111),c.Pb(1,"g",28),c.Pb(2,"g",112),c.Nb(3,"rect",113),c.Pb(4,"g",114),c.Nb(5,"path",115),c.Ob(),c.Ob(),c.Ob(),c.Ob())}function F(t,e){1&t&&(c.ac(),c.Pb(0,"svg",116),c.Pb(1,"g",28),c.Pb(2,"g",117),c.Nb(3,"polygon",118),c.Nb(4,"path",119),c.Ob(),c.Ob(),c.Ob())}function R(t,e){if(1&t&&(c.Pb(0,"span",39),c.sc(1),c.Ob()),2&t){const t=c.bc();c.Db("liked",null==t.take?null:t.take.likedByUser),c.Bb(1),c.tc(null==t.take?null:t.take.count)}}function W(t,e){1&t&&(c.Pb(0,"span",120),c.sc(1,"Like"),c.Ob())}function Q(t,e){if(1&t&&(c.ac(),c.Zb(),c.Pb(0,"span",39),c.sc(1),c.Ob()),2&t){const t=c.bc();c.Bb(1),c.tc(null==t.take?null:t.take.replies)}}function $(t,e){1&t&&(c.ac(),c.Zb(),c.Pb(0,"span",39),c.sc(1,"Comment"),c.Ob())}function J(t,e){if(1&t){const t=c.Qb();c.Pb(0,"button",121),c.Xb("click",(function(e){return c.mc(t),c.bc().saveDiscussion(e)})),c.ac(),c.Pb(1,"svg",122),c.Nb(2,"path",123),c.Ob(),c.Zb(),c.Pb(3,"span",39),c.sc(4,"Save"),c.Ob(),c.Ob()}}function G(t,e){if(1&t){const t=c.Qb();c.Pb(0,"button",121),c.Xb("click",(function(e){return c.mc(t),c.bc().saveDiscussion(e)})),c.ac(),c.Pb(1,"svg",124),c.Nb(2,"path",125),c.Ob(),c.Zb(),c.Pb(3,"span",39),c.sc(4,"Unsave"),c.Ob(),c.Ob()}}function K(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",126),c.Pb(1,"ul",127),c.Pb(2,"li",128),c.Xb("click",(function(){return c.mc(t),c.bc().sharePost("link")})),c.Pb(3,"button",129),c.Pb(4,"div",130),c.ac(),c.Pb(5,"svg",131),c.Nb(6,"path",93),c.Nb(7,"path",94),c.Nb(8,"path",95),c.Nb(9,"path",96),c.Ob(),c.Ob(),c.Zb(),c.Pb(10,"span",51),c.sc(11,"Copy link to discussion"),c.Ob(),c.Ob(),c.Ob(),c.Pb(12,"li",128),c.Xb("click",(function(){return c.mc(t),c.bc().sharePost("twitter")})),c.Pb(13,"a",132),c.Pb(14,"div",130),c.ac(),c.Pb(15,"svg",133),c.Pb(16,"title"),c.sc(17,"Twitter Logo"),c.Ob(),c.Nb(18,"path",134),c.Ob(),c.Ob(),c.Zb(),c.Pb(19,"span",51),c.sc(20,"Share to Twitter"),c.Ob(),c.Ob(),c.Ob(),c.Pb(21,"li",128),c.Xb("click",(function(){return c.mc(t),c.bc().sharePost("facebook")})),c.Pb(22,"a",132),c.Pb(23,"div",130),c.ac(),c.Pb(24,"svg",135),c.Pb(25,"title"),c.sc(26,"Facebook Logo"),c.Ob(),c.Nb(27,"path",136),c.Ob(),c.Ob(),c.Zb(),c.Pb(28,"span",51),c.sc(29,"Share to Facebook"),c.Ob(),c.Ob(),c.Ob(),c.Pb(30,"li",128),c.Xb("click",(function(){return c.mc(t),c.bc().toggleShareBottom=!1})),c.Pb(31,"button",129),c.Pb(32,"span",51),c.sc(33,"Cancel"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()}if(2&t){const t=c.bc();c.Bb(13),c.hc("href","https://twitter.com/intent/tweet?text="+t.cutShareText()+"&url=https://www.discussthegame.com/discussions/"+t.take._id,c.oc),c.Bb(9),c.hc("href","https://www.facebook.com/sharer/sharer.php?u=https://www.discussthegame.com/discussions/"+t.take._id,c.oc)}}function Y(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",137),c.Pb(1,"span",138),c.sc(2,"Log in or create an account to leave a comment"),c.Ob(),c.Pb(3,"div",139),c.Pb(4,"button",140),c.Xb("click",(function(){return c.mc(t),c.bc().goAccess("login")})),c.sc(5,"Log in"),c.Ob(),c.Pb(6,"button",141),c.Xb("click",(function(){return c.mc(t),c.bc().goAccess("signup")})),c.sc(7,"Create account"),c.Ob(),c.Ob(),c.Ob()}}function q(t,e){if(1&t){const t=c.Qb();c.Pb(0,"button",151),c.Xb("click",(function(){return c.mc(t),c.bc(2).sendComment()})),c.Pb(1,"span"),c.sc(2,"Comment"),c.Ob(),c.Ob()}if(2&t){const t=c.bc(2);c.Bb(1),c.Db("disabled",0==t.comment.length)}}function tt(t,e){1&t&&(c.Pb(0,"button",152),c.Nb(1,"div",153),c.Ob())}const et=function(){return{standalone:!0}};function nt(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div"),c.Pb(1,"div",142),c.Pb(2,"div",143),c.Nb(3,"img",99),c.Ob(),c.Pb(4,"div",144),c.Pb(5,"div",145),c.Pb(6,"div",146),c.Pb(7,"textarea",147),c.Xb("ngModelChange",(function(e){return c.mc(t),c.bc().comment=e}))("blur",(function(){return c.mc(t),c.bc().commentUnfocused()}))("focus",(function(){return c.mc(t),c.bc().commentFocused()})),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(8,"div",148),c.rc(9,q,3,2,"button",149),c.rc(10,tt,2,0,"button",150),c.Ob(),c.Ob()}if(2&t){const t=c.bc();c.Bb(3),c.hc("src",null==t.authService||null==t.authService.currentUser?null:t.authService.currentUser.profilePicture,c.oc),c.Bb(1),c.Db("focused",t.textareaFocused),c.Bb(3),c.hc("ngModel",t.comment)("ngModelOptions",c.ic(7,et)),c.Bb(2),c.hc("ngIf",!t.sendingComment),c.Bb(1),c.hc("ngIf",t.sendingComment)}}function it(t,e){1&t&&(c.ac(),c.Pb(0,"svg",154),c.Pb(1,"g",28),c.Pb(2,"g",155),c.Nb(3,"rect",156),c.Nb(4,"path",157),c.Ob(),c.Ob(),c.Ob())}function ot(t,e){1&t&&(c.ac(),c.Pb(0,"svg",158),c.Pb(1,"g",28),c.Pb(2,"g",159),c.Nb(3,"rect",160),c.Nb(4,"path",161),c.Ob(),c.Ob(),c.Ob())}function ct(t,e){1&t&&(c.ac(),c.Pb(0,"svg",162),c.Pb(1,"g",28),c.Pb(2,"g",163),c.Nb(3,"rect",164),c.Nb(4,"rect",165),c.Nb(5,"rect",166),c.Pb(6,"g",167),c.Nb(7,"path",168),c.Ob(),c.Nb(8,"g",169),c.Ob(),c.Ob(),c.Ob())}function st(t,e){1&t&&(c.ac(),c.Zb(),c.Nb(0,"div",170))}function rt(t,e){if(1&t){const t=c.Qb();c.ac(),c.Zb(),c.Pb(0,"div",171),c.Pb(1,"ul",127),c.Pb(2,"li",128),c.Xb("click",(function(){return c.mc(t),c.bc().sortDiscussions("HOT")})),c.Pb(3,"button",129),c.ac(),c.Pb(4,"svg",154),c.Pb(5,"title"),c.sc(6,"noun_Flame_129549"),c.Ob(),c.Pb(7,"desc"),c.sc(8,"Created with Sketch."),c.Ob(),c.Pb(9,"g",28),c.Pb(10,"g",155),c.Nb(11,"rect",156),c.Nb(12,"path",157),c.Ob(),c.Ob(),c.Ob(),c.Zb(),c.Pb(13,"span",51),c.sc(14,"HOT"),c.Ob(),c.Ob(),c.Ob(),c.Pb(15,"li",128),c.Xb("click",(function(){return c.mc(t),c.bc().sortDiscussions("NEW")})),c.Pb(16,"button",129),c.ac(),c.Pb(17,"svg",158),c.Pb(18,"g",28),c.Pb(19,"g",159),c.Nb(20,"rect",160),c.Nb(21,"path",161),c.Ob(),c.Ob(),c.Ob(),c.Zb(),c.Pb(22,"span",51),c.sc(23,"NEW"),c.Ob(),c.Ob(),c.Ob(),c.Pb(24,"li",128),c.Xb("click",(function(){return c.mc(t),c.bc().sortDiscussions("TOP")})),c.Pb(25,"button",129),c.ac(),c.Pb(26,"svg",162),c.Pb(27,"g",28),c.Pb(28,"g",163),c.Nb(29,"rect",164),c.Nb(30,"rect",165),c.Nb(31,"rect",166),c.Pb(32,"g",167),c.Nb(33,"path",168),c.Ob(),c.Nb(34,"g",169),c.Ob(),c.Ob(),c.Ob(),c.Zb(),c.Pb(35,"span",51),c.sc(36,"TOP"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()}if(2&t){const t=c.bc();c.Bb(13),c.Db("sort-active",t.hot),c.Bb(9),c.Db("sort-active",t.new),c.Bb(13),c.Db("sort-active",t.top)}}function at(t,e){if(1&t){const t=c.Qb();c.Pb(0,"app-take-timeline-item",172),c.Xb("deleteComment",(function(e){return c.mc(t),c.bc().deleteComment(e)})),c.Ob()}if(2&t){const t=e.$implicit,n=c.bc();c.hc("timeline",t)("take",n.take)("hideReplies",!1)}}function lt(t,e){1&t&&(c.Pb(0,"div",173),c.ac(),c.Pb(1,"svg",174),c.Pb(2,"title"),c.sc(3,"comment"),c.Ob(),c.Pb(4,"desc"),c.sc(5,"Created with Sketch."),c.Ob(),c.Pb(6,"g",28),c.Pb(7,"g",29),c.Nb(8,"rect",30),c.Nb(9,"path",31),c.Ob(),c.Ob(),c.Ob(),c.Zb(),c.Pb(10,"span",175),c.sc(11,"No Comments Yet"),c.Ob(),c.Pb(12,"span",176),c.sc(13,"Be the first to leave an opinion!"),c.Ob(),c.Ob())}function gt(t,e){1&t&&(c.Pb(0,"div",177),c.Nb(1,"div",153),c.Ob())}function dt(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",178),c.Xb("scrolled",(function(){return c.mc(t),c.bc().doInfinite()})),c.Ob()}2&t&&c.hc("infiniteScrollDistance",1.5)("infiniteScrollThrottle",150)}let ht=(()=>{class t{constructor(t,e,n,i,o,c,s,r,a,l,g,d,h,b,u,p){this.route=t,this.el=e,this.location=n,this.platformId=i,this.threadDiscussionService=o,this.authService=c,this.stateService=s,this.$gaService=r,this.takeDiscussionService=a,this.takeService=l,this.router=g,this.seoSocialShareService=d,this.webSocketService=h,this.takeLikesService=b,this.threadsService=u,this.likesService=p,this.toggleShareBottom=!1,this.sticky=!1,this.sendingComment=!1,this.comment="",this.textareaFocused=!1,this.toggleSort=!1,this.showTimer=!1,this.largeLink=!1,this.loadingTake=!1,this.enableInfinite=!1,this.skipHot=0,this.skipNew=0,this.skipTop=0,this.loadingDiscussions=!0,this.loadingInitial=!0,this.timelines=[],this.admin=!1,this.videoPaused=!0,this.dontPlay=!1,this.notLoaded=!0,this.videoLoaded=!1,this.hot=!0,this.new=!1,this.sortBy="HOT",this.top=!1,this.viewEntered=!1,this.showInfiniteSpinner=!1,this.options=[],this.showResults=!1,this.optionsWithPercentage=[],this.percentageSum=0,this.totalVotes=0,this.voted=!1,this.pollEffect=!1}ngOnDestroy(){this.take&&this.take.video&&this.unloadVideo()}cutShareText(){return this.take.take.substring(0,140).length<this.take.take.length?this.take.take.substring(0,140)+"...":this.take.take}commentFocused(){this.textareaFocused=!0}goBack(){this.takeService.takes.length||this.threadsService.threads.length?this.location.back():this.router.navigate(["../"])}commentUnfocused(){this.textareaFocused=!1}checkSticky(){window.pageYOffset>this.offsetTopBack?this.sticky||(this.sticky=!0):this.sticky&&(this.sticky=!1)}onWindowScroll(){this.checkSticky()}ngAfterViewInit(){Object(i.o)(this.platformId)&&(this.offsetTopBack=this.backElement.nativeElement.offsetTop-55)}goToUser(){this.router.navigate(["/u",this.take.user.username])}loadVideo(){Object(i.o)(this.platformId)&&(this.videoTake.nativeElement.pause(),this.videoTake.nativeElement.src=this.take.video,this.videoTake.nativeElement.load(),this.videoLoaded=!0)}unloadVideo(){Object(i.o)(this.platformId)&&(this.videoTake.nativeElement.pause(),this.videoTake.nativeElement.src="",this.videoTake.nativeElement.load(),this.videoLoaded=!1)}ngOnInit(){this.$gaService.pageView("/take-detail","Take detail"),this.route.data.subscribe(t=>{t.data.error?(this.authService.errorMessage="Not found",Object(i.o)(this.platformId)&&setTimeout(()=>{this.authService.errorMessage=null},5e3)):(this.configureTake(t.data.take),Object(i.o)(this.platformId)&&this.getDiscussions(),this.take.video?this.setVideoContainerStyle():this.take.picture&&this.setPictureContainerStyle(),this.authService.isLoggedIn()&&this.authService.currentUser.isAdmin&&(this.admin=!0))})}sharePost(t){let e="https://www.discussthegame.com/discussions/"+this.take._id;if("link"==t){const t=document.createElement("textarea");t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.opacity="0",t.value=e,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t),this.authService.successMessage="Copied to clipboard!",setTimeout(()=>{this.authService.successMessage=null},3e3)}this.toggleShareBottom=!1}configureSEO(){let t,e;this.take.picture?(t=this.take.picture,e={title:this.take.take,description:this.take.league+" discussion by u/"+this.take.user.username,site:"https://www.discussthegame.com/discussions/"+this.take._id,image:t,large:!0}):e={title:this.take.take,description:this.take.league+" discussion by u/"+this.take.user.username,site:"https://www.discussthegame.com/discussions/"+this.take._id,image:"https://discussthegame.s3-us-west-1.amazonaws.com/ui/dtg-share.png",large:!1},this.seoSocialShareService.setData(e)}configureTake(t){t.date=new Date(t.date),t.created=this.created(t),t.likedByUser=this.userHasLiked(t),t.count=t.likers?t.likers.length:0,this.take=t,this.configureSEO(),"Link"==this.take.type&&this.cutURLText(this.take.thumbnail_width>500&&"Twitter"!=this.take.provider_name&&"video"!=this.take.urlType?80:60),"Poll"==this.take.type&&(this.authService.isLoggedIn()&&this.authService.currentUser.username===this.take.user.username&&(this.showResults=!0),this.options=this.take.pollValues,this.totalVotes=this.take.votes.length,this.userHasVoted())}userHasVoted(){this.authService.isLoggedIn()&&(this.takeService.userHasVoted(this.take,this.authService.currentUser._id)||this.showResults)&&this.calculatePercentage(!1)}createOptionsObject(t){let e=this.options[t].trim(),n=this.take.votes.filter(t=>t.option.trim()==e),i=n.length,o=n.some(t=>t.user==this.authService.currentUser._id),c=i/this.totalVotes*100,s=c%1,r=Math.floor(c);return this.percentageSum+=r,{option:e,percentage:c,decimal:s,flooredPercentage:isNaN(r)?0:r,userInOption:o}}calculatePercentage(t){this.take.optionsWithPercentage=[],this.takeService.currentTake&&(this.takeService.currentTake.optionsWithPercentage=[]);for(let n=0;n<this.options.length;n++)this.take.optionsWithPercentage.push(this.createOptionsObject(n)),this.takeService.currentTake&&this.takeService.currentTake.optionsWithPercentage.push(this.createOptionsObject(n));let e=100-this.percentageSum;if(0!=e){let t=this.take.optionsWithPercentage.concat();t.sort((t,e)=>e.decimal-t.decimal);for(let n=0;n<e;n++)for(let e=0;e<this.take.optionsWithPercentage.length;e++)this.take.optionsWithPercentage[e].option==t[n].option&&(this.take.optionsWithPercentage[e].flooredPercentage+=1,this.takeService.currentTake&&(this.takeService.currentTake.optionsWithPercentage[e].flooredPercentage+=1))}this.take.voted=!0,this.takeService.currentTake&&(this.takeService.currentTake.voted=!0)}toggleVote(t,e){if(e.stopPropagation(),this.authService.isLoggedIn()&&this.options.length>1){if(this.pollEffect=!0,!this.takeService.userHasVoted(this.take,this.authService.currentUser._id)){setTimeout(()=>{this.take.voted=!0},700),this.totalVotes+=1,this.takeService.postVote(this.take._id,t);let e={option:t,user:this.authService.currentUser._id};this.takeService.currentTake&&this.takeService.currentTake.votes.push(e),this.take.votes.push(e),this.calculatePercentage(!0),setTimeout(()=>{this.pollEffect=!1},2e3)}}else this.authService.toggleAccess=!0,this.authService.register=!0,this.authService.toggleLogin=!1}onIntersection(t){const{[s.b]:{entry:e},target:n}=t,i=n;e.intersectionRatio>=.02?(this.dontPlay=!1,this.take.videoCurrentTime&&(i.currentTime=this.take.videoCurrentTime),this.videoLoaded||this.loadVideo()):(this.dontPlay=!0,i.currentTime=0,this.videoLoaded&&this.unloadVideo())}sortDiscussions(t){this.loadingDiscussions=!0,"HOT"==t?(this.sortBy="HOT",this.hot=!0,this.new=!1,this.top=!1,this.toggleSort=!1,this.getDiscussions()):"NEW"==t?(this.sortBy="NEW",this.hot=!1,this.top=!1,this.new=!0,this.toggleSort=!1,this.getNewestDiscussions()):(this.sortBy="TOP",this.hot=!1,this.top=!0,this.new=!1,this.toggleSort=!1,this.getTopDiscussions())}syncVideoTime(t){this.take.videoCurrentTime&&(t.currentTime=this.take.videoCurrentTime)}deleteComment(t){this.timelines=this.timelines.filter(e=>e._id.toString()!=t.toString())}goAccess(t){this.authService.toggleAccess=!0,this.authService.register=!0,this.authService.toggleLogin="login"==t}saveDiscussion(t){if(t.stopPropagation(),this.authService.isLoggedIn())if(this.take.saved){const t=this.take.bookmarks.indexOf(this.authService.currentUser._id);t>-1&&this.take.bookmarks.splice(t,1),this.takeService.deleteBookmark(this.take._id),this.take.saved=!1,this.authService.successMessage="Discussion unsaved",setTimeout(()=>{this.authService.successMessage=null},3e4)}else this.take.bookmarks?this.take.bookmarks.push(this.authService.currentUser._id):this.take.bookmarks=[this.authService.currentUser._id],this.take.saved=!0,this.takeService.addToBookmarks(this.take._id),this.authService.successMessage="Discussion saved",setTimeout(()=>{this.authService.successMessage=null},3e3);else this.authService.toggleAccess=!0,this.authService.register=!0,this.authService.toggleLogin=!1}getDiscussions(){this.enableInfinite=!1,this.skipHot=0,this.takeDiscussionService.getDiscussions(this.take._id,0).subscribe(t=>{t.forEach(t=>{t.date=new Date(t.date),t.created=this.created(t),t.likedByUser=this.userHasLiked(t)}),this.timelines=t,this.loadingInitial=!1,this.loadingDiscussions=!1,this.enableInfinite=this.timelines.length>=25},t=>{this.enableInfinite=!0,this.loadingDiscussions=!1,this.loadingInitial=!1,this.authService.errorMessage=t,setTimeout(()=>{this.authService.errorMessage=null},5e3)})}getNewestDiscussions(){this.enableInfinite=!1,this.skipNew=0,this.reactivateInfinite&&(this.enableInfinite=!0),this.takeDiscussionService.getNewestDiscussions(this.take._id,0).subscribe(t=>{t.forEach(t=>{t.date=new Date(t.date),t.created=this.created(t),t.likedByUser=this.userHasLiked(t)}),this.timelines=t,this.loadingDiscussions=!1,this.loadingInitial=!1,this.enableInfinite=this.timelines.length>=25},t=>{this.loadingDiscussions=!1,this.loadingInitial=!1,this.enableInfinite=!0,this.authService.errorMessage=t,setTimeout(()=>{this.authService.errorMessage=null},5e3)})}getTopDiscussions(){this.enableInfinite=!1,this.skipTop=0,this.reactivateInfinite&&(this.enableInfinite=!0),this.takeDiscussionService.getTopDiscussions(this.take._id,0).subscribe(t=>{t.forEach(t=>{t.date=new Date(t.date),t.created=this.created(t),t.likedByUser=this.userHasLiked(t)}),this.loadingDiscussions=!1,this.loadingInitial=!1,this.timelines=t,this.enableInfinite=this.timelines.length>=25},t=>{this.enableInfinite=!0,this.loadingDiscussions=!1,this.loadingInitial=!1,this.authService.errorMessage=t,setTimeout(()=>{this.authService.errorMessage=null},5e3)})}cutURLText(t){if(this.take.urlTitle){let e=this.take.urlTitle.substring(0,t);this.take.reducedTitle=e.length<this.take.urlTitle.length?this.take.urlTitle.substring(0,t)+"...":this.take.urlTitle}}changeVideoAudio(t,e){e.stopPropagation();let n=document.getElementById("media-"+t);n.muted&&e.preventDefault(),this.fullVideo(n)}fullVideo(t){t.muted=!1,this.videoPaused=!1,this.notLoaded=!1}fullSizePicture(t){t.stopPropagation(),this.takeService.fullScreen=!0,this.takeService.fullScreenImage=this.take.picture,this.stateService.freezeBody()}openLink(t){t.stopPropagation(),window.open(this.take.url,"_blank")}isVisible(t){if(t){let e=t.getBoundingClientRect(),n=document.documentElement.clientHeight,i=e.bottom<n&&e.bottom>0;return e.top>0&&e.top<n||i}}onPause(t){clearInterval(this.timeInterval),this.videoPaused=!0,clearInterval(this.displayTimeTimeout),this.displayTimeTimeout=setTimeout(()=>{this.showTimer=!1},6e3)}onPlay(t){this.videoPaused=!1,clearTimeout(this.displayTimeTimeout),this.showTimer=!0,this.displayTimeTimeout=setTimeout(()=>{this.showTimer=!1},6e3)}pad(t,e){return("000"+t).slice(-1*e)}sec2time(t){let e=parseFloat(t).toFixed(3),n=(Math.floor(Number(e)/60/60),Math.floor(Number(e)/60)%60),i=Math.floor(Number(e)-60*n);return e.slice(-3),this.pad(n,2).charAt(1)+":"+this.pad(i,2)}playIconClicked(t,e){e.stopPropagation();let n=document.getElementById("media-"+t);n.play(),n.muted&&e.preventDefault(),this.fullVideo(n)}onMetadata(t){this.syncVideoTime(t.target),this.showTimer=!0,this.displayTimeTimeout=setTimeout(()=>{this.showTimer=!1},4e3)}like(t){t.stopPropagation(),this.authService.isLoggedIn()?this.userHasLiked(this.take)?(this.take.likedByUser=!1,this.take.count-=1,this.takeService.currentTake&&(this.takeService.currentTake.count-=1),this.takeService.currentTake&&(this.takeService.currentTake.likedByUser=!1),this.takeLikesService.deleteTakeLike(this.take,this.authService.currentUser._id)):(this.take.likedByUser=!0,this.take.count+=1,this.takeService.currentTake&&(this.takeService.currentTake.count+=1),this.takeService.currentTake&&(this.takeService.currentTake.likedByUser=!0),this.takeLikesService.postTakeLike(this.take,this.authService.currentUser._id)):(this.authService.toggleAccess=!0,this.authService.register=!0,this.authService.toggleLogin=!1)}userHasLiked(t){return!!this.authService.currentUser&&this.takeLikesService.userHasLiked(t,this.authService.currentUser._id)}sendComment(){0!=this.comment.length&&this.authService.isLoggedIn()&&(this.sendingComment=!0,this.takeDiscussionService.postDiscussion({opinion:this.comment,takeUser:this.take.user._id,playerIds:this.take.user.playerIds},this.take._id).subscribe(t=>{this.webSocketService.emitPost(this.take._id,"take",this.take.user._id,this.authService.currentUser._id),t.date=new Date(t.date),t.count=0,t.created="1min",this.timelines.unshift(t),this.sendingComment=!1,this.comment="",this.take.replies+=1},t=>{this.sendingComment=!1,this.authService.errorMessage=t,setTimeout(()=>{this.authService.errorMessage=null},5e3)}))}created(t){let e,n=t.date.getTime(),i=((new Date).getTime()-n)/36e5;return i>=24?(e="d",`${Math.floor(i/24)}${e}`):i<1&&i>0?(e="min",`${Math.ceil(60*i)}${e}`):(e="h",`${Math.floor(i)}${e}`)}getMoreNewestDiscussions(t){this.loadingDiscussions=!0,this.takeDiscussionService.getNewestDiscussions(this.take._id,t).subscribe(t=>{t.forEach(t=>{t.date=new Date(t.date),t.created=this.created(t),t.likedByUser=this.userHasLiked(t)});var e=this.timelines.concat(t).filter((t,e,n)=>n.findIndex(e=>e._id==t._id)===e);this.loadingDiscussions=!1,t.length<25&&(this.enableInfinite=!1),this.timelines=e,this.showInfiniteSpinner=!1},t=>{this.showInfiniteSpinner=!1,this.loadingDiscussions=!1,this.authService.errorMessage=t,setTimeout(()=>{this.authService.errorMessage=null},5e3)})}getMoreTopDiscussions(t){this.loadingDiscussions=!0,this.takeDiscussionService.getTopDiscussions(this.take._id,t).subscribe(t=>{t.forEach(t=>{t.date=new Date(t.date),t.created=this.created(t),t.likedByUser=this.userHasLiked(t)});var e=this.timelines.concat(t).filter((t,e,n)=>n.findIndex(e=>e._id==t._id)===e);this.timelines=e,this.loadingDiscussions=!1,t.length<25&&(this.enableInfinite=!1),this.showInfiniteSpinner=!1},t=>{this.loadingDiscussions=!1,this.authService.errorMessage=t,setTimeout(()=>{this.authService.errorMessage=null},5e3),this.showInfiniteSpinner=!1})}getMoreDiscussions(t){this.loadingDiscussions=!0,this.takeDiscussionService.getDiscussions(this.take._id,t).subscribe(t=>{t.forEach(t=>{t.date=new Date(t.date),t.created=this.created(t),t.likedByUser=this.userHasLiked(t)});var e=this.timelines.concat(t).filter((t,e,n)=>n.findIndex(e=>e._id==t._id)===e);this.timelines=e,this.loadingDiscussions=!1,t.length<25&&(this.enableInfinite=!1),this.showInfiniteSpinner=!1},t=>{this.loadingDiscussions=!1,this.authService.errorMessage=t,setTimeout(()=>{this.authService.errorMessage=null},5e3),this.showInfiniteSpinner=!1})}setVideoContainerStyle(){this.videoStyle={"border-radius":"10px",position:"relative","padding-top":this.take.videoHeight/this.take.videoWidth*100+"%"}}setPictureContainerStyle(){this.pictureStyle={position:"relative",background:"#ededed",border:"1px solid #ededed","border-radius":"10px","padding-top":this.take.pictureHeight/this.take.pictureWidth*100+"%"}}doInfinite(){this.showInfiniteSpinner||(this.showInfiniteSpinner=!0,this.hot?(this.skipHot+=25,this.getMoreDiscussions(this.skipHot)):this.new?(this.skipNew+=25,this.getMoreNewestDiscussions(this.skipNew)):(this.skipTop+=25,this.getMoreTopDiscussions(this.skipTop)))}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(o.a),c.Mb(c.l),c.Mb(i.g),c.Mb(c.B),c.Mb(r.a),c.Mb(a.a),c.Mb(l.a),c.Mb(g.a),c.Mb(d.a),c.Mb(h.a),c.Mb(o.f),c.Mb(b.a),c.Mb(u.a),c.Mb(p.a),c.Mb(m.a),c.Mb(f.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-take-detail"]],viewQuery:function(t,e){var n;1&t&&(c.wc(O,!0),c.wc(v,!0)),2&t&&(c.kc(n=c.Yb())&&(e.videoTake=n.first),c.kc(n=c.Yb())&&(e.backElement=n.first))},hostBindings:function(t,e){1&t&&c.Xb("scroll",(function(){return e.onWindowScroll()}),!1,c.lc)},decls:74,vars:34,consts:[[1,"background-container"],[1,"take-container"],[1,"take"],["class","go-back",4,"ngIf"],["class","go-back sticky",4,"ngIf"],[1,"top-thread"],[1,"user",3,"click"],["alt","",1,"user__pfp",3,"src"],[1,"user__text"],[1,"user__username"],[1,"user__post-date"],[1,"discussion"],[3,"id"],["class","poll-container",4,"ngIf"],["class","link-container-detail",3,"click",4,"ngIf"],["class","small-link-container","role","link",3,"click",4,"ngIf"],["class","figure-div",4,"ngIf"],["class","top-video-container",4,"ngIf"],[1,"post-actions"],[1,"post-actions__action","like-div"],[1,"icon-div","heart-div",3,"click"],["class","take-actions-icon","viewBox","0 0 81 75","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",4,"ngIf"],["class","take-actions-icon","viewBox","0 0 88 81","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",4,"ngIf"],["class","post-actions__text",3,"liked",4,"ngIf"],["class","post-actions__text cero-likes",4,"ngIf"],[1,"post-actions__action","comment-div"],[1,"icon-div","comments-div"],["viewBox","0 0 79 78","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"take-actions-icon"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","comment","transform","translate(-6.000000, -6.000000)"],["id","Rectangle-22","x","0","y","0","width","91","height","90"],["d","M8.517,83.161 C8.167,83.161 7.816,83.089 7.485,82.94 C6.581,82.534 6,81.634 6,80.643 L6,28.518 C6,16.102 16.102,6 28.518,6 L62.331,6 C74.747,6 84.849,16.102 84.849,28.518 L84.849,43.518 C84.849,55.934 74.747,66.036 62.331,66.036 L28.764,66.036 L10.189,82.526 C9.718,82.943 9.121,83.161 8.517,83.161 Z M29.0091478,12.036 C19.6491899,12.036 12.035,19.5369093 12.035,28.7554818 L12.035,73.2492727 L26.7351829,60.3954896 C27.2051227,59.9842451 27.8148793,59.7681026 28.4440549,59.789143 C28.5625108,59.7939249 28.6790248,59.801576 28.7965098,59.8092271 C28.8673891,59.8149654 28.9382685,59.82166 29.0101188,59.82166 L61.840851,59.82166 C71.2008089,59.82166 78.8149988,52.3207508 78.8149988,43.1021782 L78.8149988,28.7564382 C78.8149988,19.5369093 71.199838,12.0369564 61.840851,12.0369564 L29.0091478,12.0369564 L29.0091478,12.036 Z","id","Shape","fill","#A2A4A6","fill-rule","nonzero","transform","translate(45.424500, 44.580500) scale(-1, 1) translate(-45.424500, -44.580500) "],["class","post-actions__text",4,"ngIf"],[1,"post-actions__action","save-div"],["class","icon-div save-div",3,"click",4,"ngIf"],[1,"post-actions__action","post-actions__action--share"],[1,"icon-div","share-div",3,"click"],["viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"share-actions-icon--bottom"],["fill-rule","evenodd","d","M9.502 5.013a.144.144 0 0 0-.202.134V6.3a.5.5 0 0 1-.5.5c-.667 0-2.013.005-3.3.822-.984.624-1.99 1.76-2.595 3.876C3.925 10.515 5.09 9.982 6.11 9.7a8.741 8.741 0 0 1 1.921-.306 7.403 7.403 0 0 1 .798.008h.013l.005.001h.001L8.8 9.9l.05-.498a.5.5 0 0 1 .45.498v1.153c0 .108.11.176.202.134l3.984-2.933a.494.494 0 0 1 .042-.028.147.147 0 0 0 0-.252.494.494 0 0 1-.042-.028L9.502 5.013zM8.3 10.386a7.745 7.745 0 0 0-1.923.277c-1.326.368-2.896 1.201-3.94 3.08a.5.5 0 0 1-.933-.305c.464-3.71 1.886-5.662 3.46-6.66 1.245-.79 2.527-.942 3.336-.971v-.66a1.144 1.144 0 0 1 1.767-.96l3.994 2.94a1.147 1.147 0 0 1 0 1.946l-3.994 2.94a1.144 1.144 0 0 1-1.767-.96v-.667z"],[1,"post-actions__text"],["class","sorting__options--aside",4,"ngIf"],[1,"related-take"],["class","login-comment",4,"ngIf"],[4,"ngIf"],[1,"sorting"],[1,"sorting__container"],[1,"sorting__header",3,"click"],[1,"sorting__button",3,"click"],["class","sorting__icon","viewBox","0 0 66 80","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",4,"ngIf"],["class","sorting__icon","viewBox","0 0 87 88","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",4,"ngIf"],["class","sorting__icon","viewBox","0 0 64 75","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",4,"ngIf"],[1,"sorting__text"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-caret-down-fill"],["d","M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 01.753 1.659l-4.796 5.48a1 1 0 01-1.506 0z"],["class","spinner-border sort-spinner","role","status",4,"ngIf"],["class","sorting__options",4,"ngIf"],[1,"timeline-list"],[3,"timeline","take","hideReplies","deleteComment",4,"ngFor","ngForOf"],["class","no-comments",4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","search-results","infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled",4,"ngIf"],[1,"go-back"],["back",""],[3,"click"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-arrow-left-short","back-icon"],["fill-rule","evenodd","d","M7.854 4.646a.5.5 0 010 .708L5.207 8l2.647 2.646a.5.5 0 01-.708.708l-3-3a.5.5 0 010-.708l3-3a.5.5 0 01.708 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M4.5 8a.5.5 0 01.5-.5h6.5a.5.5 0 010 1H5a.5.5 0 01-.5-.5z","clip-rule","evenodd"],[1,"league"],[1,"go-back","sticky"],[1,"poll-container"],["class","threed-btn",4,"ngFor","ngForOf"],[1,"threed-btn"],[1,"button-3d",3,"click"],["class","progress-outer",4,"ngFor","ngForOf"],[1,"progress-outer"],[1,"percentage-option"],["viewBox","0 0 16 16","class","bi bi-check-circle checked","fill","currentColor","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[1,"percentage"],[1,"inner"],["viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-check-circle","checked"],["fill-rule","evenodd","d","M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["fill-rule","evenodd","d","M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"],[1,"link-container-detail",3,"click"],["alt","",1,"thumbnail-link",3,"src"],[1,"link-info"],[1,"url-title"],[1,"url-provider"],["role","link",1,"small-link-container",3,"click"],["class","thumbnail-link","alt","",3,"src",4,"ngIf"],["class","alt-thumbnail-link",4,"ngIf"],["class","url-title",4,"ngIf"],[1,"alt-thumbnail-link"],["viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg"],["d","M4.715 6.542L3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.001 1.001 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"],["d","M5.712 6.96l.167-.167a1.99 1.99 0 0 1 .896-.518 1.99 1.99 0 0 1 .518-.896l.167-.167A3.004 3.004 0 0 0 6 5.499c-.22.46-.316.963-.288 1.46z"],["d","M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 0 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 0 0-4.243-4.243L6.586 4.672z"],["d","M10 9.5a2.99 2.99 0 0 0 .288-1.46l-.167.167a1.99 1.99 0 0 1-.896.518 1.99 1.99 0 0 1-.518.896l-.167.167A3.004 3.004 0 0 0 10 9.501z"],[1,"figure-div"],[1,"take-image-container",3,"ngStyle","click"],["alt","",3,"src"],[1,"top-video-container"],["class","fake-video-container",4,"ngIf"],["class","video-container",3,"ngStyle","click",4,"ngIf"],[1,"fake-video-container"],["alt","",1,"video-thumb",3,"src"],[1,"video-container",3,"ngStyle","click"],["inViewport","","controls","","loop","","preload","metadata","muted","muted",1,"video-media",3,"inViewportOptions","muted","poster","id","pause","play","loadedmetadata","inViewportAction"],["videoTake",""],["type","video/mp4",3,"src"],["src","assets/imgs/play.png","class","play-img","alt","",3,"click",4,"ngIf"],["src","assets/imgs/play.png","alt","",1,"play-img",3,"click"],["viewBox","0 0 81 75","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"take-actions-icon"],["id","Group-53","transform","translate(-6.000000, -6.000000)"],["id","Rectangle-20","fill-opacity","0","fill","#D8D8D8","x","0","y","0","width","93","height","87"],["id","heart","transform","translate(6.000000, 6.000000)","fill","#EB4B59","fill-rule","nonzero"],["d","M58.725,0 C51.6375,0 44.9553894,3.26992188 40.5,8.58339844 C36.0444159,3.26992188 29.3625,0 22.275,0 C9.71961058,0 0,9.80878906 0,22.4794922 C0,38.0099609 13.7696106,50.4771484 34.6267212,69.6853516 L40.5,75 L46.3732788,69.6853516 C67.2301947,50.4769531 81,38.0097656 81,22.4794922 C81,9.80878906 71.2803894,0 58.725,0 Z","id","Combined-Shape"],["viewBox","0 0 88 81","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"take-actions-icon"],["id","heart-outline","transform","translate(-6.000000, -6.000000)"],["id","Rectangle-21","points","0 0 100 0 100 93 0 93"],["d","M69.8,6 C62.1,6 54.8404231,9.53151563 50,15.2700703 C45.1593654,9.53151563 37.9,6 30.2,6 C16.5595769,6 6,16.5934922 6,30.2778516 C6,47.0507578 20.9595769,60.5153203 43.6191538,81.2601797 L50,87 L56.3808462,81.2601797 C79.0402115,60.5151094 94,47.0505469 94,30.2778516 C94,16.5934922 83.4404231,6 69.8,6 Z M52.7153077,75.4526484 L51.8228269,76.2696094 L50,77.9092266 L48.1773846,76.2698203 L47.2859615,75.4537031 C36.6206154,65.6910937 27.4095962,57.2595 21.3204615,49.7205937 C15.4064808,42.3983203 12.7692308,36.402 12.7692308,30.2778516 C12.7692308,25.4547656 14.5508077,21.0111562 17.7858654,17.7658828 C21.0101346,14.5313672 25.4188077,12.75 30.2,12.75 C35.7283462,12.75 41.1936538,15.3164766 44.8194231,19.6149609 L50,25.7566172 L55.1803654,19.6149609 C58.8063462,15.3164766 64.2714423,12.75 69.8,12.75 C74.5814038,12.75 78.9898654,14.5313672 82.2143462,17.7656719 C85.4491923,21.0111562 87.2307692,25.4545547 87.2307692,30.2778516 C87.2307692,36.402 84.5935192,42.3981094 78.6799615,49.7201719 C72.5910385,57.2590781 63.3804423,65.6900391 52.7153077,75.4526484 Z","id","Shape","fill","#A2A4A6","fill-rule","nonzero"],[1,"post-actions__text","cero-likes"],[1,"icon-div","save-div",3,"click"],["viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"take-actions-icon","save-actions-icon--bottom-unfilled"],["fill-rule","evenodd","d","M8 12l5 3V3a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12l5-3zm-4 1.234l4-2.4 4 2.4V3a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v10.234z"],["viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"take-actions-icon","save-actions-icon--bottom"],["fill-rule","evenodd","d","M3 3a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12l-5-3-5 3V3z"],[1,"sorting__options--aside"],[1,"sorting__list"],[1,"sorting__item",3,"click"],[1,"sorting__button"],[1,"share-icon-container"],["viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"atom","icon","svg","link"],["target","_blank",1,"sorting__button",3,"href"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 14",1,"atom","icon","svg","twitter"],["d","M5.042 13.504c6.01 0 9.3-4.985 9.3-9.3 0-.14 0-.28-.006-.42.638-.46 1.192-1.04 1.632-1.697-.586.262-1.217.434-1.88.517.675-.402 1.192-1.046 1.44-1.81-.63.375-1.332.643-2.078.79C12.85.946 12.003.55 11.066.55c-1.804 0-3.27 1.467-3.27 3.27 0 .256.032.505.083.747-2.717-.134-5.126-1.44-6.74-3.417C.86 1.635.7 2.196.7 2.795c0 1.134.58 2.135 1.455 2.722-.536-.02-1.04-.166-1.48-.408v.043c0 1.58 1.13 2.907 2.62 3.207-.273.076-.56.115-.86.115-.21 0-.414-.02-.612-.058.414 1.3 1.626 2.244 3.053 2.27-1.12.88-2.53 1.402-4.06 1.402-.26 0-.523-.014-.778-.046 1.44.918 3.162 1.46 5.004 1.46"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 10 16",1,"atom","icon","svg","facebook"],["d","M6.24 16V8.7h2.45l.365-2.842H6.24V4.04c0-.822.227-1.384 1.41-1.384h1.5V.112C8.42.035 7.686-.002 6.953 0 4.79 0 3.3 1.325 3.3 3.76v2.098H.846V8.7H3.3V16h2.94z"],[1,"login-comment"],[1,"login-text"],[1,"login-buttons"],[1,"login",3,"click"],[1,"signup",3,"click"],[1,"add-comment-container"],[1,"add-comment-user"],[1,"add-comment"],[1,"add-comment__textarea-container"],[1,"mid-textarea"],["placeholder","Add a comment","id","",1,"add-comment__textarea",3,"ngModel","ngModelOptions","ngModelChange","blur","focus"],[1,"send-comment"],["class","send-comment__button",3,"click",4,"ngIf"],["class","send-comment__button loading-button","type","button","disabled","",4,"ngIf"],[1,"send-comment__button",3,"click"],["type","button","disabled","",1,"send-comment__button","loading-button"],["role","status",1,"spinner-border"],["viewBox","0 0 66 80","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"sorting__icon"],["id","noun_Flame_129549","transform","translate(-6.000000, -7.000000)"],["id","Rectangle-25","x","0","y","0","width","78","height","94"],["d","M58.47,30.559 L57.385,29.686 C56.107,28.658 54.173,29.05 53.468,30.531 C53.125,31.251 52.883,38.54 52.883,39.768 C52.883,40.016 52.831,40.423 52.837,40.466 C52.837,41.502 51.91,42.324 50.842,42.148 C50.002,42.01 49.428,41.213 49.424,40.362 C49.37,27.896 45.561,19.203 38.57,12.711 C34.295,8.741 29.24,5.235 27.693,7.972 C27.298,8.67 27.951,10.239 28.609,12.249 C30.071,16.72 25.61,23.86 19.304,30.995 C13.377,37.702 6,46.05 6,58.349 C6,70.389 14.296,81.646 25.444,86.889 C26.444,87.359 27.411,86.115 26.703,85.267 C24.255,82.334 22.847,78.504 23.047,74.34 C23.435,66.275 30.075,59.647 38.14,59.275 C47.244,58.854 54.758,66.111 54.758,75.123 C54.758,78.975 53.383,82.503 51.099,85.249 C50.38,86.114 51.313,87.374 52.331,86.896 C63.485,81.655 71.787,70.395 71.787,58.35 C71.787,47.898 66.808,37.509 58.47,30.559 Z","id","Shape","fill","#B5B7B9","fill-rule","nonzero"],["viewBox","0 0 87 88","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"sorting__icon"],["id","noun_new_258297","transform","translate(-6.000000, -6.000000)"],["id","Rectangle-26","x","0","y","0","width","99","height","99"],["d","M93,49.475 C93,48.875 92.7,48.375 92.3,48.075 L82,40.775 L87.3,29.275 C87.5,28.775 87.5,28.175 87.2,27.675 C86.9,27.175 86.4,26.875 85.8,26.775 L73.2,25.675 L72.1,13.075 C72,12.475 71.7,11.975 71.2,11.675 C70.7,11.375 70.1,11.375 69.6,11.575 L58.1,16.875 L50.9,6.675 C50.2,5.775 48.7,5.775 48.1,6.675 L40.8,16.975 L29.3,11.675 C28.8,11.475 28.2,11.475 27.7,11.775 C27.2,12.075 26.9,12.575 26.8,13.175 L25.7,25.775 L13.1,26.875 C12.5,26.975 12,27.275 11.7,27.775 C11.4,28.275 11.4,28.875 11.6,29.375 L16.9,40.875 L6.7,48.075 C6.2,48.375 6,48.975 6,49.475 C6,49.975 6.3,50.575 6.7,50.875 L17,58.175 L11.7,69.675 C11.5,70.175 11.5,70.775 11.8,71.275 C12.1,71.775 12.6,72.075 13.2,72.175 L25.8,73.275 L26.9,85.875 C27,86.475 27.3,86.975 27.8,87.275 C28.3,87.575 28.9,87.575 29.4,87.375 L40.9,82.075 L48.2,92.375 C48.5,92.875 49.1,93.075 49.6,93.075 C50.2,93.075 50.7,92.775 51,92.375 L58.3,82.075 L69.8,87.375 C70.3,87.575 70.9,87.575 71.4,87.275 C71.9,86.975 72.2,86.475 72.3,85.875 L73.4,73.275 L86,72.175 C86.6,72.075 87.1,71.775 87.4,71.275 C87.7,70.775 87.7,70.175 87.5,69.675 L82.2,58.175 L92.5,50.875 C92.8,50.575 93,49.975 93,49.475 Z","id","Shape","fill","#B5B7B9","fill-rule","nonzero"],["viewBox","0 0 64 75","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"sorting__icon"],["id","Group-29","transform","translate(-6.000000, -6.000000)"],["id","Rectangle-27","x","0","y","0","width","76","height","88"],["id","Rectangle-15","fill","#4264d0","x","6","y","51","width","18","height","30","rx","3"],["id","Rectangle-15","fill","#4264d0","x","52","y","41","width","18","height","40","rx","3"],["id","Group-30","transform","translate(22.000000, 6.000000)","fill","#B5B7B9"],["d","M25,25.622289 L25,72 C25,73.6568542 23.6568542,75 22,75 L10,75 C8.34314575,75 7,73.6568542 7,72 L7,25.622289 L2.36204465,25.622289 C1.49020407,25.622289 0.689053271,25.1551552 0.288477869,24.3843844 C-0.135660791,23.6369703 -0.0885342735,22.7027027 0.406294164,22.002002 L14.5442495,0.980980981 C15.4160901,-0.32699366 17.5839099,-0.32699366 18.4557505,0.980980981 L32.5937058,22.002002 C33.0885343,22.7027027 33.1356608,23.6369703 32.7115221,24.3843844 C32.3109467,25.1551552 31.5097959,25.622289 30.6379553,25.622289 L25,25.622289 Z","id","Combined-Shape"],["id","noun_Arrow_1966946","transform","translate(22.000000, 6.000000)"],["role","status",1,"spinner-border","sort-spinner"],[1,"sorting__options"],[3,"timeline","take","hideReplies","deleteComment"],[1,"no-comments"],["width","79px","height","78px","viewBox","0 0 79 78","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"no-comments__icon"],[1,"no-comments__header"],[1,"no-comments__opinion"],[1,"spinner-container"],["infiniteScroll","",1,"search-results",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"]],template:function(t,e){1&t&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.rc(3,C,8,0,"div",3),c.rc(4,x,7,0,"div",4),c.Pb(5,"article"),c.Pb(6,"div",5),c.Pb(7,"div",6),c.Xb("click",(function(){return e.goToUser()})),c.Nb(8,"img",7),c.Pb(9,"div",8),c.Pb(10,"span",9),c.sc(11),c.Ob(),c.Pb(12,"span",10),c.sc(13),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(14,"div",11),c.Pb(15,"p",12),c.sc(16),c.Ob(),c.Ob(),c.rc(17,B,3,2,"div",13),c.rc(18,T,7,3,"div",14),c.rc(19,j,7,4,"div",15),c.rc(20,z,3,2,"div",16),c.rc(21,A,3,2,"div",17),c.Ob(),c.Pb(22,"div",18),c.Pb(23,"div",19),c.Pb(24,"button",20),c.Xb("click",(function(t){return e.like(t)})),c.rc(25,Z,6,0,"svg",21),c.rc(26,F,5,0,"svg",22),c.rc(27,R,2,3,"span",23),c.rc(28,W,2,0,"span",24),c.Ob(),c.Ob(),c.Pb(29,"div",25),c.Pb(30,"a",26),c.ac(),c.Pb(31,"svg",27),c.Pb(32,"title"),c.sc(33,"comment"),c.Ob(),c.Pb(34,"desc"),c.sc(35,"Created with Sketch."),c.Ob(),c.Pb(36,"g",28),c.Pb(37,"g",29),c.Nb(38,"rect",30),c.Nb(39,"path",31),c.Ob(),c.Ob(),c.Ob(),c.rc(40,Q,2,1,"span",32),c.rc(41,$,2,0,"span",32),c.Ob(),c.Ob(),c.Zb(),c.Pb(42,"div",33),c.rc(43,J,5,0,"button",34),c.rc(44,G,5,0,"button",34),c.Ob(),c.Pb(45,"div",35),c.Pb(46,"button",36),c.Xb("click",(function(){return e.toggleShareBottom=!0})),c.ac(),c.Pb(47,"svg",37),c.Nb(48,"path",38),c.Ob(),c.Zb(),c.Pb(49,"span",39),c.sc(50,"Share"),c.Ob(),c.Ob(),c.rc(51,K,34,2,"div",40),c.Ob(),c.Ob(),c.Ob(),c.Pb(52,"div",41),c.rc(53,Y,8,0,"div",42),c.rc(54,nt,11,8,"div",43),c.Pb(55,"div",44),c.Pb(56,"div",45),c.Pb(57,"span",46),c.Xb("click",(function(){return e.toggleSort=!e.toggleSort})),c.sc(58,"SORT"),c.Ob(),c.Pb(59,"button",47),c.Xb("click",(function(){return e.toggleSort=!e.toggleSort})),c.rc(60,it,5,0,"svg",48),c.rc(61,ot,5,0,"svg",49),c.rc(62,ct,9,0,"svg",50),c.Pb(63,"span",51),c.sc(64),c.Ob(),c.ac(),c.Pb(65,"svg",52),c.Nb(66,"path",53),c.Ob(),c.Ob(),c.rc(67,st,1,0,"div",54),c.rc(68,rt,37,6,"div",55),c.Ob(),c.Ob(),c.Zb(),c.Pb(69,"div",56),c.rc(70,at,1,3,"app-take-timeline-item",57),c.Ob(),c.rc(71,lt,14,0,"div",58),c.rc(72,gt,2,0,"div",59),c.rc(73,dt,1,2,"div",60),c.Ob(),c.Ob(),c.Ob()),2&t&&(c.Bb(3),c.hc("ngIf",!e.takeService.fullScreen),c.Bb(1),c.hc("ngIf",e.sticky&&!e.takeService.fullScreen),c.Bb(4),c.hc("src",null==e.take||null==e.take.user?null:e.take.user.profilePictureThumbnail,c.oc),c.Bb(3),c.tc(null==e.take||null==e.take.user?null:e.take.user.username),c.Bb(2),c.vc("",null==e.take?null:e.take.created," \xb7 ",null==e.take?null:e.take.league,""),c.Bb(2),c.hc("id","text-"+e.take._id),c.Bb(1),c.tc(null==e.take?null:e.take.take),c.Bb(1),c.hc("ngIf","Poll"==e.take.type),c.Bb(1),c.hc("ngIf","Link"==(null==e.take?null:e.take.type)&&"video"!=(null==e.take?null:e.take.urlType)&&(null==e.take?null:e.take.thumbnail_width)>500&&"Twitter"!=(null==e.take?null:e.take.provider_name)),c.Bb(1),c.hc("ngIf","Link"==e.take.type&&(e.take.thumbnail_width<500||"Twitter"==e.take.provider_name||"video"==e.take.urlType||!e.take.thumbnail_url)),c.Bb(1),c.hc("ngIf",e.take.picture),c.Bb(1),c.hc("ngIf",e.take.video),c.Bb(4),c.hc("ngIf",null==e.take?null:e.take.likedByUser),c.Bb(1),c.hc("ngIf",!(null!=e.take&&e.take.likedByUser)),c.Bb(1),c.hc("ngIf",e.take.count>0),c.Bb(1),c.hc("ngIf",0==e.take.count),c.Bb(12),c.hc("ngIf",e.take.replies>0),c.Bb(1),c.hc("ngIf",0==e.take.replies),c.Bb(2),c.hc("ngIf",!e.take.saved),c.Bb(1),c.hc("ngIf",e.take.saved),c.Bb(7),c.hc("ngIf",e.toggleShareBottom),c.Bb(2),c.hc("ngIf",!e.authService.currentUser),c.Bb(1),c.hc("ngIf",e.authService.currentUser),c.Bb(6),c.hc("ngIf",e.hot),c.Bb(1),c.hc("ngIf",e.new),c.Bb(1),c.hc("ngIf",e.top),c.Bb(2),c.tc(e.sortBy),c.Bb(3),c.hc("ngIf",e.loadingDiscussions),c.Bb(1),c.hc("ngIf",e.toggleSort),c.Bb(2),c.hc("ngForOf",e.timelines),c.Bb(1),c.hc("ngIf",0==e.timelines.length&&!e.loadingDiscussions),c.Bb(1),c.hc("ngIf",e.showInfiniteSpinner),c.Bb(1),c.hc("ngIf",e.enableInfinite))},directives:[i.j,i.i,i.k,s.a,k.a,k.j,k.l,_.a,P.a],styles:[".poll-container[_ngcontent-%COMP%]{margin:16px}.button-3d[_ngcontent-%COMP%], .poll-container[_ngcontent-%COMP%]   div.threed-btn[_ngcontent-%COMP%]{height:35px}.button-3d[_ngcontent-%COMP%]{margin:8px 0;border-radius:50px;border:1px solid #4263d0;overflow:hidden;width:100%;display:flex;align-items:center;justify-content:center;padding:0 12px;position:relative;color:#4263d0;font-size:1.5rem;cursor:pointer}.button-3d[_ngcontent-%COMP%]:active, .button-3d[_ngcontent-%COMP%]:hover{background-color:rgba(66,99,208,.29)}.button-3d[_ngcontent-%COMP%]:hover{color:#4263d0}.progress-outer[_ngcontent-%COMP%]{margin:8px 0;border-radius:50px;background:#ebedf2;overflow:hidden;height:35px;width:100%;display:flex;align-items:center;justify-content:flex-start;position:relative;color:#262729;font-size:1.5rem}span.percentage[_ngcontent-%COMP%]{right:20px;top:20px;top:50%;transform:translateY(-50%)}.percentage-option[_ngcontent-%COMP%], span.percentage[_ngcontent-%COMP%]{position:absolute;color:#262729;transition:color .5s}.percentage-option[_ngcontent-%COMP%]{margin-left:20px;display:flex;align-items:center;justify-content:center}.checked[_ngcontent-%COMP%]{margin-left:10px;margin-top:2px;font-weight:700;height:15px;width:15px;display:inline-block}.inner[_ngcontent-%COMP%]{height:40px}.no-effect[_ngcontent-%COMP%], .progress-inner[_ngcontent-%COMP%]{height:40px;border-radius:4px 0 0 5px;white-space:nowrap;overflow:hidden;background-color:#d1d3d8;text-align:left;font-weight:600}.progress-inner[_ngcontent-%COMP%]{-webkit-animation:slideInFromLeft .6s ease-out 0s 1;animation:slideInFromLeft .6s ease-out 0s 1}@-webkit-keyframes slideInFromLeft{0%{width:0}to{width:100%}}@keyframes slideInFromLeft{0%{width:0}to{width:100%}}.user-in-option[_ngcontent-%COMP%]{background-color:#23ce70}.timeline-list[_ngcontent-%COMP%]{overflow-y:auto}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sorting__text[_ngcontent-%COMP%]{display:inline-block;margin:0 5px;font-size:1.5rem;font-weight:500;color:#7c7c7c}.sort-active[_ngcontent-%COMP%]{color:#4264d0}.sorting__icon[_ngcontent-%COMP%]{font-size:18px;color:#7c7c7c;margin-right:5px}.post-actions__action--share[_ngcontent-%COMP%]{position:relative}.sorting__button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;text-decoration:none!important}.share-post--aside[_ngcontent-%COMP%]{position:relative}.sorting__options--aside[_ngcontent-%COMP%]{background:#fff;position:absolute;top:0;left:-113px;width:250px;z-index:300;border-radius:5px;box-shadow:0 2px 4px 0 rgba(28,28,28,.2);overflow:hidden}.atom.svg.twitter[_ngcontent-%COMP%]{background:#1da1f2}.atom.svg.facebook[_ngcontent-%COMP%]{background:#3b579d}.atom.svg.link[_ngcontent-%COMP%]{background:#000}.share-icon-container[_ngcontent-%COMP%]{height:30px;width:30px;display:inline-block;border-radius:50px;overflow:hidden;margin-right:5px}.atom.svg[_ngcontent-%COMP%]{padding:7px;box-sizing:border-box;cursor:pointer;height:100%;width:100%;top:0;left:0;fill:#fff}.bi-caret-down-fill[_ngcontent-%COMP%]{color:#7c7c7c}.sorting__item[_ngcontent-%COMP%]{padding:10px;width:100%;height:100%;cursor:pointer}.sorting__item[_ngcontent-%COMP%]:hover{background:#d8d8d8}.loading-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:5px;height:32px}article[_ngcontent-%COMP%]{margin-bottom:25px}.league[_ngcontent-%COMP%]{font-weight:700}.background-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;min-height:100vh;padding-top:30px;padding-bottom:30px}.background-container[_ngcontent-%COMP%]   .take-container[_ngcontent-%COMP%]{border-radius:8px;background:#fff;overflow:hidden;width:700px}.background-container   [_nghost-%COMP%]     iframe{width:100%;height:100%}.background-container[_ngcontent-%COMP%]   .sticky[_ngcontent-%COMP%]{position:fixed;top:55px;background:#fff;width:700px;z-index:100}.background-container[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{font-size:30px;margin-right:20px;cursor:pointer}.background-container[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]{height:30px;font-size:1.5rem;display:flex;align-items:center;justify-content:flex-start;padding:0 10px;border-bottom:1px solid #edeff1;margin-bottom:16px;height:50px}.background-container[_ngcontent-%COMP%]   .take[_ngcontent-%COMP%]{background:#fff;margin-bottom:1px;padding:0 0 16px}.background-container[_ngcontent-%COMP%]   .first-take[_ngcontent-%COMP%]{border-radius:8px 8px 0 0}.background-container[_ngcontent-%COMP%]   div.header-link[_ngcontent-%COMP%]{display:table;padding:16px 0 10px 16px;height:59px}.background-container[_ngcontent-%COMP%]   .provider-name[_ngcontent-%COMP%]{text-transform:lowercase}.background-container[_ngcontent-%COMP%]   .cero-likes[_ngcontent-%COMP%], .background-container[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%], .background-container[_ngcontent-%COMP%]   .replies-text[_ngcontent-%COMP%]{font-weight:500}.background-container[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{font-weight:700;display:inline-block;margin-right:3px}.background-container[_ngcontent-%COMP%]   .more-icon[_ngcontent-%COMP%]{margin-right:16px}.background-container[_ngcontent-%COMP%]   .top-thread[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:59px}.background-container[_ngcontent-%COMP%]   .link-container-detail[_ngcontent-%COMP%]{margin:16px;border-radius:10px;overflow:hidden;min-height:360px;border:1px solid #dcdcdc;display:flex;flex-direction:column;cursor:pointer}.background-container[_ngcontent-%COMP%]   .link-container-detail[_ngcontent-%COMP%]   .thumbnail-link[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-bottom:1px solid #dcdcdc;height:360px;border-radius:10px 10px 0 0;width:100%}.background-container[_ngcontent-%COMP%]   .link-container-detail[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;height:170px;width:100%;border-bottom:1px solid #dcdcdc;border-radius:10px 10px 0 0}.background-container[_ngcontent-%COMP%]   .link-container-detail[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]{min-height:80px;display:flex;align-items:flex-start;justify-content:space-evenly;flex-direction:column;padding:8px;font-size:1.7rem;line-height:130%}.background-container[_ngcontent-%COMP%]   .link-container-detail[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .url-provider[_ngcontent-%COMP%]{color:#a9abad}.background-container[_ngcontent-%COMP%]   .link-container-detail[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .url-title[_ngcontent-%COMP%]{color:#14171a}.background-container[_ngcontent-%COMP%]   .small-link-container[_ngcontent-%COMP%]{margin:16px;border-radius:10px;overflow:hidden;border:1px solid #dcdcdc;display:flex;height:90px;cursor:pointer}.background-container[_ngcontent-%COMP%]   .small-link-container[_ngcontent-%COMP%]   .alt-thumbnail-link[_ngcontent-%COMP%], .background-container[_ngcontent-%COMP%]   .small-link-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;height:90px;width:90px;border-right:1px solid #dcdcdc}.background-container[_ngcontent-%COMP%]   .small-link-container[_ngcontent-%COMP%]   .alt-thumbnail-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.background-container[_ngcontent-%COMP%]   .small-link-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:40px;color:#878e94}.background-container[_ngcontent-%COMP%]   .small-link-container[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]{height:90px;display:flex;align-items:flex-start;justify-content:space-evenly;flex-direction:column;padding:8px 12px;width:100%;font-size:1.7rem;line-height:130%}.background-container[_ngcontent-%COMP%]   .small-link-container[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .url-provider[_ngcontent-%COMP%]{color:#a9abad}.background-container[_ngcontent-%COMP%]   .small-link-container[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   .url-title[_ngcontent-%COMP%]{color:#14171a}.background-container[_ngcontent-%COMP%]   .ago[_ngcontent-%COMP%]{position:absolute;top:18px;right:16px;color:#a2a4a6;font-size:12px}.background-container[_ngcontent-%COMP%]   .transparent[_ngcontent-%COMP%], .background-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .span-userimage[_ngcontent-%COMP%]{vertical-align:middle;display:table-cell}.background-container[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]{border-radius:50%;height:30px;width:30px;-o-object-fit:cover;object-fit:cover}.background-container[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]{display:none}.background-container[_ngcontent-%COMP%]   .league[_ngcontent-%COMP%]{margin-right:3px}.background-container[_ngcontent-%COMP%]   .by-username[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:13px;margin-left:10px;vertical-align:middle;display:table-cell;padding-bottom:4px}.background-container[_ngcontent-%COMP%]   .by-username[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#a1a1a1;font-size:12px;font-weight:400}.background-container[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{height:15px;width:15px;-o-object-fit:contain;object-fit:contain;margin:-3px 1px -2px 4px}.background-container[_ngcontent-%COMP%]   .level-container[_ngcontent-%COMP%]{height:15px}.background-container[_ngcontent-%COMP%]   .discussion[_ngcontent-%COMP%]{padding:0 16px;margin:0;color:#14171a;white-space:pre-wrap}.background-container[_ngcontent-%COMP%]   .discussion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:2.3rem;line-height:135%}.background-container[_ngcontent-%COMP%]   .d-link[_ngcontent-%COMP%]{min-height:75px}.background-container[_ngcontent-%COMP%]   .ion-item-btn[_ngcontent-%COMP%]{border-bottom:1px solid #edeff1;padding-bottom:5px}.background-container[_ngcontent-%COMP%]   ion-icon.heart-icon[_ngcontent-%COMP%]{font-size:16px;margin-right:5px!important}.background-container[_ngcontent-%COMP%]   .comment-icon[_ngcontent-%COMP%]{font-size:15px;margin-right:5px!important}.background-container[_ngcontent-%COMP%]   .comment-div[_ngcontent-%COMP%]{align-items:center;justify-content:center;display:flex}.background-container[_ngcontent-%COMP%]   .cero-likes[_ngcontent-%COMP%]{margin-left:-1px}.background-container[_ngcontent-%COMP%]   .reply-icon[_ngcontent-%COMP%]{font-size:15px;margin-right:5px!important}.background-container[_ngcontent-%COMP%]   .wait-video[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50px;width:50px;transform:translate(-50%,-50%);z-index:91000000;display:flex;align-items:center;justify-content:center}.background-container[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#989aa2}.background-container[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#989aa2}.background-container[_ngcontent-%COMP%]   .custom-btn[_ngcontent-%COMP%]{color:#eb4b59!important}.background-container[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]{font-size:14px;color:#989aa2;font-weight:500}.background-container[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:0;height:0}.background-container[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin-top:10px;height:40px;width:100%;padding:0 18px}.background-container[_ngcontent-%COMP%]   .post-actions__action[_ngcontent-%COMP%]{font-size:1.4rem;padding:5px 0;border-radius:3px;min-width:40px;margin-right:20px}.background-container[_ngcontent-%COMP%]   .post-actions__text[_ngcontent-%COMP%]{margin-left:6px;display:inline-block;color:#7c7c7c;font-weight:400;font-size:1.5rem}.background-container[_ngcontent-%COMP%]   .provider[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);height:20px;position:absolute;bottom:0;right:0;left:0;font-size:12px;color:#fff;padding:0 4px}.background-container[_ngcontent-%COMP%]   .play-img[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:50px;transform:translate(-50%,-50%);z-index:9}.background-container[_ngcontent-%COMP%]   .fake-video-container[_ngcontent-%COMP%]{position:relative}.background-container[_ngcontent-%COMP%]   .fake-video-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px}.background-container[_ngcontent-%COMP%]   .top-video-container[_ngcontent-%COMP%]{margin:16px}.background-container[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{cursor:pointer}.background-container[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   .video-time[_ngcontent-%COMP%]{background:rgba(0,0,0,.61);position:absolute;color:#fff;bottom:10px;left:10px;font-size:12px;padding:2px 5px;border-radius:4px}.background-container[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;border-radius:10px;position:absolute;top:0;left:0}.background-container[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]:focus{outline:none}.background-container[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   img.video-thumb[_ngcontent-%COMP%]{width:100%;border-radius:10px}.background-container[_ngcontent-%COMP%]   .figure-div[_ngcontent-%COMP%]{padding:16px 16px 0}.background-container[_ngcontent-%COMP%]   .take-image-container[_ngcontent-%COMP%]{cursor:pointer;position:relative}.background-container[_ngcontent-%COMP%]   .take-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:10px;position:absolute;top:0;left:0;-o-object-fit:cover;object-fit:cover}.background-container[_ngcontent-%COMP%]   .video-container-not-yt[_ngcontent-%COMP%]{margin:16px 0;height:220px;position:relative}.background-container[_ngcontent-%COMP%]   .video-container-not-yt[_ngcontent-%COMP%]   img.thumbnail[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;height:100%;width:100%}.background-container[_ngcontent-%COMP%]   .video-container-not-yt[_ngcontent-%COMP%]   .play[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:65px}.background-container[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin-bottom:14px;padding:16px;cursor:pointer}.background-container[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .user__pfp[_ngcontent-%COMP%]{height:36px;width:36px;border-radius:50px;-o-object-fit:cover;object-fit:cover;margin-right:10px}.background-container[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .user__username[_ngcontent-%COMP%]:hover{text-decoration:underline}.background-container[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .user__text[_ngcontent-%COMP%]{margin-top:-2px;display:flex;font-size:1.4rem;font-weight:500;flex-direction:column;align-items:flex-start;justify-content:center}.background-container[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .user__post-date[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:400;color:#7c7c7c}.background-container[_ngcontent-%COMP%]   .take-actions-icon[_ngcontent-%COMP%]{height:18px}.background-container[_ngcontent-%COMP%]   .take-actions-icon[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{fill:#7c7c7c}.background-container[_ngcontent-%COMP%]   .heart-div[_ngcontent-%COMP%]:hover > .post-actions__text[_ngcontent-%COMP%]{color:#eb4b59!important}.background-container[_ngcontent-%COMP%]   .heart-div[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#eb4b59!important}.background-container[_ngcontent-%COMP%]   .heart-div[_ngcontent-%COMP%]:hover, .background-container[_ngcontent-%COMP%]   .liked[_ngcontent-%COMP%]{color:#eb4b59!important}.background-container[_ngcontent-%COMP%]   .icon-div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;font-size:1.4rem}.background-container[_ngcontent-%COMP%]   .post-actions__action--share[_ngcontent-%COMP%]{position:relative}.background-container[_ngcontent-%COMP%]   .share-actions-icon--bottom[_ngcontent-%COMP%]{fill:#a1a4a6;height:25px!important}.background-container[_ngcontent-%COMP%]   .save-actions-icon--bottom-unfilled[_ngcontent-%COMP%]{fill:#a1a4a6;margin-top:1px;height:19px!important}.background-container[_ngcontent-%COMP%]   .save-actions-icon--bottom[_ngcontent-%COMP%]{fill:#7c7c7c;margin-top:1px;height:19px!important}.background-container[_ngcontent-%COMP%]   .comments-div[_ngcontent-%COMP%]:hover, .background-container[_ngcontent-%COMP%]   .save-div[_ngcontent-%COMP%]:hover   .post-actions__text[_ngcontent-%COMP%], .background-container[_ngcontent-%COMP%]   .share-div[_ngcontent-%COMP%]:hover   .post-actions__text[_ngcontent-%COMP%]{color:#a5a4a4!important}.background-container[_ngcontent-%COMP%]   .comments-div[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .background-container[_ngcontent-%COMP%]   .share-div[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#a5a4a4!important}button[_ngcontent-%COMP%]{background:none;color:inherit;border:none;padding:0;font:inherit;cursor:pointer;outline:inherit}.add-comment[_ngcontent-%COMP%]{border-radius:4px;overflow:hidden;background:#fff;border:1px solid #dcdddf;flex:1}.add-comment[_ngcontent-%COMP%]   .add-comment__textarea-container[_ngcontent-%COMP%]{overflow:hidden auto;padding:8px 0;resize:vertical}.add-comment[_ngcontent-%COMP%]   .add-comment__textarea[_ngcontent-%COMP%]:focus{opacity:1}.add-comment[_ngcontent-%COMP%]   .add-comment__textarea[_ngcontent-%COMP%]{overflow-wrap:break-word;height:56px;opacity:.5;font-size:1.5rem;font-weight:400;line-height:20px;background:transparent;border:none;box-sizing:border-box;display:block;outline:none;resize:none;width:100%;height:100%;padding:0 16px}.add-comment[_ngcontent-%COMP%]   .mid-textarea[_ngcontent-%COMP%]{height:100%}.send-comment[_ngcontent-%COMP%]{height:42px!important;padding:3px 0;display:flex;height:100%;align-items:center;justify-content:flex-end}.send-comment[_ngcontent-%COMP%]   .send-comment__button[_ngcontent-%COMP%]{line-height:normal;margin:4px 8px;min-height:27px;min-width:96px;order:2;background:#4264d0;border:1px solid transparent;border-radius:4px;box-sizing:border-box;text-align:center;text-decoration:none;font-size:12px;font-weight:700;line-height:24px;text-transform:uppercase;padding:3px 16px;color:#fff}.send-comment[_ngcontent-%COMP%]   .send-comment__button[_ngcontent-%COMP%]:hover{opacity:.5}.focused[_ngcontent-%COMP%]{border:1px solid #000!important}.add-comment-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start}.add-comment-container[_ngcontent-%COMP%]   .add-comment-user[_ngcontent-%COMP%]{margin-right:15px;width:40px}.add-comment-container[_ngcontent-%COMP%]   .add-comment-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50px;-o-object-fit:cover;object-fit:cover}.sorting[_ngcontent-%COMP%]{height:40px;margin-top:20px;padding-bottom:20px;border-bottom:1px solid #dcdddf}.sorting__container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:flex-start;height:100%;cursor:pointer;position:relative}.sorting__container[_ngcontent-%COMP%]   .sorting__icon[_ngcontent-%COMP%]{width:13px}.sorting__container[_ngcontent-%COMP%]   .sorting__icon[_ngcontent-%COMP%]   #Rectangel-15[_ngcontent-%COMP%], .sorting__container[_ngcontent-%COMP%]   .sorting__icon[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#4264d0;stroke:#4264d0}.sorting__container[_ngcontent-%COMP%]   .sorting__text[_ngcontent-%COMP%]{display:inline-block;margin:0 5px;font-size:1.3rem;font-weight:700;color:#7c7c7c}.sorting__container[_ngcontent-%COMP%]   .sort-active[_ngcontent-%COMP%]{color:#4264d0}.sorting__container[_ngcontent-%COMP%]   .sorting__options[_ngcontent-%COMP%]{background:#fff;position:absolute;top:33px;right:-15px;width:90px;z-index:300;border-radius:5px;box-shadow:0 2px 4px 0 rgba(28,28,28,.2);overflow:hidden}.sorting__container[_ngcontent-%COMP%]   .bi-caret-down-fill[_ngcontent-%COMP%]{color:#7c7c7c}.sorting__container[_ngcontent-%COMP%]   .sorting__item[_ngcontent-%COMP%]{padding:15px 10px;width:100%;height:100%}.sorting__container[_ngcontent-%COMP%]   .sorting__item[_ngcontent-%COMP%]:hover{background:#d8d8d8}.sorting__container[_ngcontent-%COMP%]   .sorting__header[_ngcontent-%COMP%]{display:inline-block;font-weight:700;letter-spacing:.5px;text-transform:uppercase;font-size:13px;color:#7c7c7c;margin-right:10px}.sorting__container[_ngcontent-%COMP%]   .sorting__button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.related-take[_ngcontent-%COMP%]{padding:16px 16px 0}.spinner-container[_ngcontent-%COMP%]{text-align:center;padding:16px 0 32px}.spinner-container[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{height:28px;width:28px;color:#333}.sort-spinner[_ngcontent-%COMP%]{margin-left:20px;height:15px;width:15px;color:#7b7b7b}.disabled[_ngcontent-%COMP%]{opacity:.6}.no-comments[_ngcontent-%COMP%]{height:250px;display:flex;align-items:center;justify-content:center;flex-direction:column;opacity:.5}.no-comments[_ngcontent-%COMP%]   .no-comments__icon[_ngcontent-%COMP%]{height:27px!important;width:32px;padding:2px}.no-comments[_ngcontent-%COMP%]   .no-comments__icon[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#4264d0}.no-comments[_ngcontent-%COMP%]   .no-comments__header[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.login-text[_ngcontent-%COMP%], .no-comments[_ngcontent-%COMP%]   .no-comments__opinion[_ngcontent-%COMP%]{font-size:1.6rem}.login-text[_ngcontent-%COMP%]{color:#7c7c7c;font-weight:500}.login-comment[_ngcontent-%COMP%]{align-items:center;border-radius:4px;border:1px solid #dcdddf;display:flex;justify-content:space-between;padding:15px 10px;margin-bottom:50px}.login-buttons[_ngcontent-%COMP%]{display:flex;margin-left:10px}.login[_ngcontent-%COMP%]{height:34px;margin-right:15px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.2rem;border:1px solid #4264d0;color:#4264d0;padding:0 20px;border-radius:5px;cursor:pointer;text-transform:uppercase}.login[_ngcontent-%COMP%]:hover{background:rgba(64,97,211,.31)}.signup[_ngcontent-%COMP%]{height:34px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.2rem;border:1px solid #4264d0;background:#4264d0;color:#fff;padding:0 20px;border-radius:5px;cursor:pointer;text-transform:uppercase}.signup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-top:1px}.signup[_ngcontent-%COMP%]:hover{background:#93a8ec;border:1px solid #93a8ec}@media only screen and (max-width:800px){.add-comment-user[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width:800px){.background-container[_ngcontent-%COMP%]{padding-top:0}.login-buttons[_ngcontent-%COMP%]{flex-direction:column!important;align-items:center!important;justify-content:center!important}.login-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:38px!important}.login[_ngcontent-%COMP%]{margin-right:0;margin-bottom:5px;width:100%;padding:2px}.take-container[_ngcontent-%COMP%]{border-radius:0}.discussion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.9rem!important}.add-comment-user[_ngcontent-%COMP%]{display:none}}"]}),t})();var bt=n("LRne"),ut=n("lJxs"),pt=n("vkgz"),mt=n("JIr8"),ft=n("jhN1");const kt=[{path:"",component:ht,resolve:{data:(()=>{class t{constructor(t,e,n,i,o){this.takeService=t,this.authService=e,this.router=n,this.platformId=i,this.transferState=o}resolve(t,e){let n=t.params.id;const o=Object(ft.g)("take-"+n);if(Object(i.p)(this.platformId))return this.takeService.getTakeDBUniversal(n).pipe(Object(ut.a)(t=>({take:t})),Object(pt.a)(t=>{this.transferState.set(o,t.take)}),Object(mt.a)(t=>(Object(i.o)(this.platformId)&&(this.authService.errorMessage="Not found",setTimeout(()=>{this.authService.errorMessage=null},5e3)),this.router.navigateByUrl("/"),Object(bt.a)({error:t}))));if(this.transferState.hasKey(o)){const t=this.transferState.get(o,null);return this.transferState.remove(o),Object(bt.a)({take:t})}return this.takeService.getTakeDB(n).pipe(Object(ut.a)(t=>({take:t})),Object(mt.a)(t=>(Object(i.o)(this.platformId)&&(this.authService.errorMessage="Not found",setTimeout(()=>{this.authService.errorMessage=null},5e3)),this.router.navigateByUrl("/"),Object(bt.a)({error:t}))))}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(h.a),c.Tb(a.a),c.Tb(o.f),c.Tb(c.B),c.Tb(ft.f))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}];let _t=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(kt)],o.j]}),t})();var Pt=n("PCNd");let Ot=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[i.b,Pt.a,s.c,P.b,_t]]}),t})()}}]);