function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"a9/o":function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var i=e("tk/3"),o=e("z6cu"),c=e("lJxs"),r=e("JIr8"),a=e("fXoL"),s=e("8PDw"),l=function(){var t=function(){function t(n,e){_classCallCheck(this,t),this.http=n,this.authService=e,this.baseUrl="https://www.discussthegame.com/api/play-discussions"}return _createClass(t,[{key:"deleteTriviaAnswer",value:function(t){var n=new i.d({"Content-Type":"application/json"});return n=n.append("Authorization",this.authService.token),this.http.post(this.baseUrl+"/i/delete-trivia-answer",t,{headers:n}).pipe(Object(c.a)((function(t){return t.succeded})),Object(r.a)(this.handleError))}},{key:"postTriviaAnswer",value:function(t,n,e,o,c){var a=new i.d,s={headers:a=(a=a.append("Content-Type","application/json")).append("Authorization",this.authService.token)};return c&&(t.aId=c),t.replyText=o,this.http.post(this.baseUrl+"/trivias/"+e+"/answers",t,s).pipe(Object(r.a)(this.handleError))}},{key:"deleteTriviaComment",value:function(t){var n=new i.d({"Content-Type":"application/json"});return n=n.append("Authorization",this.authService.token),this.http.post(this.baseUrl+"/i/delete-trivia-comment",t,{headers:n}).pipe(Object(c.a)((function(t){return t.succeded})),Object(r.a)(this.handleError))}},{key:"getNewestTriviaDiscussions",value:function(t,n){var e=new i.d({"Content-Type":"application/json"});return e=e.append("Authorization",this.authService.token),this.http.get(this.baseUrl+"/trivias/"+t+"/new?skip="+n,{headers:e}).pipe(Object(r.a)(this.handleError))}},{key:"getTriviaDiscussions",value:function(t,n){var e=new i.d({"Content-Type":"application/json"});return e=e.append("Authorization",this.authService.token),this.http.get(this.baseUrl+"/trivias/"+t+"?skip="+n,{headers:e}).pipe(Object(r.a)(this.handleError))}},{key:"getTopTriviaDiscussions",value:function(t,n){var e=new i.d({"Content-Type":"application/json"});return e=e.append("Authorization",this.authService.token),this.http.get(this.baseUrl+"/trivias/"+t+"/top?skip="+n,{headers:e}).pipe(Object(r.a)(this.handleError))}},{key:"postTriviaDiscussion",value:function(t,n){var e=new i.d;return e=(e=e.append("Content-Type","application/json")).append("Authorization",this.authService.token),this.http.post(this.baseUrl+"/trivias/"+n,t,{headers:e}).pipe(Object(r.a)(this.handleError))}},{key:"handleError",value:function(t){console.error("server error:",t);var n;return n=t instanceof i.c?"Oops! Something went wrong":"Error Code: ".concat(t.status,"\nMessage: ").concat(t.message),Object(o.a)(n)}}]),t}();return t.\u0275fac=function(n){return new(n||t)(a.Tb(i.a),a.Tb(s.a))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},wMrW:function(t,n,e){"use strict";e.r(n),e.d(n,"NotificationsModule",(function(){return N}));var i=e("ofXK"),o=e("PCNd"),c=e("3Pt+"),r=e("tyNb"),a=e("RBmT"),s=e("fXoL"),l=e("8PDw"),d=e("jhN1"),g=e("q/xC"),f=e("IXe5"),u=e("fwZU"),p=e("a9/o"),m=e("Flam");function b(t,n){if(1&t){var e=s.Qb();s.Pb(0,"div",7),s.Pb(1,"p",8),s.Pb(2,"span",9),s.Xb("click",(function(){return s.mc(e),s.bc().goToUser()})),s.sc(3),s.Ob(),s.sc(4," is now following you "),s.Pb(5,"span",10),s.sc(6),s.Ob(),s.Ob(),s.Ob()}if(2&t){var i=s.bc();s.Bb(3),s.tc(null==i.notification||null==i.notification.user?null:i.notification.user.username),s.Bb(3),s.tc(null==i.notification?null:i.notification.created)}}function h(t,n){if(1&t){var e=s.Qb();s.Pb(0,"div",7),s.Pb(1,"p",11),s.Pb(2,"span",9),s.Xb("click",(function(){return s.mc(e),s.bc().goToUser()})),s.sc(3),s.Ob(),s.sc(4," commented on your post "),s.Pb(5,"span",9),s.Xb("click",(function(t){s.mc(e);var n=s.bc();return n.goToThread(n.notification,t)})),s.sc(6),s.Ob(),s.sc(7),s.Pb(8,"span",10),s.sc(9),s.Ob(),s.Ob(),s.Ob()}if(2&t){var i=s.bc();s.Bb(3),s.tc(null==i.notification||null==i.notification.user?null:i.notification.user.username),s.Bb(3),s.uc("",null==i.notification?null:i.notification.titleToShow," "),s.Bb(1),s.uc("",null==i.notification||null==i.notification.notification?null:i.notification.notification.discussion," "),s.Bb(2),s.tc(null==i.notification||null==i.notification.notification?null:i.notification.notification.created)}}function x(t,n){if(1&t){var e=s.Qb();s.Pb(0,"div",7),s.Pb(1,"p",11),s.Pb(2,"span",9),s.Xb("click",(function(){return s.mc(e),s.bc().goToUser()})),s.sc(3),s.Ob(),s.sc(4," commented on your discussion "),s.Pb(5,"span",9),s.Xb("click",(function(t){s.mc(e);var n=s.bc();return n.goToTake(n.notification,t)})),s.sc(6),s.Ob(),s.sc(7),s.Pb(8,"span",10),s.sc(9),s.Ob(),s.Ob(),s.Ob()}if(2&t){var i=s.bc();s.Bb(3),s.tc(null==i.notification||null==i.notification.user?null:i.notification.user.username),s.Bb(3),s.uc("",null==i.notification?null:i.notification.titleToShow," "),s.Bb(1),s.uc("",null==i.notification||null==i.notification.notification?null:i.notification.notification.discussion," "),s.Bb(2),s.tc(null==i.notification||null==i.notification.notification?null:i.notification.notification.created)}}function O(t,n){if(1&t){var e=s.Qb();s.Pb(0,"div",7),s.Pb(1,"p",11),s.Pb(2,"span",9),s.Xb("click",(function(){return s.mc(e),s.bc().goToUser()})),s.sc(3),s.Ob(),s.sc(4," replied to your comment "),s.Pb(5,"i",12),s.sc(6),s.Ob(),s.sc(7),s.Pb(8,"span",10),s.sc(9),s.Ob(),s.Ob(),s.Ob()}if(2&t){var i=s.bc();s.Bb(3),s.tc(null==i.notification||null==i.notification.user?null:i.notification.user.username),s.Bb(3),s.uc('"',null==i.notification?null:i.notification.replyTextToShow,'"'),s.Bb(1),s.uc("\xa0",null==i.notification||null==i.notification.notification?null:i.notification.notification.discussion," "),s.Bb(2),s.tc(null==i.notification||null==i.notification.notification?null:i.notification.notification.created)}}function v(t,n){if(1&t){var e=s.Qb();s.Pb(0,"div",13),s.Pb(1,"button",14),s.Xb("click",(function(){return s.mc(e),s.bc().goToContext()})),s.Pb(2,"div",15),s.sc(3,"Context"),s.Ob(),s.Ob(),s.Pb(4,"button",14),s.Xb("click",(function(){s.mc(e);var t=s.bc();return t.toggleComment=!t.toggleComment})),s.Pb(5,"div",15),s.sc(6,"REPLY"),s.Ob(),s.Ob(),s.Ob()}}function P(t,n){if(1&t){var e=s.Qb();s.Pb(0,"div",16),s.Pb(1,"span",17),s.sc(2,"Log in or create an account to leave a comment"),s.Ob(),s.Pb(3,"div",18),s.Pb(4,"button",19),s.Xb("click",(function(){return s.mc(e),s.bc().goAccess("login")})),s.sc(5,"Log in"),s.Ob(),s.Pb(6,"button",20),s.Xb("click",(function(){return s.mc(e),s.bc().goAccess("signup")})),s.sc(7,"Create account"),s.Ob(),s.Ob(),s.Ob()}}function C(t,n){if(1&t){var e=s.Qb();s.Pb(0,"button",33),s.Xb("click",(function(){return s.mc(e),s.bc(2).replyTo()})),s.Pb(1,"span"),s.sc(2,"Reply"),s.Ob(),s.Ob()}if(2&t){var i=s.bc(2);s.Bb(1),s.Db("disabled",0==i.comment.length)}}function _(t,n){1&t&&(s.Pb(0,"button",34),s.Nb(1,"div",35),s.Ob())}var M=function(){return{standalone:!0}};function y(t,n){if(1&t){var e=s.Qb();s.Pb(0,"div",21),s.Pb(1,"div",22),s.Pb(2,"div",23),s.Nb(3,"img",24),s.Ob(),s.Pb(4,"div",25),s.Pb(5,"div",26),s.Pb(6,"div",27),s.Pb(7,"textarea",28),s.Xb("ngModelChange",(function(t){return s.mc(e),s.bc().comment=t}))("blur",(function(){return s.mc(e),s.bc().commentUnfocused()}))("focus",(function(){return s.mc(e),s.bc().commentFocused()})),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(8,"div",29),s.Pb(9,"button",30),s.Xb("click",(function(){return s.mc(e),s.bc().toggleComment=!1})),s.Pb(10,"span"),s.sc(11,"Cancel"),s.Ob(),s.Ob(),s.rc(12,C,3,2,"button",31),s.rc(13,_,2,0,"button",32),s.Ob(),s.Ob()}if(2&t){var i=s.bc();s.Bb(3),s.hc("src",null==i.authService||null==i.authService.currentUser?null:i.authService.currentUser.profilePicture,s.oc),s.Bb(1),s.Db("focused",i.textareaFocused),s.Bb(3),s.hc("ngModel",i.comment)("ngModelOptions",s.ic(7,M)),s.Bb(5),s.hc("ngIf",!i.sendingComment),s.Bb(1),s.hc("ngIf",i.sendingComment)}}var k,w=((k=function(){function t(n,e,i,o,c,r){_classCallCheck(this,t),this.authService=n,this.router=e,this.threadDiscussionService=i,this.webSocketService=o,this.playDiscussionService=c,this.takeDiscussionService=r,this.toggleComment=!1,this.errorMessage="",this.comment="",this.sendingComment=!1,this.textareaFocused=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"commentFocused",value:function(){this.textareaFocused=!0}},{key:"commentUnfocused",value:function(){this.textareaFocused=!1}},{key:"goToThread",value:function(t,n){this.router.navigate(["/posts",this.notification.thread])}},{key:"goToTake",value:function(t,n){this.router.navigate(["/discussions",this.notification.take])}},{key:"replyTo",value:function(){0!=this.comment.length&&(this.sendingComment=!0,this.notification.take?this.sendTakeComment(this.comment,this.notification):this.notification.thread?this.sendComment(this.comment,this.notification):this.sendTriviaComment(this.comment,this.notification))}},{key:"goAccess",value:function(t){this.authService.toggleAccess=!0,this.authService.register=!0,this.authService.toggleLogin="login"==t}},{key:"defineParent",value:function(t){return"comment"==t.typeOf||"discussion"==t.replyType?t.notification._id:t.parent}},{key:"sendComment",value:function(t,n){var e=this,i={threadId:n.thread,response:t,parent:this.defineParent(n),userMention:n.user._id,playerIds:n.user.playerIds};this.threadDiscussionService.postAnswer(i,n.thread,n.timeline._id,n.notification.discussion,"comment"==n.typeOf?void 0:n.notification._id).subscribe((function(t){e.sendingComment=!1,e.toggleComment=!1,e.comment="",e.webSocketService.emitPost(n.thread,"thread",n.user._id,e.authService.currentUser._id)}),(function(t){e.sendingComment=!1,e.authService.errorMessage=t,setTimeout((function(){e.authService.errorMessage=null}),5e3)}))}},{key:"sendTakeComment",value:function(t,n){var e=this,i={takeId:n.take,response:t,parent:this.defineParent(n),userMention:n.user._id,playerIds:n.user.playerIds};this.takeDiscussionService.postAnswer(i,n.take,n.timeline._id,n.notification.discussion,"comment"==n.typeOf?void 0:n.notification._id).subscribe((function(t){e.comment="",e.sendingComment=!1,e.toggleComment=!1,e.webSocketService.emitPost(n.take,"take",n.user._id,e.authService.currentUser._id)}),(function(t){e.sendingComment=!1,e.authService.errorMessage=t,setTimeout((function(){e.authService.errorMessage=null}),5e3)}))}},{key:"sendTriviaComment",value:function(t,n){var e=this,i={triviaId:n.trivia,response:t,parent:this.defineParent(n),userMention:n.user._id,playerIds:n.user.playerIds};this.playDiscussionService.postTriviaAnswer(i,n.trivia,n.timeline._id,n.notification.discussion,"comment"==n.typeOf?void 0:n.notification._id).subscribe((function(t){e.toggleComment=!1,e.comment="",e.sendingComment=!1,e.webSocketService.emitPost(n.trivia,"trivia",n.user._id,e.authService.currentUser._id)}),(function(t){e.sendingComment=!1,e.authService.errorMessage=t,setTimeout((function(){e.authService.errorMessage=null}),5e3)}))}},{key:"goToUser",value:function(){this.router.navigate(["/u",this.notification.user.username])}},{key:"goToContext",value:function(){"comment"==this.notification.typeOf?this.router.navigate(["/comments",this.notification.notification._id]):(this.authService.scrollTo=this.notification.notification._id,this.router.navigate(["/comments",this.notification.timeline._id]))}}]),t}()).\u0275fac=function(t){return new(t||k)(s.Mb(l.a),s.Mb(r.f),s.Mb(f.a),s.Mb(u.a),s.Mb(p.a),s.Mb(m.a))},k.\u0275cmp=s.Gb({type:k,selectors:[["app-notification-item"]],inputs:{notification:"notification"},decls:10,vars:8,consts:[[1,"notification"],[1,"noti"],[1,"user-picture",3,"src","click"],["class","flex-helper",4,"ngIf"],["class","reply-div",4,"ngIf"],["class","login-comment",4,"ngIf"],["class","reply-box",4,"ngIf"],[1,"flex-helper"],[1,"n-text","follow-text"],[1,"username",3,"click"],[1,"date"],[1,"n-text"],[1,"discussions-text"],[1,"reply-div"],[3,"click"],[1,"reply"],[1,"login-comment"],[1,"login-text"],[1,"login-buttons"],[1,"login",3,"click"],[1,"signup",3,"click"],[1,"reply-box"],[1,"add-comment-container"],[1,"add-comment-user"],["alt","",3,"src"],[1,"add-comment"],[1,"add-comment__textarea-container"],[1,"mid-textarea"],["placeholder","Add a comment","id","",1,"add-comment__textarea",3,"ngModel","ngModelOptions","ngModelChange","blur","focus"],[1,"send-comment"],[1,"cancel-comment__button",3,"click"],["class","send-comment__button",3,"click",4,"ngIf"],["class","send-comment__button loading-button","type","button","disabled","",4,"ngIf"],[1,"send-comment__button",3,"click"],["type","button","disabled","",1,"send-comment__button","loading-button"],["role","status",1,"spinner-border"]],template:function(t,n){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"img",2),s.Xb("click",(function(){return n.goToUser()})),s.Ob(),s.rc(3,b,7,2,"div",3),s.rc(4,h,10,4,"div",3),s.rc(5,x,10,4,"div",3),s.rc(6,O,10,4,"div",3),s.Ob(),s.rc(7,v,7,0,"div",4),s.rc(8,P,8,0,"div",5),s.rc(9,y,14,8,"div",6),s.Ob()),2&t&&(s.Bb(2),s.hc("src",n.notification.user.profilePictureThumbnail,s.oc),s.Bb(1),s.hc("ngIf","follow"==n.notification.typeOf),s.Bb(1),s.hc("ngIf","comment"==n.notification.typeOf&&n.notification.thread),s.Bb(1),s.hc("ngIf","comment"==n.notification.typeOf&&n.notification.take),s.Bb(1),s.hc("ngIf","mention"==n.notification.typeOf),s.Bb(1),s.hc("ngIf","follow"!=n.notification.typeOf),s.Bb(1),s.hc("ngIf",n.toggleComment&&!n.authService.currentUser),s.Bb(1),s.hc("ngIf",n.toggleComment&&n.authService.currentUser))},directives:[i.j,c.a,c.j,c.l],styles:["button[_ngcontent-%COMP%]{background:none;color:inherit;border:none;padding:0;font:inherit;cursor:pointer;outline:inherit}.login-comment[_ngcontent-%COMP%]{align-items:center;border-radius:4px;border:1px solid #dcdddf;display:flex;justify-content:space-between;padding:15px 10px;margin-bottom:50px}.login-buttons[_ngcontent-%COMP%]{display:flex;margin-left:10px}.login[_ngcontent-%COMP%]{height:34px;margin-right:15px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.2rem;border:1px solid #4264d0;color:#4264d0;padding:0 20px;border-radius:5px;cursor:pointer;text-transform:uppercase}.login[_ngcontent-%COMP%]:hover{background:rgba(64,97,211,.31)}.signup[_ngcontent-%COMP%]{height:34px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.2rem;border:1px solid #4264d0;background:#4264d0;color:#fff;padding:0 20px;border-radius:5px;cursor:pointer;text-transform:uppercase}.signup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-top:1px}.signup[_ngcontent-%COMP%]:hover{background:#93a8ec;border:1px solid #93a8ec}.notifications-container[_ngcontent-%COMP%]{width:45%;margin:0 auto;padding:20px 0}.noti[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:16px 16px 0;width:100%}.no-permission[_ngcontent-%COMP%]{background:#f19019;color:#fff;text-align:center;padding:10px}.date[_ngcontent-%COMP%]{color:#b1b1b1}.ion-item-btn[_ngcontent-%COMP%]{border-bottom:1px solid #edeff1}.user-picture[_ngcontent-%COMP%]{height:40px;width:40px;-o-object-fit:cover;object-fit:cover;border-radius:50%;margin-right:10px;cursor:pointer}.flex-helper[_ngcontent-%COMP%]{min-height:40px;display:flex;align-items:center;flex:1}.d-level[_ngcontent-%COMP%]{height:20px;width:20px;-o-object-fit:contain;object-fit:contain;margin:-5px}.username[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.discussions-text[_ngcontent-%COMP%], .username[_ngcontent-%COMP%]{color:#14171a}.fixed-content[_ngcontent-%COMP%]{background:#edeff1}.notifications-icon[_ngcontent-%COMP%]{font-size:80px;margin-bottom:10px}.sign-btn[_ngcontent-%COMP%]{margin-bottom:10px}#sign-up-to[_ngcontent-%COMP%], .log-btn[_ngcontent-%COMP%], .sign-btn[_ngcontent-%COMP%]{font-weight:600}#sign-up-to[_ngcontent-%COMP%]{color:#3e3e3e;font-size:18px;display:inline-block;margin-bottom:10px}.sign-pic[_ngcontent-%COMP%]{height:100px;margin-bottom:20px}#logo[_ngcontent-%COMP%]{width:70%}#sports[_ngcontent-%COMP%]{height:55px}.not-logged[_ngcontent-%COMP%]{padding:16px;text-align:center;background:#fff;border-radius:10px;width:90%;margin:20% auto 0}.no-notifications[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:center;font-weight:600;color:#989898;font-size:20px;padding:0 32px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%}.no-notifications[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:15px;font-weight:600;display:inline-block;text-align:center}.no-notifications[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}#sign-in-btn[_ngcontent-%COMP%]{margin-top:20px;font-weight:600;color:#fff!important}.n-text[_ngcontent-%COMP%]{white-space:pre-wrap;color:#14171a;flex:1;margin:0;font-size:1.5rem!important;text-align:start}.d-created[_ngcontent-%COMP%]{color:#a2a4a6;font-size:14px;display:inline-block;margin-left:5px}.reply-div[_ngcontent-%COMP%]{margin-left:62px;margin-top:15px;display:flex;justify-content:flex-start}.likes[_ngcontent-%COMP%], .reply[_ngcontent-%COMP%]{font-size:14px;color:#a2a4a6;margin-left:5px}.reply[_ngcontent-%COMP%]{margin-right:10px;display:inline-block;margin-top:-1px;color:#7c7c7c;font-size:1.4rem}.game[_ngcontent-%COMP%], .likes[_ngcontent-%COMP%], .reply[_ngcontent-%COMP%]{font-weight:500}.game[_ngcontent-%COMP%]{font-size:12px}#no-games[_ngcontent-%COMP%]{text-align:center;padding-top:50%;font-weight:600;color:#989898;font-size:20px}.ctoast[_ngcontent-%COMP%]{background-color:green;color:#fff;text-align:center}.placeholders[_ngcontent-%COMP%]{position:absolute;top:16px;right:0;bottom:0;left:0}.game[_ngcontent-%COMP%], .placeholder-item[_ngcontent-%COMP%]{height:90px;width:100%;margin-bottom:10px;background:#fff;position:relative;display:flex;align-items:center}.notification[_ngcontent-%COMP%]{padding-bottom:12px;background:#fff;margin-bottom:5px;border:1px solid #d6d6d6;border-radius:5px}.logos-container[_ngcontent-%COMP%], .placeholder-logos-container[_ngcontent-%COMP%]{width:70px;flex-direction:column;display:flex;height:100%;justify-content:center;align-items:center}.placeholder-flex-logos[_ngcontent-%COMP%]{height:40px;width:40px;background:#edeff1;border-radius:50%}.logo[_ngcontent-%COMP%]{height:40px;width:40px;-o-object-fit:contain;object-fit:contain}.placeholder-flex-name-1[_ngcontent-%COMP%]{height:15px;width:100%;background:#edeff1;border-radius:3px;margin-bottom:10px}.placeholder-flex-name-2[_ngcontent-%COMP%]{height:15px;width:70%;background:#edeff1;border-radius:3px}.names-container[_ngcontent-%COMP%], .placeholder-names-container[_ngcontent-%COMP%]{flex:1;padding-right:16px;flex-direction:column;display:flex;height:100%;justify-content:center}.add-comment[_ngcontent-%COMP%]{border-radius:4px;overflow:hidden;background:#fff;border:1px solid #dcdddf;flex:1}.add-comment[_ngcontent-%COMP%]   .add-comment__textarea-container[_ngcontent-%COMP%]{overflow:hidden auto;padding:8px 0;resize:vertical}.add-comment[_ngcontent-%COMP%]   .add-comment__textarea[_ngcontent-%COMP%]:focus{opacity:1}.add-comment[_ngcontent-%COMP%]   .add-comment__textarea[_ngcontent-%COMP%]{overflow-wrap:break-word;height:56px;opacity:.5;font-size:1.5rem;font-weight:400;line-height:20px;background:transparent;border:none;box-sizing:border-box;display:block;outline:none;resize:none;width:100%;height:100%;padding:0 16px}.add-comment[_ngcontent-%COMP%]   .mid-textarea[_ngcontent-%COMP%]{height:100%}.send-comment[_ngcontent-%COMP%]{height:42px;padding:3px 0;display:flex;height:100%;align-items:center;justify-content:flex-end}.send-comment[_ngcontent-%COMP%]   .cancel-comment__button[_ngcontent-%COMP%]{background:transparent;color:grey}.send-comment[_ngcontent-%COMP%]   .cancel-comment__button[_ngcontent-%COMP%], .send-comment[_ngcontent-%COMP%]   .send-comment__button[_ngcontent-%COMP%]{line-height:normal;min-height:27px;min-width:96px;order:2;border:1px solid transparent;border-radius:4px;box-sizing:border-box;text-align:center;text-decoration:none;font-size:12px;font-weight:700;line-height:24px;text-transform:uppercase;padding:3px 16px}.send-comment[_ngcontent-%COMP%]   .send-comment__button[_ngcontent-%COMP%]{margin:4px 8px;background:#4264d0;color:#fff}.send-comment[_ngcontent-%COMP%]   .send-comment__button[_ngcontent-%COMP%]:hover{opacity:.5}.focused[_ngcontent-%COMP%]{border:1px solid #000!important}.add-comment-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;margin-top:10px}.add-comment-container[_ngcontent-%COMP%]   .add-comment-user[_ngcontent-%COMP%]{margin-right:15px;width:40px}.add-comment-container[_ngcontent-%COMP%]   .add-comment-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50px;-o-object-fit:cover;object-fit:cover}.disabled[_ngcontent-%COMP%]{opacity:.6}.reply-box[_ngcontent-%COMP%]{padding:10px 20px 0 65px}"]}),k);function T(t,n){1&t&&(s.Pb(0,"div",4),s.sc(1," You have no notifications "),s.Ob())}function S(t,n){1&t&&s.Nb(0,"app-notification-item",5),2&t&&s.hc("notification",n.$implicit)}var j,I,z,B=[{path:"",component:(j=function(){function t(n,e,i,o){_classCallCheck(this,t),this.authService=n,this.router=e,this.titleService=i,this.likesService=o,this.notifications=[],this.begin=0,this.end=20,this.wait=!0,this.enableInfinite=!0,this.loadingNotis=!0,this.comment="",this.toggleComment=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.getNotis()}},{key:"clearNotifications",value:function(){this.authService.currentUser.notifications=this.authService.currentUser.notifications.filter((function(t){return"message"==t})),this.titleService.setTitle("Discuss the Game: Community-powered platform for sports fans"),this.authService.notifications=0,this.authService.clearNotifications(0,"noti").subscribe((function(t){}),(function(t){}))}},{key:"userHasLiked",value:function(t){return!!this.authService.currentUser&&this.likesService.userHasLiked(t,this.authService.currentUser._id)}},{key:"goToUser",value:function(t,n){t.stopPropagation(),this.router.navigate(["/u",n.username])}},{key:"getNotis",value:function(t){var n=this;this.enableInfinite=!1,this.authService.getNotis().subscribe((function(t){var e=(t=t.filter((function(t){return t.thread||t.take||t.trivia||"follow"==t.typeOf}))).map((function(t){if("follow"!=t.typeOf){if(t.timeline.date=new Date(t.timeline.date),t.timeline.created=n.created(t.timeline),t.notification.date=new Date(t.notification.date),t.notification.created=n.created(t.notification),t.timeline.likedByUser=n.userHasLiked(t.timeline),t.thread&&t.threadTitle){var e=t.threadTitle.substring(0,40);t.titleToShow=e.length<t.threadTitle.length?t.threadTitle.substring(0,40)+"...":t.threadTitle}if(t.take&&t.takeTitle){var i=t.takeTitle.substring(0,40);t.titleToShow=i.length<t.takeTitle.length?t.takeTitle.substring(0,40)+"...":t.takeTitle}if(t.replyText){var o=t.replyText.substring(0,40);t.replyTextToShow=o.length<t.replyText.length?t.replyText.substring(0,40)+"...":t.replyText}}else t.date=new Date(t.date),t.created=n.created(t);return t}));n.notifications=e,n.authService.visibleNotifications=n.notifications,n.authService.notifications>0&&n.clearNotifications(),n.wait=!1,n.loadingNotis=!1,n.enableInfinite=!0}),(function(t){n.enableInfinite=!0,n.loadingNotis=!1,n.wait=!1}))}},{key:"created",value:function(t){var n,e=t.date.getTime(),i=((new Date).getTime()-e)/36e5;return i>=24?(n="d","".concat(Math.floor(i/24)).concat(n)):i<1&&i>0?(n="min","".concat(Math.ceil(60*i)).concat(n)):(n="h","".concat(Math.floor(i)).concat(n))}}]),t}(),j.\u0275fac=function(t){return new(t||j)(s.Mb(l.a),s.Mb(r.f),s.Mb(d.e),s.Mb(g.a))},j.\u0275cmp=s.Gb({type:j,selectors:[["app-notifications"]],decls:5,vars:2,consts:[[1,"main-container"],[1,"notifications-container"],["class","sorry",4,"ngIf"],[3,"notification",4,"ngFor","ngForOf"],[1,"sorry"],[3,"notification"]],template:function(t,n){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.rc(2,T,2,0,"div",2),s.Pb(3,"div"),s.rc(4,S,1,1,"app-notification-item",3),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.Bb(2),s.hc("ngIf",!n.wait&&!n.authService.visibleNotifications.length),s.Bb(2),s.hc("ngForOf",n.authService.visibleNotifications))},directives:[i.j,i.i,w],styles:["button[_ngcontent-%COMP%]{background:none;color:inherit;border:none;padding:0;font:inherit;cursor:pointer;outline:inherit}.notifications-container[_ngcontent-%COMP%]{width:45%;margin:0 auto;padding:20px 0}.noti[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:16px 16px 0;width:100%}.sorry[_ngcontent-%COMP%]{text-align:center;font-size:2rem;color:#232323;background:#fff;padding:30px 0;border-radius:8px}.no-permission[_ngcontent-%COMP%]{background:#f19019;color:#fff;text-align:center;padding:10px}.add-comment-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;margin-top:10px}.add-comment-container[_ngcontent-%COMP%]   .add-comment-user[_ngcontent-%COMP%]{margin-right:15px;width:40px}.add-comment-container[_ngcontent-%COMP%]   .add-comment-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50px;-o-object-fit:cover;object-fit:cover}.disabled[_ngcontent-%COMP%]{opacity:.6}.date[_ngcontent-%COMP%]{color:#b1b1b1}.ion-item-btn[_ngcontent-%COMP%]{border-bottom:1px solid #edeff1}.user-picture[_ngcontent-%COMP%]{height:40px;width:40px;-o-object-fit:cover;object-fit:cover;border-radius:50%;margin-right:10px;cursor:pointer}.flex-helper[_ngcontent-%COMP%]{min-height:40px;display:flex;align-items:center;flex:1}.d-level[_ngcontent-%COMP%]{height:20px;width:20px;-o-object-fit:contain;object-fit:contain;margin:-5px}.username[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.discussions-text[_ngcontent-%COMP%], .username[_ngcontent-%COMP%]{color:#14171a}.fixed-content[_ngcontent-%COMP%]{background:#edeff1}.notifications-icon[_ngcontent-%COMP%]{font-size:80px;margin-bottom:10px}.sign-btn[_ngcontent-%COMP%]{margin-bottom:10px}#sign-up-to[_ngcontent-%COMP%], .log-btn[_ngcontent-%COMP%], .sign-btn[_ngcontent-%COMP%]{font-weight:600}#sign-up-to[_ngcontent-%COMP%]{color:#3e3e3e;font-size:18px;display:inline-block;margin-bottom:10px}.sign-pic[_ngcontent-%COMP%]{height:100px;margin-bottom:20px}#logo[_ngcontent-%COMP%]{width:70%}#sports[_ngcontent-%COMP%]{height:55px}.not-logged[_ngcontent-%COMP%]{padding:16px;text-align:center;background:#fff;border-radius:10px;width:90%;margin:20% auto 0}.no-notifications[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:center;font-weight:600;color:#989898;font-size:20px;padding:0 32px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%}.no-notifications[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:15px;font-weight:600;display:inline-block;text-align:center}.no-notifications[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}#sign-in-btn[_ngcontent-%COMP%]{margin-top:20px;font-weight:600;color:#fff!important}.n-text[_ngcontent-%COMP%]{white-space:pre-wrap;color:#14171a;flex:1;margin:0;font-size:1.5rem!important;text-align:start}.d-created[_ngcontent-%COMP%]{color:#a2a4a6;font-size:14px;display:inline-block;margin-left:5px}.reply-div[_ngcontent-%COMP%]{margin-left:50px;margin-top:10px;display:flex;justify-content:flex-end}.likes[_ngcontent-%COMP%], .reply[_ngcontent-%COMP%]{font-size:14px;color:#a2a4a6;margin-left:5px}.reply[_ngcontent-%COMP%]{margin-right:10px;display:inline-block;margin-top:-1px;color:#7c7c7c;font-size:1.4rem}.game[_ngcontent-%COMP%], .likes[_ngcontent-%COMP%]{font-weight:500}.game[_ngcontent-%COMP%]{font-size:12px}#no-games[_ngcontent-%COMP%]{text-align:center;padding-top:50%;font-weight:600;color:#989898;font-size:20px}.ctoast[_ngcontent-%COMP%]{background-color:green;color:#fff;text-align:center}.placeholders[_ngcontent-%COMP%]{position:absolute;top:16px;right:0;bottom:0;left:0}.game[_ngcontent-%COMP%], .placeholder-item[_ngcontent-%COMP%]{height:90px;width:100%;margin-bottom:10px;background:#fff;position:relative;display:flex;align-items:center}.notification[_ngcontent-%COMP%]{padding-bottom:12px;background:#fff;margin-bottom:5px;border:1px solid #d6d6d6;border-radius:5px}.logos-container[_ngcontent-%COMP%], .placeholder-logos-container[_ngcontent-%COMP%]{width:70px;flex-direction:column;display:flex;height:100%;justify-content:center;align-items:center}.placeholder-flex-logos[_ngcontent-%COMP%]{height:40px;width:40px;background:#edeff1;border-radius:50%}.logo[_ngcontent-%COMP%]{height:40px;width:40px;-o-object-fit:contain;object-fit:contain}.placeholder-flex-name-1[_ngcontent-%COMP%]{height:15px;width:100%;background:#edeff1;border-radius:3px;margin-bottom:10px}.placeholder-flex-name-2[_ngcontent-%COMP%]{height:15px;width:70%;background:#edeff1;border-radius:3px}.names-container[_ngcontent-%COMP%], .placeholder-names-container[_ngcontent-%COMP%]{flex:1;padding-right:16px;flex-direction:column;display:flex;height:100%;justify-content:center}@media (max-width:960px){.notifications-container[_ngcontent-%COMP%]{width:100%!important;margin:0 auto!important;padding:20px 0!important}.main-container[_ngcontent-%COMP%]{padding:20px}}"]}),j),canActivate:[a.a]}],U=((z=function t(){_classCallCheck(this,t)}).\u0275mod=s.Kb({type:z}),z.\u0275inj=s.Jb({factory:function(t){return new(t||z)},imports:[[r.j.forChild(B)],r.j]}),z),N=((I=function t(){_classCallCheck(this,t)}).\u0275mod=s.Kb({type:I}),I.\u0275inj=s.Jb({factory:function(t){return new(t||I)},imports:[[i.b,o.a,c.g,c.o,U]]}),I)}}]);