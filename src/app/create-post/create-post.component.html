
<div class="new-post-container">
	<div class="sub-container">
		<h1 class="new-post-text">New Post</h1>

		
		<div class="drafts" *ngIf="!threadService.threadToEdit">
			
			<div class="type-container">
				<button class="type-button text-button" (click)="changeType('text', $event)" [class.active]="type == 'text'"
				><svg *ngIf="type == 'text'" class="bi bi-file-text" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
					<path fill-rule="evenodd" d="M4 1h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H4z"/>
					<path fill-rule="evenodd" d="M4.5 10.5A.5.5 0 0 1 5 10h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 4h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"/>
				  </svg>
				  
				  <svg *ngIf="type == 'poll'" class="bi bi-file" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
					<path fill-rule="evenodd" d="M4 1h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H4z"/>
				  </svg> Text</button>
				<button class="type-button" (click)="changeType('poll', $event)" [class.active]="type == 'poll'">
					<svg class="bi bi-bar-chart" *ngIf="type == 'text'" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M4 11H2v3h2v-3zm5-4H7v7h2V7zm5-5h-2v12h2V2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1h-2zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3z"/>
					  </svg>

					  <svg class="bi bi-bar-chart-fill" *ngIf="type == 'poll'" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
						<rect width="4" height="5" x="1" y="10" rx="1"/>
						<rect width="4" height="9" x="6" y="6" rx="1"/>
						<rect width="4" height="14" x="11" y="1" rx="1"/>
					  </svg>
					  
					 
					  Poll</button>
			</div>
			<div *ngIf="draft" class="divider"></div>
			<div class="drafts-container" *ngIf="draft" (click)="selectDraft()" >
				<button>
					<span class="draft-text">Drafts</span>
					<span class="draft-number">1</span>
				</button>
				
			</div>
			
			
			
		</div>
		<div class="steps-container">
			<button type="button" class="btn btn-outline-dark" (click)="saveDraft()"
				*ngIf="!threadService.threadToEdit">Save draft</button>
			<div class="posting-cont">
				<div class="spinner-border text-success" role="status" *ngIf="posting">
					<span class="sr-only">Posting...</span>
				</div>
				<button type="button" class="btn btn-outline-success" *ngIf="!editing && threadService.threadToEdit"
					(click)="saveChanges()">Save changes</button>
				<button type="button" class="btn btn-outline-success" *ngIf="!posting && !threadService.threadToEdit"
					(click)="submit()">Post</button>
			</div>

		</div>
	</div>

</div>

<div class="main-container">
	<div class="froala-container" >

		<div class="row">
			<div class="col-md-9 col-sm-12">
				<div class="form-container">
					<form  [formGroup]="stepOneForm">
						<div class="form-group row">
							<label for="league" class="col-sm-2 col-form-label">Feed</label>
							<div class="col-sm-10">
								<select class="form-control" formControlName="league" (change)="onTeamChange($event)">
									<option value="NBA">NBA</option>
									<option value="NFL">NFL</option>
									<option value="Soccer">Soccer</option>
									<option value="MLB">MLB</option>
									<option value="NHL">NHL</option>
									<option value="NCAAF">NCAAF</option>
									<option value="NCAAB">NCAAB</option>
									<option value="NFL Fantasy">NFL Fantasy</option>
									<option value="MMA">MMA</option>
									<option value="Boxing">Boxing</option>
									<option value="Tennis">Tennis</option>
									<option value="Golf">Golf</option>
									<option value="Motorsports">Motorsports</option>
									<option value="General">General</option>
								</select>
							</div>
						</div>
	
						<div class="form-group row">
							<label for="title" class="col-sm-2 col-form-label">Title <span
									class="count">({{count}})</span></label>
							<div class="col-sm-10">
								<input (keyup)="wordCount()" (keydown)="wordCount()" type="text" spellcheck="true"
									autocomplete="off" autocapitalize="on" formControlName="title" class="form-control"
									id="title" placeholder="Enter a title for your post" maxlength="120">
							</div>
						</div>
					
	
						<div class="no-poll" *ngIf="threadService.threadToEdit && type == 'poll'">
							<span>You can't edit poll options</span>
						</div>
	
						<div class="form-group row" *ngIf="type == 'poll' && !threadService.threadToEdit">
							<div formArrayName="options" *ngFor="let option of formData.controls; let i = index;"
								class="poll-flex">
								<div [formGroupName]="i" class="poll-group">
									<label class="col-form-label poll-labels col-sm-2">
										<span class="inner-no">{{i + 1}}</span>
									</label>
									<div class="poll-values col-sm-5">
										<input formControlName="pollOption" type="text" autocapitalize="on"
											autocomplete="off" class="form-control" id="poll" placeholder="Poll option"
											[attr.maxlength]=30>
									</div>
									<span *ngIf="i > 1" (click)="deleteOption(i)" class="delete-option">x</span>
								</div>
	
							</div>
	
							<div id="add-button-item" *ngIf="type == 'poll'">
								<button type="button" class="btn btn-outline-dark btn-sm" (click)="addOption()">Add another
									option</button>
							</div>
						</div>
	
						<div class="form-group row" *ngIf="teamsAvailable">
	
							<div formArrayName="postTeams" *ngFor="let postTeam of formDataT.controls; let i = index;"
								class="poll-flex">
								<div [formGroupName]="i" class="poll-group">
									<label for="league" class="col-sm-2 col-form-label">Team (optional)</label>
									<div class="col-sm-8">
										<select class="form-control" formControlName="postTeam">
											<option *ngFor="let team of teams" [value]="team.teamName">{{team.teamName}}
											</option>
										</select>
									</div>
									<span *ngIf="formDataT.controls[0].value.postTeam.length" (click)="deleteOptionT(i)"
										class="delete-option-t">Delete</span>
								</div>
	
							</div>
	
							<div id="add-button-item">
								<button type="button" class="btn btn-outline-dark btn-sm" (click)="addOptionT()">Add another
									team</button>
							</div>
							
						</div>
	
					</form>
				</div>
	
				<div [class.c-full]="fullscreen" [froalaEditor]="optionsFroala"
					(froalaInit)="initialize($event)" [(froalaModel)]="editorContent"></div>
			</div>
			<div class="col-md-3 col-sm-12">
				<div class="no-poll" *ngIf="threadService.threadToEdit">
					<span>You can't edit the cover image</span>
				</div>
				<div *ngIf="!threadService.threadToEdit">
					<span class="c-label">Cover Image</span> 
					<div class="low" *ngIf="lowQuality">
						The image is of low quality. We recommend you to select another image
					</div>
					<button type="button" class="btn btn-danger btn-sm" *ngIf="threadPicture"
						(click)="deletePicture()">Delete</button>
					<div>
						<input accept="image/*" (change)="onChange($event)" id="file" type="file"
							class="form-control-file inputfile" />
						<label id="label-profile-picture" for="file" *ngIf="!threadPicture">
							<img class="add-pic" src="assets/imgs/add.png" alt="">
						</label>
						<div class="image-container" *ngIf="threadPicture">
							<img class="thread-pic" [src]="threadPicture" alt="">
						</div>
					</div>
				</div>
	
				<div class="tips-container" *ngIf="showTips">
					<img class="close-tips" src="assets/imgs/close.png" alt="" (click)="closeTips()">
					<span class="c-label tips">Some tips</span>
					<ul>
						<!-- <li>If you want to add media to your post (Twitter, YouTube, Instagram, Giphy, etc.) the best way to do this is to select the option of "Embed URL" under the 'More Rich" button.</li> -->
						<li>To embed media from Youtube, Instagram, etc. click the "More Rich" button and then select "Embed URL"</li>
						<li>Images are used to support your written content. Every image needs to add something to the post,
							it shouldn't just be there for decoration.</li>
						<li>Tables come in handy when exposing data or stats.</li>
						<li>To add subheadings to your posts, click the "More Paragraph" button, then click "Paragraph
							Format" and select the "Subheading" option.</li>
					</ul>
				</div>
	
	
			</div>
	
		</div>
	
	</div>
</div>




